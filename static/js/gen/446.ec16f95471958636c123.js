"use strict";(this.webpackChunknotations=this.webpackChunknotations||[]).push([[446],{69(e,t,i){i(8767),i(3638),i(9702);var s=i(7834);i(5727),s.c},269(e,t,i){i.d(t,{T:()=>n});var s=i(9702);Object.keys({disableAutoResizing:void 0,disableDnd:void 0,className:void 0});class n extends s.rS{constructor(e,t,i,s){super(),this.nativeEvent=e,this.position=t,this.getData=i,this.panel=s}}},301(e,t,i){i.d(t,{y:()=>n});var s=i(9795);class n{get content(){return this._content}get tab(){return this._tab}constructor(e,t,i,s){this.accessor=e,this.id=t,this.contentComponent=i,this.tabComponent=s,this._content=this.createContentComponent(this.id,i),this._tab=this.createTabComponent(this.id,s)}createTabRenderer(e){var t;const i=this.createTabComponent(this.id,this.tabComponent);return this._params&&i.init(Object.assign(Object.assign({},this._params),{tabLocation:e})),this._updateEvent&&(null===(t=i.update)||void 0===t||t.call(i,this._updateEvent)),i}init(e){this._params=e,this.content.init(e),this.tab.init(Object.assign(Object.assign({},e),{tabLocation:"header"}))}layout(e,t){var i,s;null===(s=(i=this.content).layout)||void 0===s||s.call(i,e,t)}update(e){var t,i,s,n;this._updateEvent=e,null===(i=(t=this.content).update)||void 0===i||i.call(t,e),null===(n=(s=this.tab).update)||void 0===n||n.call(s,e)}dispose(){var e,t,i,s;null===(t=(e=this.content).dispose)||void 0===t||t.call(e),null===(s=(i=this.tab).dispose)||void 0===s||s.call(i)}createContentComponent(e,t){return this.accessor.options.createComponent({id:e,name:t})}createTabComponent(e,t){const i=null!=t?t:this.accessor.options.defaultTabComponent;if(i){if(this.accessor.options.createTabComponent){return this.accessor.options.createTabComponent({id:e,name:i})||new s.j}console.warn(`dockview: tabComponent '${t}' was not found. falling back to the default tab.`)}return new s.j}}},378(e,t,i){function s(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}function n(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function o(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.unshift(t))}function r(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.push(t))}function a(e,t){for(let i=0;i<e.length;i++)if(t(e[i]))return i;return-1}function h(e,t){const i=e.findIndex(e=>e===t);return i>-1&&(e.splice(i,1),!0)}i.d(t,{RT:()=>s,TF:()=>h,_A:()=>o,dK:()=>n,r7:()=>r,v4:()=>a})},839(e,t,i){Object.keys({orientation:void 0,descriptor:void 0,proportionalLayout:void 0,styles:void 0,margin:void 0,disableAutoResizing:void 0,className:void 0})},933(e,t,i){i.d(t,{Jt:()=>C,D7:()=>x,Ue:()=>y});var s=i(3757),n=i(6515),o=i(5727),r=i(9702),a=i(4937),h=i(8767),l=i(7283),d=i(9044),p=i(9406),m=i(9533);class c extends p.L{constructor(e,t,i,s){super(e,s),this.accessor=t,this.group=i,this.panelTransfer=n.PD.getInstance(),this.addDisposables((0,r.ko)(e,"pointerdown",e=>{e.shiftKey&&(0,o.HB)(e)},!0))}isCancelled(e){return"floating"===this.group.api.location.type&&!e.shiftKey}getData(e){const t=e.dataTransfer;this.panelTransfer.setData([new n.E2(this.accessor.id,this.group.id,null)],n.E2.prototype);const i=window.getComputedStyle(this.el),s=i.getPropertyValue("--dv-activegroup-visiblepanel-tab-background-color"),o=i.getPropertyValue("--dv-activegroup-visiblepanel-tab-color");if(t){const e=document.createElement("div");e.style.backgroundColor=s,e.style.color=o,e.style.padding="2px 8px",e.style.height="24px",e.style.fontSize="11px",e.style.lineHeight="20px",e.style.borderRadius="12px",e.style.position="absolute",e.style.pointerEvents="none",e.style.top="-9999px",e.textContent=`Multiple Panels (${this.group.size})`,(0,m.q)(t,e,{y:-10,x:30})}return{dispose:()=>{this.panelTransfer.clearData(n.E2.prototype)}}}}class u extends h.ke{get element(){return this._element}constructor(e,t){super(),this.accessor=e,this.group=t,this._onDrop=new r.vl,this.onDrop=this._onDrop.event,this._onDragStart=new r.vl,this.onDragStart=this._onDragStart.event,this._element=document.createElement("div"),this._element.className="dv-void-container",this._element.draggable=!this.accessor.options.disableDnd,(0,o.p1)(this._element,"dv-draggable",!this.accessor.options.disableDnd),this.addDisposables(this._onDrop,this._onDragStart,(0,r.ko)(this._element,"pointerdown",()=>{this.accessor.doSetGroupActive(this.group)})),this.handler=new c(this._element,e,t,!!this.accessor.options.disableDnd),this.dropTarget=new d.Lh(this._element,{acceptedTargetZones:["center"],canDisplayOverlay:(e,i)=>{const s=(0,n.lh)();return!(!s||this.accessor.id!==s.viewId)||t.model.canDisplayOverlay(e,i,"header_space")},getOverrideTarget:()=>{var e;return null===(e=t.model.dropTargetContainer)||void 0===e?void 0:e.model}}),this.onWillShowOverlay=this.dropTarget.onWillShowOverlay,this.addDisposables(this.handler,this.handler.onDragStart(e=>{this._onDragStart.fire(e)}),this.dropTarget.onDrop(e=>{this._onDrop.fire(e)}),this.dropTarget)}updateDragAndDropState(){this._element.draggable=!this.accessor.options.disableDnd,(0,o.p1)(this._element,"dv-draggable",!this.accessor.options.disableDnd),this.handler.setDisabled(!!this.accessor.options.disableDnd)}}var v=i(8805);class g extends h.ke{get element(){return this._element}constructor(e){super(),this.scrollableElement=e,this._scrollLeft=0,this._element=document.createElement("div"),this._element.className="dv-scrollable",this._horizontalScrollbar=document.createElement("div"),this._horizontalScrollbar.className="dv-scrollbar-horizontal",this.element.appendChild(e),this.element.appendChild(this._horizontalScrollbar),this.addDisposables((0,r.ko)(this.element,"wheel",e=>{this._scrollLeft+=e.deltaY*g.MouseWheelSpeed,this.calculateScrollbarStyles()}),(0,r.ko)(this._horizontalScrollbar,"pointerdown",e=>{e.preventDefault(),(0,o.p1)(this.element,"dv-scrollable-scrolling",!0);const t=e.clientX,i=this._scrollLeft,s=e=>{const s=e.clientX-t,{clientWidth:n}=this.element,{scrollWidth:o}=this.scrollableElement,r=n/o;this._scrollLeft=i+s/r,this.calculateScrollbarStyles()},n=()=>{(0,o.p1)(this.element,"dv-scrollable-scrolling",!1),document.removeEventListener("pointermove",s),document.removeEventListener("pointerup",n),document.removeEventListener("pointercancel",n)};document.addEventListener("pointermove",s),document.addEventListener("pointerup",n),document.addEventListener("pointercancel",n)}),(0,r.ko)(this.element,"scroll",()=>{this.calculateScrollbarStyles()}),(0,r.ko)(this.scrollableElement,"scroll",()=>{this._scrollLeft=this.scrollableElement.scrollLeft,this.calculateScrollbarStyles()}),(0,o.Gm)(this.element,()=>{(0,o.p1)(this.element,"dv-scrollable-resizing",!0),this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(()=>{clearTimeout(this._animationTimer),(0,o.p1)(this.element,"dv-scrollable-resizing",!1)},500),this.calculateScrollbarStyles()}))}calculateScrollbarStyles(){const{clientWidth:e}=this.element,{scrollWidth:t}=this.scrollableElement;if(t>e){const i=e*(e/t);this._horizontalScrollbar.style.width=`${i}px`,this._scrollLeft=(0,v.qE)(this._scrollLeft,0,this.scrollableElement.scrollWidth-e),this.scrollableElement.scrollLeft=this._scrollLeft;const s=this._scrollLeft/(t-e);this._horizontalScrollbar.style.left=(e-i)*s+"px"}else this._horizontalScrollbar.style.width="0px",this._horizontalScrollbar.style.left="0px",this._scrollLeft=0}}g.MouseWheelSpeed=1;var _=i(8060);class w extends h.ke{get showTabsOverflowControl(){return this._showTabsOverflowControl}set showTabsOverflowControl(e){if(this._showTabsOverflowControl!=e&&(this._showTabsOverflowControl=e,e)){const e=new o.zT(this._tabsList);this._observerDisposable.value=new h.ke(e,e.onDidChange(e=>{const t=e.hasScrollX||e.hasScrollY;this.toggleDropdown({reset:!t})}),(0,r.ko)(this._tabsList,"scroll",()=>{this.toggleDropdown({reset:!1})}))}}get element(){return this._element}get panels(){return this._tabs.map(e=>e.value.panel.id)}get size(){return this._tabs.length}get tabs(){return this._tabs.map(e=>e.value)}constructor(e,t,i){if(super(),this.group=e,this.accessor=t,this._observerDisposable=new h.HE,this._tabs=[],this.selectedIndex=-1,this._showTabsOverflowControl=!1,this._onTabDragStart=new r.vl,this.onTabDragStart=this._onTabDragStart.event,this._onDrop=new r.vl,this.onDrop=this._onDrop.event,this._onWillShowOverlay=new r.vl,this.onWillShowOverlay=this._onWillShowOverlay.event,this._onOverflowTabsChange=new r.vl,this.onOverflowTabsChange=this._onOverflowTabsChange.event,this._tabsList=document.createElement("div"),this._tabsList.className="dv-tabs-container dv-horizontal",this.showTabsOverflowControl=i.showTabsOverflowControl,"native"===t.options.scrollbars)this._element=this._tabsList;else{const e=new g(this._tabsList);this._element=e.element,this.addDisposables(e)}this.addDisposables(this._onOverflowTabsChange,this._observerDisposable,this._onWillShowOverlay,this._onDrop,this._onTabDragStart,(0,r.ko)(this.element,"pointerdown",e=>{e.defaultPrevented||0===e.button&&this.accessor.doSetGroupActive(this.group)}),h.jG.from(()=>{for(const{value:e,disposable:t}of this._tabs)t.dispose(),e.dispose();this._tabs=[]}))}indexOf(e){return this._tabs.findIndex(t=>t.value.panel.id===e)}isActive(e){return this.selectedIndex>-1&&this._tabs[this.selectedIndex].value===e}setActivePanel(e){let t=0;for(const i of this._tabs){const s=e.id===i.value.panel.id;if(i.value.setActive(s),s){const e=i.value.element,s=e.parentElement;(t<s.scrollLeft||t+e.clientWidth>s.scrollLeft+s.clientWidth)&&(s.scrollLeft=t)}t+=i.value.element.clientWidth}}openPanel(e,t=this._tabs.length){if(this._tabs.find(t=>t.value.panel.id===e.id))return;const i=new _.o(e,this.accessor,this.group);i.setContent(e.view.tab);const s=new h.ke(i.onDragStart(t=>{this._onTabDragStart.fire({nativeEvent:t,panel:e})}),i.onPointerDown(t=>{if(t.defaultPrevented)return;const s=!this.accessor.options.disableFloatingGroups,n="floating"===this.group.api.location.type&&1===this.size;if(s&&!n&&t.shiftKey){t.preventDefault();const e=this.accessor.getGroupPanel(i.panel.id),{top:s,left:n}=i.element.getBoundingClientRect(),{top:o,left:r}=this.accessor.element.getBoundingClientRect();return void this.accessor.addFloatingGroup(e,{x:n-r,y:s-o,inDragMode:!0})}0===t.button&&this.group.activePanel!==e&&this.group.model.openPanel(e)}),i.onDrop(e=>{this._onDrop.fire({event:e.nativeEvent,index:this._tabs.findIndex(e=>e.value===i)})}),i.onWillShowOverlay(e=>{this._onWillShowOverlay.fire(new a.d(e,{kind:"tab",panel:this.group.activePanel,api:this.accessor.api,group:this.group,getData:n.lh}))})),o={value:i,disposable:s};this.addTab(o,t)}delete(e){const t=this.indexOf(e),i=this._tabs.splice(t,1)[0],{value:s,disposable:n}=i;n.dispose(),s.dispose(),s.element.remove()}addTab(e,t=this._tabs.length){if(t<0||t>this._tabs.length)throw new Error("invalid location");this._tabsList.insertBefore(e.value.element,this._tabsList.children[t]),this._tabs=[...this._tabs.slice(0,t),e,...this._tabs.slice(t)],this.selectedIndex<0&&(this.selectedIndex=t)}toggleDropdown(e){const t=e.reset?[]:this._tabs.filter(e=>!(0,o.mu)(e.value.element,this._tabsList)).map(e=>e.value.panel.id);this._onOverflowTabsChange.fire({tabs:t,reset:e.reset})}updateDragAndDropState(){for(const e of this._tabs)e.value.updateDragAndDropState()}}var f=i(3637);class b extends h.ke{get onTabDragStart(){return this.tabs.onTabDragStart}get panels(){return this.tabs.panels}get size(){return this.tabs.size}get hidden(){return this._hidden}set hidden(e){this._hidden=e,this.element.style.display=e?"none":""}get element(){return this._element}constructor(e,t){super(),this.accessor=e,this.group=t,this._hidden=!1,this.dropdownPart=null,this._overflowTabs=[],this._dropdownDisposable=new h.HE,this._onDrop=new r.vl,this.onDrop=this._onDrop.event,this._onGroupDragStart=new r.vl,this.onGroupDragStart=this._onGroupDragStart.event,this._onWillShowOverlay=new r.vl,this.onWillShowOverlay=this._onWillShowOverlay.event,this._element=document.createElement("div"),this._element.className="dv-tabs-and-actions-container",(0,o.p1)(this._element,"dv-full-width-single-tab","fullwidth"===this.accessor.options.singleTabMode),this.rightActionsContainer=document.createElement("div"),this.rightActionsContainer.className="dv-right-actions-container",this.leftActionsContainer=document.createElement("div"),this.leftActionsContainer.className="dv-left-actions-container",this.preActionsContainer=document.createElement("div"),this.preActionsContainer.className="dv-pre-actions-container",this.tabs=new w(t,e,{showTabsOverflowControl:!e.options.disableTabsOverflowList}),this.voidContainer=new u(this.accessor,this.group),this._element.appendChild(this.preActionsContainer),this._element.appendChild(this.tabs.element),this._element.appendChild(this.leftActionsContainer),this._element.appendChild(this.voidContainer.element),this._element.appendChild(this.rightActionsContainer),this.addDisposables(this.tabs.onDrop(e=>this._onDrop.fire(e)),this.tabs.onWillShowOverlay(e=>this._onWillShowOverlay.fire(e)),e.onDidOptionsChange(()=>{this.tabs.showTabsOverflowControl=!e.options.disableTabsOverflowList}),this.tabs.onOverflowTabsChange(e=>{this.toggleDropdown(e)}),this.tabs,this._onWillShowOverlay,this._onDrop,this._onGroupDragStart,this.voidContainer,this.voidContainer.onDragStart(e=>{this._onGroupDragStart.fire({nativeEvent:e,group:this.group})}),this.voidContainer.onDrop(e=>{this._onDrop.fire({event:e.nativeEvent,index:this.tabs.size})}),this.voidContainer.onWillShowOverlay(e=>{this._onWillShowOverlay.fire(new a.d(e,{kind:"header_space",panel:this.group.activePanel,api:this.accessor.api,group:this.group,getData:n.lh}))}),(0,r.ko)(this.voidContainer.element,"pointerdown",e=>{if(!e.defaultPrevented&&!this.accessor.options.disableFloatingGroups&&e.shiftKey&&"floating"!==this.group.api.location.type){e.preventDefault();const{top:t,left:i}=this.element.getBoundingClientRect(),{top:s,left:n}=this.accessor.element.getBoundingClientRect();this.accessor.addFloatingGroup(this.group,{x:i-n+20,y:t-s+20,inDragMode:!0})}}))}show(){this.hidden||(this.element.style.display="")}hide(){this._element.style.display="none"}setRightActionsElement(e){this.rightActions!==e&&(this.rightActions&&(this.rightActions.remove(),this.rightActions=void 0),e&&(this.rightActionsContainer.appendChild(e),this.rightActions=e))}setLeftActionsElement(e){this.leftActions!==e&&(this.leftActions&&(this.leftActions.remove(),this.leftActions=void 0),e&&(this.leftActionsContainer.appendChild(e),this.leftActions=e))}setPrefixActionsElement(e){this.preActions!==e&&(this.preActions&&(this.preActions.remove(),this.preActions=void 0),e&&(this.preActionsContainer.appendChild(e),this.preActions=e))}isActive(e){return this.tabs.isActive(e)}indexOf(e){return this.tabs.indexOf(e)}setActive(e){}delete(e){this.tabs.delete(e),this.updateClassnames()}setActivePanel(e){this.tabs.setActivePanel(e)}openPanel(e,t=this.tabs.size){this.tabs.openPanel(e,t),this.updateClassnames()}closePanel(e){this.delete(e.id)}updateClassnames(){(0,o.p1)(this._element,"dv-single-tab",1===this.size)}toggleDropdown(e){const t=e.reset?[]:e.tabs;if(this._overflowTabs=t,this._overflowTabs.length>0&&this.dropdownPart)return void this.dropdownPart.update({tabs:t.length});if(0===this._overflowTabs.length)return void this._dropdownDisposable.dispose();const i=document.createElement("div");i.className="dv-tabs-overflow-dropdown-root";const s=function(){const e=document.createElement("div");e.className="dv-tabs-overflow-dropdown-default";const t=document.createElement("span");t.textContent="";const i=(0,f.oK)();return e.appendChild(i),e.appendChild(t),{element:e,update:e=>{t.textContent=`${e.tabs}`}}}();s.update({tabs:t.length}),this.dropdownPart=s,i.appendChild(s.element),this.rightActionsContainer.prepend(i),this._dropdownDisposable.value=new h.ke(h.jG.from(()=>{var e,t;i.remove(),null===(t=null===(e=this.dropdownPart)||void 0===e?void 0:e.dispose)||void 0===t||t.call(e),this.dropdownPart=null}),(0,r.ko)(i,"pointerdown",e=>{e.preventDefault()},{capture:!0}),(0,r.ko)(i,"click",e=>{const t=document.createElement("div");t.style.overflow="auto",t.className="dv-tabs-overflow-container";for(const e of this.tabs.tabs.filter(e=>this._overflowTabs.includes(e.panel.id))){const i=this.group.panels.find(t=>t===e.panel),s=i.view.createTabRenderer("headerOverflow").element,n=document.createElement("div");(0,o.p1)(n,"dv-tab",!0),(0,o.p1)(n,"dv-active-tab",i.api.isActive),(0,o.p1)(n,"dv-inactive-tab",!i.api.isActive),n.addEventListener("click",t=>{this.accessor.popupService.close(),t.defaultPrevented||(e.element.scrollIntoView(),e.panel.api.setActive())}),n.appendChild(s),t.appendChild(n)}const s=(0,o.Si)(i);this.accessor.popupService.openPopover(t,{x:e.clientX,y:e.clientY,zIndex:(null==s?void 0:s.style.zIndex)?`calc(${s.style.zIndex} * 2)`:void 0})}))}updateDragAndDropState(){this.tabs.updateDragAndDropState(),this.voidContainer.updateDragAndDropState()}}var D=i(7772);class C extends r.l0{get nativeEvent(){return this.options.nativeEvent}get position(){return this.options.position}get panel(){return this.options.panel}get group(){return this.options.group}get api(){return this.options.api}constructor(e){super(),this.options=e}getData(){return this.options.getData()}}class y extends C{get kind(){return this._kind}constructor(e){super(e),this._kind=e.kind}}class x extends h.ke{get element(){throw new Error("dockview: not supported")}get activePanel(){return this._activePanel}get locked(){return this._locked}set locked(e){this._locked=e,(0,o.p1)(this.container,"dv-locked-groupview","no-drop-target"===e||e)}get isActive(){return this._isGroupActive}get panels(){return this._panels}get size(){return this._panels.length}get isEmpty(){return 0===this._panels.length}get hasWatermark(){return!(!this.watermark||!this.container.contains(this.watermark.element))}get header(){return this.tabsContainer}get isContentFocused(){return!!document.activeElement&&(0,o.QX)(document.activeElement,this.contentContainer.element)}get location(){return this._location}set location(e){switch(this._location=e,(0,o.p1)(this.container,"dv-groupview-floating",!1),(0,o.p1)(this.container,"dv-groupview-popout",!1),e.type){case"grid":this.contentContainer.dropTarget.setTargetZones(["top","bottom","left","right","center"]);break;case"floating":this.contentContainer.dropTarget.setTargetZones(["center"]),this.contentContainer.dropTarget.setTargetZones(e?["center"]:["top","bottom","left","right","center"]),(0,o.p1)(this.container,"dv-groupview-floating",!0);break;case"popout":this.contentContainer.dropTarget.setTargetZones(["center"]),(0,o.p1)(this.container,"dv-groupview-popout",!0)}this.groupPanel.api._onDidLocationChange.fire({location:this.location})}constructor(e,t,i,h,d){var p;super(),this.container=e,this.accessor=t,this.id=i,this.options=h,this.groupPanel=d,this._isGroupActive=!1,this._locked=!1,this._location={type:"grid"},this.mostRecentlyUsed=[],this._overwriteRenderContainer=null,this._overwriteDropTargetContainer=null,this._onDidChange=new r.vl,this.onDidChange=this._onDidChange.event,this._width=0,this._height=0,this._panels=[],this._panelDisposables=new Map,this._onMove=new r.vl,this.onMove=this._onMove.event,this._onDidDrop=new r.vl,this.onDidDrop=this._onDidDrop.event,this._onWillDrop=new r.vl,this.onWillDrop=this._onWillDrop.event,this._onWillShowOverlay=new r.vl,this.onWillShowOverlay=this._onWillShowOverlay.event,this._onTabDragStart=new r.vl,this.onTabDragStart=this._onTabDragStart.event,this._onGroupDragStart=new r.vl,this.onGroupDragStart=this._onGroupDragStart.event,this._onDidAddPanel=new r.vl,this.onDidAddPanel=this._onDidAddPanel.event,this._onDidPanelTitleChange=new r.vl,this.onDidPanelTitleChange=this._onDidPanelTitleChange.event,this._onDidPanelParametersChange=new r.vl,this.onDidPanelParametersChange=this._onDidPanelParametersChange.event,this._onDidRemovePanel=new r.vl,this.onDidRemovePanel=this._onDidRemovePanel.event,this._onDidActivePanelChange=new r.vl,this.onDidActivePanelChange=this._onDidActivePanelChange.event,this._onUnhandledDragOverEvent=new r.vl,this.onUnhandledDragOverEvent=this._onUnhandledDragOverEvent.event,(0,o.p1)(this.container,"dv-groupview",!0),this._api=new s.dW(this.accessor),this.tabsContainer=new b(this.accessor,this.groupPanel),this.contentContainer=new l.x(this.accessor,this),e.append(this.tabsContainer.element,this.contentContainer.element),this.header.hidden=!!h.hideHeader,this.locked=null!==(p=h.locked)&&void 0!==p&&p,this.addDisposables(this._onTabDragStart,this._onGroupDragStart,this._onWillShowOverlay,this.tabsContainer.onTabDragStart(e=>{this._onTabDragStart.fire(e)}),this.tabsContainer.onGroupDragStart(e=>{this._onGroupDragStart.fire(e)}),this.tabsContainer.onDrop(e=>{this.handleDropEvent("header",e.event,"center",e.index)}),this.contentContainer.onDidFocus(()=>{this.accessor.doSetGroupActive(this.groupPanel)}),this.contentContainer.onDidBlur(()=>{}),this.contentContainer.dropTarget.onDrop(e=>{this.handleDropEvent("content",e.nativeEvent,e.position)}),this.tabsContainer.onWillShowOverlay(e=>{this._onWillShowOverlay.fire(e)}),this.contentContainer.dropTarget.onWillShowOverlay(e=>{this._onWillShowOverlay.fire(new a.d(e,{kind:"content",panel:this.activePanel,api:this._api,group:this.groupPanel,getData:n.lh}))}),this._onMove,this._onDidChange,this._onDidDrop,this._onWillDrop,this._onDidAddPanel,this._onDidRemovePanel,this._onDidActivePanelChange,this._onUnhandledDragOverEvent,this._onDidPanelTitleChange,this._onDidPanelParametersChange)}focusContent(){this.contentContainer.element.focus()}set renderContainer(e){this.panels.forEach(e=>{this.renderContainer.detatch(e)}),this._overwriteRenderContainer=e,this.panels.forEach(e=>{this.rerender(e)})}get renderContainer(){var e;return null!==(e=this._overwriteRenderContainer)&&void 0!==e?e:this.accessor.overlayRenderContainer}set dropTargetContainer(e){this._overwriteDropTargetContainer=e}get dropTargetContainer(){var e;return null!==(e=this._overwriteDropTargetContainer)&&void 0!==e?e:this.accessor.rootDropTargetContainer}initialize(){this.options.panels&&this.options.panels.forEach(e=>{this.doAddPanel(e)}),this.options.activePanel&&this.openPanel(this.options.activePanel),this.setActive(this.isActive,!0),this.updateContainer(),this.accessor.options.createRightHeaderActionComponent&&(this._rightHeaderActions=this.accessor.options.createRightHeaderActionComponent(this.groupPanel),this.addDisposables(this._rightHeaderActions),this._rightHeaderActions.init({containerApi:this._api,api:this.groupPanel.api,group:this.groupPanel}),this.tabsContainer.setRightActionsElement(this._rightHeaderActions.element)),this.accessor.options.createLeftHeaderActionComponent&&(this._leftHeaderActions=this.accessor.options.createLeftHeaderActionComponent(this.groupPanel),this.addDisposables(this._leftHeaderActions),this._leftHeaderActions.init({containerApi:this._api,api:this.groupPanel.api,group:this.groupPanel}),this.tabsContainer.setLeftActionsElement(this._leftHeaderActions.element)),this.accessor.options.createPrefixHeaderActionComponent&&(this._prefixHeaderActions=this.accessor.options.createPrefixHeaderActionComponent(this.groupPanel),this.addDisposables(this._prefixHeaderActions),this._prefixHeaderActions.init({containerApi:this._api,api:this.groupPanel.api,group:this.groupPanel}),this.tabsContainer.setPrefixActionsElement(this._prefixHeaderActions.element))}rerender(e){this.contentContainer.renderPanel(e,{asActive:!1})}indexOf(e){return this.tabsContainer.indexOf(e.id)}toJSON(){var e;const t={views:this.tabsContainer.panels,activeView:null===(e=this._activePanel)||void 0===e?void 0:e.id,id:this.id};return!1!==this.locked&&(t.locked=this.locked),this.header.hidden&&(t.hideHeader=!0),t}moveToNext(e){e||(e={}),e.panel||(e.panel=this.activePanel);const t=e.panel?this.panels.indexOf(e.panel):-1;let i;if(t<this.panels.length-1)i=t+1;else{if(e.suppressRoll)return;i=0}this.openPanel(this.panels[i])}moveToPrevious(e){if(e||(e={}),e.panel||(e.panel=this.activePanel),!e.panel)return;const t=this.panels.indexOf(e.panel);let i;if(t>0)i=t-1;else{if(e.suppressRoll)return;i=this.panels.length-1}this.openPanel(this.panels[i])}containsPanel(e){return this.panels.includes(e)}init(e){}update(e){}focus(){var e;null===(e=this._activePanel)||void 0===e||e.focus()}openPanel(e,t={}){("number"!=typeof t.index||t.index>this.panels.length)&&(t.index=this.panels.length);const i=!!t.skipSetActive;e.updateParentGroup(this.groupPanel,{skipSetActive:t.skipSetActive}),this.doAddPanel(e,t.index,{skipSetActive:i}),this._activePanel!==e?(i||this.doSetActivePanel(e),t.skipSetGroupActive||this.accessor.doSetGroupActive(this.groupPanel),t.skipSetActive||this.updateContainer()):this.contentContainer.renderPanel(e,{asActive:!0})}removePanel(e,t={skipSetActive:!1}){const i="string"==typeof e?e:e.id,s=this._panels.find(e=>e.id===i);if(!s)throw new Error("invalid operation");return this._removePanel(s,t)}closeAllPanels(){if(this.panels.length>0){const e=[...this.panels];for(const t of e)this.doClose(t)}else this.accessor.removeGroup(this.groupPanel)}closePanel(e){this.doClose(e)}doClose(e){const t=1===this.panels.length&&1===this.accessor.groups.length;this.accessor.removePanel(e,t&&"emptyGroup"===this.accessor.options.noPanelsOverlay?{removeEmptyGroup:!1}:void 0)}isPanelActive(e){return this._activePanel===e}updateActions(e){this.tabsContainer.setRightActionsElement(e)}setActive(e,t=!1){(t||this.isActive!==e)&&(this._isGroupActive=e,(0,o.p1)(this.container,"dv-active-group",e),(0,o.p1)(this.container,"dv-inactive-group",!e),this.tabsContainer.setActive(this.isActive),!this._activePanel&&this.panels.length>0&&this.doSetActivePanel(this.panels[0]),this.updateContainer())}layout(e,t){var i;this._width=e,this._height=t,this.contentContainer.layout(this._width,this._height),(null===(i=this._activePanel)||void 0===i?void 0:i.layout)&&this._activePanel.layout(this._width,this._height)}_removePanel(e,t){const i=this._activePanel===e;if(this.doRemovePanel(e),i&&this.panels.length>0){const e=this.mostRecentlyUsed[0];this.openPanel(e,{skipSetActive:t.skipSetActive,skipSetGroupActive:t.skipSetActiveGroup})}return this._activePanel&&0===this.panels.length&&this.doSetActivePanel(void 0),t.skipSetActive||this.updateContainer(),e}doRemovePanel(e){const t=this.panels.indexOf(e);if(this._activePanel===e&&this.contentContainer.closePanel(),this.tabsContainer.delete(e.id),this._panels.splice(t,1),this.mostRecentlyUsed.includes(e)){const t=this.mostRecentlyUsed.indexOf(e);this.mostRecentlyUsed.splice(t,1)}const i=this._panelDisposables.get(e.id);i&&(i.dispose(),this._panelDisposables.delete(e.id)),this._onDidRemovePanel.fire({panel:e})}doAddPanel(e,t=this.panels.length,i={skipSetActive:!1}){const s=this._panels.indexOf(e)>-1;this.tabsContainer.show(),this.contentContainer.show(),this.tabsContainer.openPanel(e,t),i.skipSetActive||this.contentContainer.openPanel(e),s||(this.updateMru(e),this.panels.splice(t,0,e),this._panelDisposables.set(e.id,new h.ke(e.api.onDidTitleChange(e=>this._onDidPanelTitleChange.fire(e)),e.api.onDidParametersChange(e=>this._onDidPanelParametersChange.fire(e)))),this._onDidAddPanel.fire({panel:e}))}doSetActivePanel(e){this._activePanel!==e&&(this._activePanel=e,e&&(this.tabsContainer.setActivePanel(e),this.contentContainer.openPanel(e),e.layout(this._width,this._height),this.updateMru(e),this.contentContainer.refreshFocusState(),this._onDidActivePanelChange.fire({panel:e})))}updateMru(e){this.mostRecentlyUsed.includes(e)&&this.mostRecentlyUsed.splice(this.mostRecentlyUsed.indexOf(e),1),this.mostRecentlyUsed=[e,...this.mostRecentlyUsed]}updateContainer(){var e,t;if(this.panels.forEach(e=>e.runEvents()),this.isEmpty&&!this.watermark){const e=this.accessor.createWatermarkComponent();e.init({containerApi:this._api,group:this.groupPanel}),this.watermark=e,(0,r.ko)(this.watermark.element,"pointerdown",()=>{this.isActive||this.accessor.doSetGroupActive(this.groupPanel)}),this.contentContainer.element.appendChild(this.watermark.element)}!this.isEmpty&&this.watermark&&(this.watermark.element.remove(),null===(t=(e=this.watermark).dispose)||void 0===t||t.call(e),this.watermark=void 0)}canDisplayOverlay(e,t,i){const s=new D.MW(e,i,t,n.lh,this.accessor.getPanel(this.id));return this._onUnhandledDragOverEvent.fire(s),s.isAccepted}handleDropEvent(e,t,i,s){if("no-drop-target"===this.locked)return;const o="number"==typeof s?this.panels[s]:void 0,r=new y({nativeEvent:t,position:i,panel:o,getData:()=>(0,n.lh)(),kind:function(){switch(e){case"header":return"number"==typeof s?"tab":"header_space";case"content":return"content"}}(),group:this.groupPanel,api:this._api});if(this._onWillDrop.fire(r),r.defaultPrevented)return;const a=(0,n.lh)();if(a&&a.viewId===this.accessor.id){if("content"===e&&a.groupId===this.id){if("center"===i)return;if(null===a.panelId)return}if("header"===e&&a.groupId===this.id&&null===a.panelId)return;if(null===a.panelId){const{groupId:e}=a;return void this._onMove.fire({target:i,groupId:e,index:s})}if(-1!==this.tabsContainer.indexOf(a.panelId)&&1===this.tabsContainer.size)return;const{groupId:t,panelId:n}=a;if(this.id===t&&!i&&this.tabsContainer.indexOf(n)===s)return;this._onMove.fire({target:i,groupId:a.groupId,itemId:a.panelId,index:s})}else this._onDidDrop.fire(new C({nativeEvent:t,position:i,panel:o,getData:()=>(0,n.lh)(),group:this.groupPanel,api:this._api}))}updateDragAndDropState(){this.tabsContainer.updateDragAndDropState()}dispose(){var e,t,i;super.dispose(),null===(e=this.watermark)||void 0===e||e.element.remove(),null===(i=null===(t=this.watermark)||void 0===t?void 0:t.dispose)||void 0===i||i.call(t),this.watermark=void 0;for(const e of this.panels)e.dispose();this.tabsContainer.dispose(),this.contentContainer.dispose()}}},1520(e,t,i){i.d(t,{p:()=>o});var s=i(9702),n=i(8767);class o extends n.ke{constructor(e,t){super(),this.element=e,this.callbacks=t,this.target=null,this.registerListeners()}onDragEnter(e){this.target=e.target,this.callbacks.onDragEnter(e)}onDragOver(e){e.preventDefault(),this.callbacks.onDragOver&&this.callbacks.onDragOver(e)}onDragLeave(e){this.target===e.target&&(this.target=null,this.callbacks.onDragLeave(e))}onDragEnd(e){this.target=null,this.callbacks.onDragEnd(e)}onDrop(e){this.callbacks.onDrop(e)}registerListeners(){this.addDisposables((0,s.ko)(this.element,"dragenter",e=>{this.onDragEnter(e)},!0)),this.addDisposables((0,s.ko)(this.element,"dragover",e=>{this.onDragOver(e)},!0)),this.addDisposables((0,s.ko)(this.element,"dragleave",e=>{this.onDragLeave(e)})),this.addDisposables((0,s.ko)(this.element,"dragend",e=>{this.onDragEnd(e)})),this.addDisposables((0,s.ko)(this.element,"drop",e=>{this.onDrop(e)}))}}},2253(e,t,i){i.d(t,{IR:()=>g,CS:()=>m,yC:()=>c,ks:()=>u});var s=i(3638),n=i(378),o=i(9702);class r{get minimumWidth(){return this.view.minimumWidth}get maximumWidth(){return this.view.maximumWidth}get minimumHeight(){return this.view.minimumHeight}get maximumHeight(){return this.view.maximumHeight}get priority(){return this.view.priority}get snap(){return this.view.snap}get minimumSize(){return this.orientation===s.t4.HORIZONTAL?this.minimumHeight:this.minimumWidth}get maximumSize(){return this.orientation===s.t4.HORIZONTAL?this.maximumHeight:this.maximumWidth}get minimumOrthogonalSize(){return this.orientation===s.t4.HORIZONTAL?this.minimumWidth:this.minimumHeight}get maximumOrthogonalSize(){return this.orientation===s.t4.HORIZONTAL?this.maximumWidth:this.maximumHeight}get orthogonalSize(){return this._orthogonalSize}get size(){return this._size}get element(){return this.view.element}get width(){return this.orientation===s.t4.HORIZONTAL?this.orthogonalSize:this.size}get height(){return this.orientation===s.t4.HORIZONTAL?this.size:this.orthogonalSize}constructor(e,t,i,n=0){this.view=e,this.orientation=t,this._onDidChange=new o.vl,this.onDidChange=this._onDidChange.event,this._orthogonalSize=i,this._size=n,this._disposable=this.view.onDidChange(e=>{e?this._onDidChange.fire({size:this.orientation===s.t4.VERTICAL?e.width:e.height,orthogonalSize:this.orientation===s.t4.VERTICAL?e.height:e.width}):this._onDidChange.fire({})})}setVisible(e){this.view.setVisible&&this.view.setVisible(e)}layout(e,t){this._size=e,this._orthogonalSize=t,this.view.layout(this.width,this.height)}dispose(){this._onDidChange.dispose(),this._disposable.dispose()}}var a=i(8767);class h extends a.ke{get width(){return this.orientation===s.t4.HORIZONTAL?this.size:this.orthogonalSize}get height(){return this.orientation===s.t4.HORIZONTAL?this.orthogonalSize:this.size}get minimumSize(){return 0===this.children.length?0:Math.max(...this.children.map((e,t)=>this.splitview.isViewVisible(t)?e.minimumOrthogonalSize:0))}get maximumSize(){return Math.min(...this.children.map((e,t)=>this.splitview.isViewVisible(t)?e.maximumOrthogonalSize:Number.POSITIVE_INFINITY))}get minimumOrthogonalSize(){return this.splitview.minimumSize}get maximumOrthogonalSize(){return this.splitview.maximumSize}get orthogonalSize(){return this._orthogonalSize}get size(){return this._size}get minimumWidth(){return this.orientation===s.t4.HORIZONTAL?this.minimumOrthogonalSize:this.minimumSize}get minimumHeight(){return this.orientation===s.t4.HORIZONTAL?this.minimumSize:this.minimumOrthogonalSize}get maximumWidth(){return this.orientation===s.t4.HORIZONTAL?this.maximumOrthogonalSize:this.maximumSize}get maximumHeight(){return this.orientation===s.t4.HORIZONTAL?this.maximumSize:this.maximumOrthogonalSize}get priority(){if(0===this.children.length)return s.Jl.Normal;const e=this.children.map(e=>void 0===e.priority?s.Jl.Normal:e.priority);return e.some(e=>e===s.Jl.High)?s.Jl.High:e.some(e=>e===s.Jl.Low)?s.Jl.Low:s.Jl.Normal}get disabled(){return this.splitview.disabled}set disabled(e){this.splitview.disabled=e}get margin(){return this.splitview.margin}set margin(e){this.splitview.margin=e,this.children.forEach(t=>{t instanceof h&&(t.margin=e)})}constructor(e,t,i,n,h,l,d,p){if(super(),this.orientation=e,this.proportionalLayout=t,this.styles=i,this._childrenDisposable=a.jG.NONE,this.children=[],this._onDidChange=new o.vl,this.onDidChange=this._onDidChange.event,this._onDidVisibilityChange=new o.vl,this.onDidVisibilityChange=this._onDidVisibilityChange.event,this._orthogonalSize=h,this._size=n,this.element=document.createElement("div"),this.element.className="dv-branch-node",p){const e={views:p.map(e=>({view:e.node,size:e.node.size,visible:!(e.node instanceof r&&void 0!==e.visible)||e.visible})),size:this.orthogonalSize};this.children=p.map(e=>e.node),this.splitview=new s.eD(this.element,{orientation:this.orientation,descriptor:e,proportionalLayout:t,styles:i,margin:d})}else this.splitview=new s.eD(this.element,{orientation:this.orientation,proportionalLayout:t,styles:i,margin:d}),this.splitview.layout(this.size,this.orthogonalSize);this.disabled=l,this.addDisposables(this._onDidChange,this._onDidVisibilityChange,this.splitview.onDidSashEnd(()=>{this._onDidChange.fire({})})),this.setupChildrenEvents()}setVisible(e){}isChildVisible(e){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.isViewVisible(e)}setChildVisible(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");if(this.splitview.isViewVisible(e)===t)return;const i=0===this.splitview.contentSize;this.splitview.setViewVisible(e,t);const s=0===this.splitview.contentSize;(t&&i||!t&&s)&&this._onDidVisibilityChange.fire({visible:t})}moveChild(e,t){if(e===t)return;if(e<0||e>=this.children.length)throw new Error("Invalid from index");e<t&&t--,this.splitview.moveView(e,t);const i=this._removeChild(e);this._addChild(i,t)}getChildSize(e){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewSize(e)}resizeChild(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");this.splitview.resizeView(e,t)}layout(e,t){this._size=t,this._orthogonalSize=e,this.splitview.layout(t,e)}addChild(e,t,i,s){if(i<0||i>this.children.length)throw new Error("Invalid index");this.splitview.addView(e,t,i,s),this._addChild(e,i)}getChildCachedVisibleSize(e){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewCachedVisibleSize(e)}removeChild(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.removeView(e,t),this._removeChild(e)}_addChild(e,t){this.children.splice(t,0,e),this.setupChildrenEvents()}_removeChild(e){const[t]=this.children.splice(e,1);return this.setupChildrenEvents(),t}setupChildrenEvents(){this._childrenDisposable.dispose(),this._childrenDisposable=new a.ke(o.Jh.any(...this.children.map(e=>e.onDidChange))(e=>{this._onDidChange.fire({size:e.orthogonalSize})}),...this.children.map((e,t)=>e instanceof h?e.onDidVisibilityChange(({visible:e})=>{this.setChildVisible(t,e)}):a.jG.NONE))}dispose(){this._childrenDisposable.dispose(),this.splitview.dispose(),this.children.forEach(e=>e.dispose()),super.dispose()}}function l(e,t){if(e instanceof r)return e;if(e instanceof h)return l(e.children[t?e.children.length-1:0],t);throw new Error("invalid node")}function d(e,t,i){if(e instanceof h){const s=new h(e.orientation,e.proportionalLayout,e.styles,t,i,e.disabled,e.margin);for(let t=e.children.length-1;t>=0;t--){const i=e.children[t];s.addChild(d(i,i.size,i.orthogonalSize),i.size,0,!0)}return s}return new r(e.view,e.orientation,i)}function p(e,t,i){if(e instanceof h){const s=new h(u(e.orientation),e.proportionalLayout,e.styles,t,i,e.disabled,e.margin);let n=0;for(let o=e.children.length-1;o>=0;o--){const r=e.children[o],a=r instanceof h?r.orthogonalSize:r.size;let l=0===e.size?0:Math.round(t*a/e.size);n+=l,0===o&&(l+=t-n),s.addChild(p(r,i,l),l,0,!0)}return s}return new r(e.view,u(e.orientation),i)}function m(e){const t=e.parentElement;if(!t)throw new Error("Invalid grid element");if(/\bdv-grid-view\b/.test(t.className))return[];const i=function(e){const t=e.parentElement;if(!t)throw new Error("Invalid grid element");let i=t.firstElementChild,s=0;for(;i!==e&&i!==t.lastElementChild&&i;)i=i.nextElementSibling,s++;return s}(t);return[...m(t.parentElement.parentElement.parentElement),i]}function c(e,t,i){const o=function(e,t){return t.length%2==0?u(e):e}(e,t),r=function(e){return"top"===e||"bottom"===e?s.t4.VERTICAL:s.t4.HORIZONTAL}(i);if(o===r){const[e,s]=(0,n.RT)(t);let o=s;return"right"!==i&&"bottom"!==i||(o+=1),[...e,o]}{const e="right"===i||"bottom"===i?1:0;return[...t,e]}}const u=e=>e===s.t4.HORIZONTAL?s.t4.VERTICAL:s.t4.HORIZONTAL,v=(e,t)=>{const i=t===s.t4.VERTICAL?e.box.width:e.box.height;return function(e){return!!e.children}(e)?{type:"branch",data:e.children.map(e=>v(e,u(t))),size:i}:"number"==typeof e.cachedVisibleSize?{type:"leaf",data:e.view.toJSON(),size:e.cachedVisibleSize,visible:!1}:{type:"leaf",data:e.view.toJSON(),size:i}};class g{get length(){return this._root?this._root.children.length:0}get orientation(){return this.root.orientation}set orientation(e){if(this.root.orientation===e)return;const{size:t,orthogonalSize:i}=this.root;this.root=p(this.root,i,t),this.root.layout(t,i)}get width(){return this.root.width}get height(){return this.root.height}get minimumWidth(){return this.root.minimumWidth}get minimumHeight(){return this.root.minimumHeight}get maximumWidth(){return this.root.maximumHeight}get maximumHeight(){return this.root.maximumHeight}get locked(){return this._locked}set locked(e){this._locked=e;const t=[this.root];for(;t.length>0;){const i=t.pop();i instanceof h&&(i.disabled=e,t.push(...i.children))}}get margin(){return this._margin}set margin(e){this._margin=e,this.root.margin=e}maximizedView(){var e;return null===(e=this._maximizedNode)||void 0===e?void 0:e.leaf.view}hasMaximizedView(){return void 0!==this._maximizedNode}maximizeView(e){var t;const i=m(e.element),[s,n]=this.getNode(i);if(!(n instanceof r))return;if((null===(t=this._maximizedNode)||void 0===t?void 0:t.leaf)===n)return;this.hasMaximizedView()&&this.exitMaximizedView(),v(this.getView(),this.orientation);const o=[];!function e(t,i){for(let s=0;s<t.children.length;s++){const n=t.children[s];n instanceof r?n!==i&&(t.isChildVisible(s)?t.setChildVisible(s,!1):o.push(n)):e(n,i)}}(this.root,n),this._maximizedNode={leaf:n,hiddenOnMaximize:o},this._onDidMaximizedNodeChange.fire({view:n.view,isMaximized:!0})}exitMaximizedView(){if(!this._maximizedNode)return;const e=this._maximizedNode.hiddenOnMaximize;!function t(i){for(let s=i.children.length-1;s>=0;s--){const n=i.children[s];n instanceof r?e.includes(n)||i.setChildVisible(s,!0):t(n)}}(this.root);const t=this._maximizedNode.leaf;this._maximizedNode=void 0,this._onDidMaximizedNodeChange.fire({view:t.view,isMaximized:!1})}serialize(){const e=this.maximizedView();let t;e&&(t=m(e.element)),this.hasMaximizedView()&&this.exitMaximizedView();const i={root:v(this.getView(),this.orientation),width:this.width,height:this.height,orientation:this.orientation};return t&&(i.maximizedNode={location:t}),e&&this.maximizeView(e),i}dispose(){this.disposable.dispose(),this._onDidChange.dispose(),this._onDidMaximizedNodeChange.dispose(),this._onDidViewVisibilityChange.dispose(),this.root.dispose(),this._maximizedNode=void 0,this.element.remove()}clear(){const e=this.root.orientation;this.root=new h(e,this.proportionalLayout,this.styles,this.root.size,this.root.orthogonalSize,this.locked,this.margin)}deserialize(e,t){const i=e.orientation,n=i===s.t4.VERTICAL?e.height:e.width;if(this._deserialize(e.root,i,t,n),this.layout(e.width,e.height),e.maximizedNode){const t=e.maximizedNode.location,[i,s]=this.getNode(t);if(!(s instanceof r))return;this.maximizeView(s.view)}}_deserialize(e,t,i,s){this.root=this._deserializeNode(e,t,i,s)}_deserializeNode(e,t,i,s){var n;let o;if("branch"===e.type){const n=e.data.map(s=>({node:this._deserializeNode(s,u(t),i,e.size),visible:s.visible}));o=new h(t,this.proportionalLayout,this.styles,e.size,s,this.locked,this.margin,n)}else{const a=i.fromJSON(e);"boolean"==typeof e.visible&&(null===(n=a.setVisible)||void 0===n||n.call(a,e.visible)),o=new r(a,t,s,e.size)}return o}get root(){return this._root}set root(e){const t=this._root;t&&(t.dispose(),this._maximizedNode=void 0,this.element.removeChild(t.element)),this._root=e,this.element.appendChild(this._root.element),this.disposable.value=this._root.onDidChange(e=>{this._onDidChange.fire(e)})}normalize(){if(!this._root)return;if(1!==this._root.children.length)return;const e=this.root,t=e.children[0];if(t instanceof r)return;e.element.remove();const i=e.removeChild(0);e.dispose(),i.dispose(),this._root=d(t,t.size,t.orthogonalSize),this.element.appendChild(this._root.element),this.disposable.value=this._root.onDidChange(e=>{this._onDidChange.fire(e)})}insertOrthogonalSplitviewAtRoot(){if(!this._root)return;const e=this.root;if(e.element.remove(),this._root=new h(u(e.orientation),this.proportionalLayout,this.styles,this.root.orthogonalSize,this.root.size,this.locked,this.margin),0===e.children.length);else if(1===e.children.length){const t=e.children[0];e.removeChild(0).dispose(),e.dispose(),this._root.addChild(p(t,t.orthogonalSize,t.size),s.XQ.Distribute,0)}else this._root.addChild(e,s.XQ.Distribute,0);this.element.appendChild(this._root.element),this.disposable.value=this._root.onDidChange(e=>{this._onDidChange.fire(e)})}next(e){return this.progmaticSelect(e)}previous(e){return this.progmaticSelect(e,!0)}getView(e){const t=e?this.getNode(e)[1]:this.root;return this._getViews(t,this.orientation)}_getViews(e,t,i){const s={height:e.height,width:e.width};if(e instanceof r)return{box:s,view:e.view,cachedVisibleSize:i};const n=[];for(let i=0;i<e.children.length;i++){const s=e.children[i],o=e.getChildCachedVisibleSize(i);n.push(this._getViews(s,u(t),o))}return{box:s,children:n}}progmaticSelect(e,t=!1){const[i,s]=this.getNode(e);if(!(s instanceof r))throw new Error("invalid location");for(let s=i.length-1;s>-1;s--){const n=i[s],o=e[s]||0;if(t?o-1>-1:o+1<n.children.length)return l(n.children[t?o-1:o+1],t)}return l(this.root,t)}constructor(e,t,i,s,n){this.proportionalLayout=e,this.styles=t,this._locked=!1,this._margin=0,this._maximizedNode=void 0,this.disposable=new a.HE,this._onDidChange=new o.vl,this.onDidChange=this._onDidChange.event,this._onDidViewVisibilityChange=new o.vl,this.onDidViewVisibilityChange=this._onDidViewVisibilityChange.event,this._onDidMaximizedNodeChange=new o.vl,this.onDidMaximizedNodeChange=this._onDidMaximizedNodeChange.event,this.element=document.createElement("div"),this.element.className="dv-grid-view",this._locked=null!=s&&s,this._margin=null!=n?n:0,this.root=new h(i,e,t,0,0,this.locked,this.margin)}isViewVisible(e){const[t,i]=(0,n.RT)(e),[,s]=this.getNode(t);if(!(s instanceof h))throw new Error("Invalid from location");return s.isChildVisible(i)}setViewVisible(e,t){this.hasMaximizedView()&&this.exitMaximizedView();const[i,s]=(0,n.RT)(e),[,o]=this.getNode(i);if(!(o instanceof h))throw new Error("Invalid from location");this._onDidViewVisibilityChange.fire(),o.setChildVisible(s,t)}moveView(e,t,i){this.hasMaximizedView()&&this.exitMaximizedView();const[,s]=this.getNode(e);if(!(s instanceof h))throw new Error("Invalid location");s.moveChild(t,i)}addView(e,t,i){this.hasMaximizedView()&&this.exitMaximizedView();const[o,a]=(0,n.RT)(i),[l,d]=this.getNode(o);if(d instanceof h){const i=new r(e,u(d.orientation),d.orthogonalSize);d.addChild(i,t,a)}else{const[i,...n]=[...l].reverse(),[p,...m]=[...o].reverse();let c=0;const u=i.getChildCachedVisibleSize(p);"number"==typeof u&&(c=s.XQ.Invisible(u)),i.removeChild(p).dispose();const v=new h(d.orientation,this.proportionalLayout,this.styles,d.size,d.orthogonalSize,this.locked,this.margin);i.addChild(v,d.size,p);const g=new r(d.view,i.orientation,d.size);v.addChild(g,c,0),"number"!=typeof t&&"split"===t.type&&(t={type:"split",index:0});const _=new r(e,i.orientation,d.size);v.addChild(_,t,a)}}remove(e,t){const i=m(e.element);return this.removeView(i,t)}removeView(e,t){this.hasMaximizedView()&&this.exitMaximizedView();const[i,o]=(0,n.RT)(e),[a,l]=this.getNode(i);if(!(l instanceof h))throw new Error("Invalid location");const d=l.children[o];if(!(d instanceof r))throw new Error("Invalid location");if(l.removeChild(o,t),d.dispose(),1!==l.children.length)return d.view;const p=l.children[0];if(0===a.length)return p instanceof r||(l.removeChild(0,t),this.root=p),d.view;const[m,...c]=[...a].reverse(),[v,...g]=[...i].reverse(),_=l.isChildVisible(0);l.removeChild(0,t);const w=m.children.map((e,t)=>m.getChildSize(t));if(m.removeChild(v,t).dispose(),p instanceof h){w.splice(v,1,...p.children.map(e=>e.size));for(let e=0;e<p.children.length;e++){const t=p.children[e];m.addChild(t,t.size,v+e)}for(;p.children.length>0;)p.removeChild(0)}else{const e=new r(p.view,u(p.orientation),p.size),t=_?p.orthogonalSize:s.XQ.Invisible(p.orthogonalSize);m.addChild(e,t,v)}p.dispose();for(let e=0;e<w.length;e++)m.resizeChild(e,w[e]);return d.view}layout(e,t){const[i,n]=this.root.orientation===s.t4.HORIZONTAL?[t,e]:[e,t];this.root.layout(i,n)}getNode(e,t=this.root,i=[]){if(0===e.length)return[i,t];if(!(t instanceof h))throw new Error("Invalid location");const[s,...n]=e;if(s<0||s>=t.children.length)throw new Error("Invalid location");const o=t.children[s];return i.push(t),this.getNode(n,o,i)}}},2700(e,t,i){i.d(t,{n:()=>n});var s=i(8767);class n extends s.ke{get element(){return this._element}constructor(){super(),this._element=document.createElement("div"),this._element.className="dv-watermark"}init(e){}}},3326(e,t,i){i.d(t,{l:()=>n});var s=i(8767);class n extends s.ke{get disabled(){return this._disabled}set disabled(e){var t;this.disabled!==e&&(this._disabled=e,e&&(null===(t=this.model)||void 0===t||t.clear()))}get model(){if(!this.disabled)return{clear:()=>{var e;this._model&&(null===(e=this._model.root.parentElement)||void 0===e||e.removeChild(this._model.root)),this._model=void 0},exists:()=>!!this._model,getElements:(e,t)=>{const i=this._outline!==t;if(this._outline=t,this._model)return this._model.changed=i,this._model;const s=this.createContainer(),n=this.createAnchor();if(this._model={root:s,overlay:n,changed:i},s.appendChild(n),this.element.appendChild(s),(null==e?void 0:e.target)instanceof HTMLElement){const t=e.target.getBoundingClientRect(),i=this.element.getBoundingClientRect();n.style.left=t.left-i.left+"px",n.style.top=t.top-i.top+"px"}return this._model}}}constructor(e,t){super(),this.element=e,this._disabled=!1,this._disabled=t.disabled,this.addDisposables(s.jG.from(()=>{var e;null===(e=this.model)||void 0===e||e.clear()}))}createContainer(){const e=document.createElement("div");return e.className="dv-drop-target-container",e}createAnchor(){const e=document.createElement("div");return e.className="dv-drop-target-anchor",e.style.visibility="hidden",e}}},3368(e,t,i){i.d(t,{$:()=>r,X:()=>o});var s=i(9702),n=i(8767);class o extends s.l0{constructor(){super()}}class r extends n.ke{get isFocused(){return this._isFocused}get isActive(){return this._isActive}get isVisible(){return this._isVisible}get width(){return this._width}get height(){return this._height}constructor(e,t){super(),this.id=e,this.component=t,this._isFocused=!1,this._isActive=!1,this._isVisible=!0,this._width=0,this._height=0,this._parameters={},this.panelUpdatesDisposable=new n.HE,this._onDidDimensionChange=new s.vl,this.onDidDimensionsChange=this._onDidDimensionChange.event,this._onDidChangeFocus=new s.vl,this.onDidFocusChange=this._onDidChangeFocus.event,this._onWillFocus=new s.vl,this.onWillFocus=this._onWillFocus.event,this._onDidVisibilityChange=new s.vl,this.onDidVisibilityChange=this._onDidVisibilityChange.event,this._onWillVisibilityChange=new s.vl,this.onWillVisibilityChange=this._onWillVisibilityChange.event,this._onDidActiveChange=new s.vl,this.onDidActiveChange=this._onDidActiveChange.event,this._onActiveChange=new s.vl,this.onActiveChange=this._onActiveChange.event,this._onDidParametersChange=new s.vl,this.onDidParametersChange=this._onDidParametersChange.event,this.addDisposables(this.onDidFocusChange(e=>{this._isFocused=e.isFocused}),this.onDidActiveChange(e=>{this._isActive=e.isActive}),this.onDidVisibilityChange(e=>{this._isVisible=e.isVisible}),this.onDidDimensionsChange(e=>{this._width=e.width,this._height=e.height}),this.panelUpdatesDisposable,this._onDidDimensionChange,this._onDidChangeFocus,this._onDidVisibilityChange,this._onDidActiveChange,this._onWillFocus,this._onActiveChange,this._onWillFocus,this._onWillVisibilityChange,this._onDidParametersChange)}getParameters(){return this._parameters}initialize(e){this.panelUpdatesDisposable.value=this._onDidParametersChange.event(t=>{this._parameters=t,e.update({params:t})})}setVisible(e){this._onWillVisibilityChange.fire({isVisible:e})}setActive(){this._onActiveChange.fire()}updateParameters(e){this._onDidParametersChange.fire(e)}}},3483(e,t,i){i.d(t,{R:()=>r});var s=i(7056),n=i(301),o=i(3757);class r{constructor(e){this.accessor=e}fromJSON(e,t){var i,r;const a=e.id,h=e.params,l=e.title,d=e.view,p=d?d.content.id:null!==(i=e.contentComponent)&&void 0!==i?i:"unknown",m=d?null===(r=d.tab)||void 0===r?void 0:r.id:e.tabComponent,c=new n.y(this.accessor,a,p,m),u=new s.p(a,p,m,this.accessor,new o.dW(this.accessor),t,c,{renderer:e.renderer,minimumWidth:e.minimumWidth,minimumHeight:e.minimumHeight,maximumWidth:e.maximumWidth,maximumHeight:e.maximumHeight});return u.init({title:null!=l?l:a,params:null!=h?h:{}}),u}}},3637(e,t,i){i.d(t,{oK:()=>r,p$:()=>n,qK:()=>o});const s=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"height",e.height),t.setAttributeNS(null,"width",e.width),t.setAttributeNS(null,"viewBox",e.viewbox),t.setAttributeNS(null,"aria-hidden","false"),t.setAttributeNS(null,"focusable","false"),t.classList.add("dv-svg");const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttributeNS(null,"d",e.path),t.appendChild(i),t},n=()=>s({width:"11",height:"11",viewbox:"0 0 28 28",path:"M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z"}),o=()=>s({width:"11",height:"11",viewbox:"0 0 24 15",path:"M12 14.15L0 2.15L2.15 0L12 9.9L21.85 0.0499992L24 2.2L12 14.15Z"}),r=()=>s({width:"11",height:"11",viewbox:"0 0 15 25",path:"M2.15 24.1L0 21.95L9.9 12.05L0 2.15L2.15 0L14.2 12.05L2.15 24.1Z"})},3638(e,t,i){i.d(t,{Jl:()=>o,t4:()=>s,XQ:()=>r,eD:()=>m});var s,n,o,r,a=i(5727),h=i(9702),l=i(378),d=i(8805);class p{set size(e){this._size=e}get size(){return this._size}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return void 0===this._cachedVisibleSize}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,s){this.container=e,this.view=t,this.disposable=s,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}setVisible(e,t){var i;e!==this.visible&&(e?(this.size=(0,d.qE)(null!==(i=this._cachedVisibleSize)&&void 0!==i?i:0,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}dispose(){return this.disposable.dispose(),this.view}}!function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(s||(s={})),function(e){e[e.MAXIMUM=0]="MAXIMUM",e[e.MINIMUM=1]="MINIMUM",e[e.DISABLED=2]="DISABLED",e[e.ENABLED=3]="ENABLED"}(n||(n={})),function(e){e.Low="low",e.High="high",e.Normal="normal"}(o||(o={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(r||(r={}));class m{get contentSize(){return this._contentSize}get size(){return this._size}set size(e){this._size=e}get orthogonalSize(){return this._orthogonalSize}set orthogonalSize(e){this._orthogonalSize=e}get length(){return this.viewItems.length}get proportions(){return this._proportions?[...this._proportions]:void 0}get orientation(){return this._orientation}set orientation(e){this._orientation=e;const t=this.size;this.size=this.orthogonalSize,this.orthogonalSize=t,(0,a.jo)(this.element,"dv-horizontal","dv-vertical"),this.element.classList.add(this.orientation==s.HORIZONTAL?"dv-horizontal":"dv-vertical")}get minimumSize(){return this.viewItems.reduce((e,t)=>e+t.minimumSize,0)}get maximumSize(){return 0===this.length?Number.POSITIVE_INFINITY:this.viewItems.reduce((e,t)=>e+t.maximumSize,0)}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}get disabled(){return this._disabled}set disabled(e){this._disabled=e,(0,a.p1)(this.element,"dv-splitview-disabled",e)}get margin(){return this._margin}set margin(e){this._margin=e,(0,a.p1)(this.element,"dv-splitview-has-margin",0!==e)}constructor(e,t){var i,n;this.container=e,this.viewItems=[],this.sashes=[],this._size=0,this._orthogonalSize=0,this._contentSize=0,this._proportions=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this._disabled=!1,this._margin=0,this._onDidSashEnd=new h.vl,this.onDidSashEnd=this._onDidSashEnd.event,this._onDidAddView=new h.vl,this.onDidAddView=this._onDidAddView.event,this._onDidRemoveView=new h.vl,this.onDidRemoveView=this._onDidRemoveView.event,this.resize=(e,t,i=this.viewItems.map(e=>e.size),s,n,o=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,a,h)=>{if(e<0||e>this.viewItems.length)return 0;const p=(0,d.y1)(e,-1),m=(0,d.y1)(e+1,this.viewItems.length);if(n)for(const e of n)(0,l._A)(p,e),(0,l._A)(m,e);if(s)for(const e of s)(0,l.r7)(p,e),(0,l.r7)(m,e);const c=p.map(e=>this.viewItems[e]),u=p.map(e=>i[e]),v=m.map(e=>this.viewItems[e]),g=m.map(e=>i[e]),_=p.reduce((e,t)=>e+this.viewItems[t].minimumSize-i[t],0),w=p.reduce((e,t)=>e+this.viewItems[t].maximumSize-i[t],0),f=0===m.length?Number.POSITIVE_INFINITY:m.reduce((e,t)=>e+i[t]-this.viewItems[t].minimumSize,0),b=0===m.length?Number.NEGATIVE_INFINITY:m.reduce((e,t)=>e+i[t]-this.viewItems[t].maximumSize,0),D=Math.max(_,b),C=Math.min(f,w);let y=!1;if(a){const e=this.viewItems[a.index],i=t>=a.limitDelta;y=i!==e.visible,e.setVisible(i,a.size)}if(!y&&h){const e=this.viewItems[h.index],i=t<h.limitDelta;y=i!==e.visible,e.setVisible(i,h.size)}if(y)return this.resize(e,t,i,s,n,o,r);let x=0,z=(0,d.qE)(t,D,C);for(let e=0;e<c.length;e++){const t=c[e],i=(0,d.qE)(u[e]+z,t.minimumSize,t.maximumSize),s=i-u[e];x+=s,z-=s,t.size=i}let S=x;for(let e=0;e<v.length;e++){const t=v[e],i=(0,d.qE)(g[e]-S,t.minimumSize,t.maximumSize);S+=i-g[e],t.size=i}return t},this._orientation=null!==(i=t.orientation)&&void 0!==i?i:s.VERTICAL,this.element=this.createContainer(),this.margin=null!==(n=t.margin)&&void 0!==n?n:0,this.proportionalLayout=void 0===t.proportionalLayout||!!t.proportionalLayout,this.viewContainer=this.createViewContainer(),this.sashContainer=this.createSashContainer(),this.element.appendChild(this.sashContainer),this.element.appendChild(this.viewContainer),this.container.appendChild(this.element),this.style(t.styles),t.descriptor&&(this._size=t.descriptor.size,t.descriptor.views.forEach((e,t)=>{const i=void 0===e.visible||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},s=e.view;this.addView(s,i,t,!0)}),this._contentSize=this.viewItems.reduce((e,t)=>e+t.size,0),this.saveProportions())}style(e){"transparent"===(null==e?void 0:e.separatorBorder)?((0,a.jo)(this.element,"dv-separator-border"),this.element.style.removeProperty("--dv-separator-border")):((0,a.gR)(this.element,"dv-separator-border"),(null==e?void 0:e.separatorBorder)&&this.element.style.setProperty("--dv-separator-border",e.separatorBorder))}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");const i=this.viewItems[e];i.setVisible(t,i.size),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}resizeView(e,t){if(e<0||e>=this.viewItems.length)return;const i=(0,d.y1)(this.viewItems.length).filter(t=>t!==e),s=[...i.filter(e=>this.viewItems[e].priority===o.Low),e],n=i.filter(e=>this.viewItems[e].priority===o.High),r=this.viewItems[e];t=Math.round(t),t=(0,d.qE)(t,r.minimumSize,Math.min(r.maximumSize,this._size)),r.size=t,this.relayout(s,n)}getViews(){return this.viewItems.map(e=>e.view)}onDidChange(e,t){const i=this.viewItems.indexOf(e);if(i<0||i>=this.viewItems.length)return;t="number"==typeof t?t:e.size,t=(0,d.qE)(t,e.minimumSize,e.maximumSize),e.size=t;const s=(0,d.y1)(this.viewItems.length).filter(e=>e!==i),n=[...s.filter(e=>this.viewItems[e].priority===o.Low),i],r=s.filter(e=>this.viewItems[e].priority===o.High);this.relayout([...n,i],r)}addView(e,t={type:"distribute"},i=this.viewItems.length,n){const o=document.createElement("div");let r;o.className="dv-view",o.appendChild(e.element),r="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const h=e.onDidChange(e=>this.onDidChange(m,e.size)),m=new p(o,e,r,{dispose:()=>{h.dispose(),this.viewContainer.removeChild(o)}});if(i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i)),this.viewItems.splice(i,0,m),this.viewItems.length>1){const e=document.createElement("div");e.className="dv-sash";const t=t=>{for(const e of this.viewItems)e.enabled=!1;const i=(0,a.cU)(),n=this._orientation===s.HORIZONTAL?t.clientX:t.clientY,o=(0,l.v4)(this.sashes,t=>t.container===e),r=this.viewItems.map(e=>e.size);let h,p;const m=(0,d.y1)(o,-1),c=(0,d.y1)(o+1,this.viewItems.length),u=m.reduce((e,t)=>e+(this.viewItems[t].minimumSize-r[t]),0),v=m.reduce((e,t)=>e+(this.viewItems[t].viewMaximumSize-r[t]),0),g=0===c.length?Number.POSITIVE_INFINITY:c.reduce((e,t)=>e+(r[t]-this.viewItems[t].minimumSize),0),_=0===c.length?Number.NEGATIVE_INFINITY:c.reduce((e,t)=>e+(r[t]-this.viewItems[t].viewMaximumSize),0),w=Math.max(u,_),f=Math.min(g,v),b=this.findFirstSnapIndex(m),D=this.findFirstSnapIndex(c);if("number"==typeof b){const e=this.viewItems[b],t=Math.floor(e.viewMinimumSize/2);h={index:b,limitDelta:e.visible?w-t:w+t,size:e.size}}if("number"==typeof D){const e=this.viewItems[D],t=Math.floor(e.viewMinimumSize/2);p={index:D,limitDelta:e.visible?f+t:f-t,size:e.size}}const C=e=>{const t=(this._orientation===s.HORIZONTAL?e.clientX:e.clientY)-n;this.resize(o,t,r,void 0,void 0,w,f,h,p),this.distributeEmptySpace(),this.layoutViews()},y=()=>{for(const e of this.viewItems)e.enabled=!0;i.release(),this.saveProportions(),document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",y),document.removeEventListener("pointercancel",y),document.removeEventListener("contextmenu",y),this._onDidSashEnd.fire(void 0)};document.addEventListener("pointermove",C),document.addEventListener("pointerup",y),document.addEventListener("pointercancel",y),document.addEventListener("contextmenu",y)};e.addEventListener("pointerdown",t);const i={container:e,disposable:()=>{e.removeEventListener("pointerdown",t),this.sashContainer.removeChild(e)}};this.sashContainer.appendChild(e),this.sashes.push(i)}n||this.relayout([i]),n||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes(),this._onDidAddView.fire(e)}distributeViewSizes(){const e=[];let t=0;for(const i of this.viewItems)i.maximumSize-i.minimumSize>0&&(e.push(i),t+=i.size);const i=Math.floor(t/e.length);for(const t of e)t.size=(0,d.qE)(i,t.minimumSize,t.maximumSize);const s=(0,d.y1)(this.viewItems.length),n=s.filter(e=>this.viewItems[e].priority===o.Low),r=s.filter(e=>this.viewItems[e].priority===o.High);this.relayout(n,r)}removeView(e,t,i=!1){const s=this.viewItems.splice(e,1)[0];if(s.dispose(),this.viewItems.length>=1){const t=Math.max(e-1,0);this.sashes.splice(t,1)[0].disposable()}return i||this.relayout(),t&&"distribute"===t.type&&this.distributeViewSizes(),this._onDidRemoveView.fire(s.view),s.view}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}moveView(e,t){const i=this.getViewCachedVisibleSize(e),s=void 0===i?this.getViewSize(e):r.Invisible(i),n=this.removeView(e,void 0,!0);this.addView(n,s,t)}layout(e,t){const i=Math.max(this.size,this._contentSize);if(this.size=e,this.orthogonalSize=t,this.proportions){let t=0;for(let i=0;i<this.viewItems.length;i++){const s=this.viewItems[i],n=this.proportions[i];"number"==typeof n?t+=n:e-=s.size}for(let i=0;i<this.viewItems.length;i++){const s=this.viewItems[i],n=this.proportions[i];"number"==typeof n&&t>0&&(s.size=(0,d.qE)(Math.round(n*e/t),s.minimumSize,s.maximumSize))}}else{const t=(0,d.y1)(this.viewItems.length),s=t.filter(e=>this.viewItems[e].priority===o.Low),n=t.filter(e=>this.viewItems[e].priority===o.High);this.resize(this.viewItems.length-1,e-i,void 0,s,n)}this.distributeEmptySpace(),this.layoutViews()}relayout(e,t){const i=this.viewItems.reduce((e,t)=>e+t.size,0);this.resize(this.viewItems.length-1,this._size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}distributeEmptySpace(e){const t=this.viewItems.reduce((e,t)=>e+t.size,0);let i=this.size-t;const s=(0,d.y1)(this.viewItems.length-1,-1),n=s.filter(e=>this.viewItems[e].priority===o.Low),r=s.filter(e=>this.viewItems[e].priority===o.High);for(const e of r)(0,l._A)(s,e);for(const e of n)(0,l.r7)(s,e);"number"==typeof e&&(0,l.r7)(s,e);for(let e=0;0!==i&&e<s.length;e++){const t=this.viewItems[s[e]],n=(0,d.qE)(t.size+i,t.minimumSize,t.maximumSize);i-=n-t.size,t.size=n}}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this._proportions=this.viewItems.map(e=>e.visible?e.size/this._contentSize:void 0))}layoutViews(){if(this._contentSize=this.viewItems.reduce((e,t)=>e+t.size,0),this.updateSashEnablement(),0===this.viewItems.length)return;const e=this.viewItems.filter(e=>e.visible),t=Math.max(0,e.length-1),i=this.margin*t/Math.max(1,e.length);let n=0;const o=[],r=this.viewItems.reduce((e,t,i)=>{const s=t.visible?1:0;return 0===i?e.push(s):e.push(e[i-1]+s),e},[]);this.viewItems.forEach((e,a)=>{n+=this.viewItems[a].size,o.push(n);const h=e.visible?e.size-i:0,l=Math.max(0,r[a]-1),d=0===a||0===l?0:o[a-1]+l/t*i;if(a<this.viewItems.length-1){const t=e.visible?d+h-2+this.margin/2:d;this._orientation===s.HORIZONTAL&&(this.sashes[a].container.style.left=`${t}px`,this.sashes[a].container.style.top="0px"),this._orientation===s.VERTICAL&&(this.sashes[a].container.style.left="0px",this.sashes[a].container.style.top=`${t}px`)}this._orientation===s.HORIZONTAL&&(e.container.style.width=`${h}px`,e.container.style.left=`${d}px`,e.container.style.top="",e.container.style.height=""),this._orientation===s.VERTICAL&&(e.container.style.height=`${h}px`,e.container.style.top=`${d}px`,e.container.style.width="",e.container.style.left=""),e.view.layout(e.size-i,this._orthogonalSize)})}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}updateSashEnablement(){let e=!1;const t=this.viewItems.map(t=>e=t.size-t.minimumSize>0||e);e=!1;const i=this.viewItems.map(t=>e=t.maximumSize-t.size>0||e),s=[...this.viewItems].reverse();e=!1;const o=s.map(t=>e=t.size-t.minimumSize>0||e).reverse();e=!1;const r=s.map(t=>e=t.maximumSize-t.size>0||e).reverse();let a=0;for(let e=0;e<this.sashes.length;e++){const s=this.sashes[e];a+=this.viewItems[e].size;const h=!(t[e]&&r[e+1]),l=!(i[e]&&o[e+1]);if(h&&l){const i=(0,d.y1)(e,-1),r=(0,d.y1)(e+1,this.viewItems.length),h=this.findFirstSnapIndex(i),l=this.findFirstSnapIndex(r),p="number"==typeof h&&!this.viewItems[h].visible,m="number"==typeof l&&!this.viewItems[l].visible;p&&o[e]&&(a>0||this.startSnappingEnabled)?this.updateSash(s,n.MINIMUM):m&&t[e]&&(a<this._contentSize||this.endSnappingEnabled)?this.updateSash(s,n.MAXIMUM):this.updateSash(s,n.DISABLED)}else h&&!l?this.updateSash(s,n.MINIMUM):!h&&l?this.updateSash(s,n.MAXIMUM):this.updateSash(s,n.ENABLED)}}updateSash(e,t){(0,a.p1)(e.container,"dv-disabled",t===n.DISABLED),(0,a.p1)(e.container,"dv-enabled",t===n.ENABLED),(0,a.p1)(e.container,"dv-maximum",t===n.MAXIMUM),(0,a.p1)(e.container,"dv-minimum",t===n.MINIMUM)}createViewContainer(){const e=document.createElement("div");return e.className="dv-view-container",e}createSashContainer(){const e=document.createElement("div");return e.className="dv-sash-container",e}createContainer(){const e=document.createElement("div"),t=this._orientation===s.HORIZONTAL?"dv-horizontal":"dv-vertical";return e.className=`dv-split-view-container ${t}`,e}dispose(){this._onDidSashEnd.dispose(),this._onDidAddView.dispose(),this._onDidRemoveView.dispose();for(let e=0;e<this.element.children.length;e++)if(this.element.children.item(e)===this.element){this.element.removeChild(this.element);break}for(const e of this.viewItems)e.dispose();this.element.remove()}}},3722(e,t,i){i.d(t,{O:()=>r});var s=i(5727),n=i(9702),o=i(8767);class r extends o.ke{constructor(e){super(),this.root=e,this._active=null,this._activeDisposable=new o.HE,this._element=document.createElement("div"),this._element.className="dv-popover-anchor",this._element.style.position="relative",this.root.prepend(this._element),this.addDisposables(o.jG.from(()=>{this.close()}),this._activeDisposable)}openPopover(e,t){var i;this.close();const r=document.createElement("div");r.style.position="absolute",r.style.zIndex=null!==(i=t.zIndex)&&void 0!==i?i:"var(--dv-overlay-z-index)",r.appendChild(e);const a=this._element.getBoundingClientRect(),h=a.left,l=a.top;r.style.top=t.y-l+"px",r.style.left=t.x-h+"px",this._element.appendChild(r),this._active=r,this._activeDisposable.value=new o.ke((0,n.ko)(window,"pointerdown",e=>{var t;const i=e.target;if(!(i instanceof HTMLElement))return;let s=i;for(;s&&s!==r;)s=null!==(t=null==s?void 0:s.parentElement)&&void 0!==t?t:null;s||this.close()})),requestAnimationFrame(()=>{(0,s.n7)(r,this.root)})}close(){this._active&&(this._active.remove(),this._activeDisposable.dispose(),this._active=null)}}},3757(e,t,i){i.d(t,{IY:()=>s,dW:()=>n});class s{get minimumSize(){return this.component.minimumSize}get maximumSize(){return this.component.maximumSize}get width(){return this.component.width}get height(){return this.component.height}get panels(){return this.component.panels}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get onDidAddView(){return this.component.onDidAddView}get onDidRemoveView(){return this.component.onDidRemoveView}get onDidDrop(){return this.component.onDidDrop}get onUnhandledDragOverEvent(){return this.component.onUnhandledDragOverEvent}constructor(e){this.component=e}removePanel(e){this.component.removePanel(e)}getPanel(e){return this.component.getPanel(e)}movePanel(e,t){this.component.movePanel(e,t)}focus(){this.component.focus()}layout(e,t){this.component.layout(e,t)}addPanel(e){return this.component.addPanel(e)}fromJSON(e){this.component.fromJSON(e)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}updateOptions(e){this.component.updateOptions(e)}dispose(){this.component.dispose()}}class n{get id(){return this.component.id}get width(){return this.component.width}get height(){return this.component.height}get minimumHeight(){return this.component.minimumHeight}get maximumHeight(){return this.component.maximumHeight}get minimumWidth(){return this.component.minimumWidth}get maximumWidth(){return this.component.maximumWidth}get size(){return this.component.size}get totalPanels(){return this.component.totalPanels}get onDidActiveGroupChange(){return this.component.onDidActiveGroupChange}get onDidAddGroup(){return this.component.onDidAddGroup}get onDidRemoveGroup(){return this.component.onDidRemoveGroup}get onDidActivePanelChange(){return this.component.onDidActivePanelChange}get onDidAddPanel(){return this.component.onDidAddPanel}get onDidRemovePanel(){return this.component.onDidRemovePanel}get onDidMovePanel(){return this.component.onDidMovePanel}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidDrop(){return this.component.onDidDrop}get onWillDrop(){return this.component.onWillDrop}get onWillShowOverlay(){return this.component.onWillShowOverlay}get onWillDragGroup(){return this.component.onWillDragGroup}get onWillDragPanel(){return this.component.onWillDragPanel}get onUnhandledDragOverEvent(){return this.component.onUnhandledDragOverEvent}get onDidPopoutGroupSizeChange(){return this.component.onDidPopoutGroupSizeChange}get onDidPopoutGroupPositionChange(){return this.component.onDidPopoutGroupPositionChange}get onDidOpenPopoutWindowFail(){return this.component.onDidOpenPopoutWindowFail}get panels(){return this.component.panels}get groups(){return this.component.groups}get activePanel(){return this.component.activePanel}get activeGroup(){return this.component.activeGroup}constructor(e){this.component=e}focus(){this.component.focus()}getPanel(e){return this.component.getGroupPanel(e)}layout(e,t,i=!1){this.component.layout(e,t,i)}addPanel(e){return this.component.addPanel(e)}removePanel(e){this.component.removePanel(e)}addGroup(e){return this.component.addGroup(e)}closeAllGroups(){return this.component.closeAllGroups()}removeGroup(e){this.component.removeGroup(e)}getGroup(e){return this.component.getPanel(e)}addFloatingGroup(e,t){return this.component.addFloatingGroup(e,t)}fromJSON(e,t){this.component.fromJSON(e,t)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}moveToNext(e){this.component.moveToNext(e)}moveToPrevious(e){this.component.moveToPrevious(e)}maximizeGroup(e){this.component.maximizeGroup(e.group)}hasMaximizedGroup(){return this.component.hasMaximizedGroup()}exitMaximizedGroup(){this.component.exitMaximizedGroup()}get onDidMaximizedGroupChange(){return this.component.onDidMaximizedGroupChange}addPopoutGroup(e,t){return this.component.addPopoutGroup(e,t)}updateOptions(e){this.component.updateOptions(e)}dispose(){this.component.dispose()}}},3764(e,t,i){i.d(t,{L:()=>p,o:()=>m});var s=i(9702),n=i(2253),o=i(8767),r=i(8805),a=i(3638),h=i(7834),l=i(5727);const d=(0,r.Et)();function p(e){switch(e){case"left":return"left";case"right":return"right";case"above":return"top";case"below":return"bottom";default:return"center"}}class m extends h.c{get id(){return this._id}get size(){return this._groups.size}get groups(){return Array.from(this._groups.values()).map(e=>e.value)}get width(){return this.gridview.width}get height(){return this.gridview.height}get minimumHeight(){return this.gridview.minimumHeight}get maximumHeight(){return this.gridview.maximumHeight}get minimumWidth(){return this.gridview.minimumWidth}get maximumWidth(){return this.gridview.maximumWidth}get activeGroup(){return this._activeGroup}get locked(){return this.gridview.locked}set locked(e){this.gridview.locked=e}constructor(e,t){var i;super(document.createElement("div"),t.disableAutoResizing),this._id=d.next(),this._groups=new Map,this._onDidRemove=new s.vl,this.onDidRemove=this._onDidRemove.event,this._onDidAdd=new s.vl,this.onDidAdd=this._onDidAdd.event,this._onDidMaximizedChange=new s.vl,this.onDidMaximizedChange=this._onDidMaximizedChange.event,this._onDidActiveChange=new s.vl,this.onDidActiveChange=this._onDidActiveChange.event,this._bufferOnDidLayoutChange=new s.ue,this.onDidLayoutChange=this._bufferOnDidLayoutChange.onEvent,this._onDidViewVisibilityChangeMicroTaskQueue=new s.ue,this.onDidViewVisibilityChangeMicroTaskQueue=this._onDidViewVisibilityChangeMicroTaskQueue.onEvent,this.element.style.height="100%",this.element.style.width="100%",this._classNames=new l.hO(this.element),this._classNames.setClassNames(null!==(i=t.className)&&void 0!==i?i:""),e.appendChild(this.element),this.gridview=new n.IR(!!t.proportionalLayout,t.styles,t.orientation,t.locked,t.margin),this.gridview.locked=!!t.locked,this.element.appendChild(this.gridview.element),this.layout(0,0,!0),this.addDisposables(this.gridview.onDidMaximizedNodeChange(e=>{this._onDidMaximizedChange.fire({panel:e.view,isMaximized:e.isMaximized})}),this.gridview.onDidViewVisibilityChange(()=>this._onDidViewVisibilityChangeMicroTaskQueue.fire()),this.onDidViewVisibilityChangeMicroTaskQueue(()=>{this.layout(this.width,this.height,!0)}),o.jG.from(()=>{var e;null===(e=this.element.parentElement)||void 0===e||e.removeChild(this.element)}),this.gridview.onDidChange(()=>{this._bufferOnDidLayoutChange.fire()}),s.Jh.any(this.onDidAdd,this.onDidRemove,this.onDidActiveChange)(()=>{this._bufferOnDidLayoutChange.fire()}),this._onDidMaximizedChange,this._onDidViewVisibilityChangeMicroTaskQueue,this._bufferOnDidLayoutChange)}setVisible(e,t){this.gridview.setViewVisible((0,n.CS)(e.element),t),this._bufferOnDidLayoutChange.fire()}isVisible(e){return this.gridview.isViewVisible((0,n.CS)(e.element))}updateOptions(e){var t,i,s,n;e.proportionalLayout,e.orientation&&(this.gridview.orientation=e.orientation),"disableResizing"in e&&(this.disableResizing=null!==(t=e.disableAutoResizing)&&void 0!==t&&t),"locked"in e&&(this.locked=null!==(i=e.locked)&&void 0!==i&&i),"margin"in e&&(this.gridview.margin=null!==(s=e.margin)&&void 0!==s?s:0),"className"in e&&this._classNames.setClassNames(null!==(n=e.className)&&void 0!==n?n:"")}maximizeGroup(e){this.gridview.maximizeView(e),this.doSetGroupActive(e)}isMaximizedGroup(e){return this.gridview.maximizedView()===e}exitMaximizedGroup(){this.gridview.exitMaximizedView()}hasMaximizedGroup(){return this.gridview.hasMaximizedView()}doAddGroup(e,t=[0],i){this.gridview.addView(e,null!=i?i:a.XQ.Distribute,t),this._onDidAdd.fire(e)}doRemoveGroup(e,t){if(!this._groups.has(e.id))throw new Error("invalid operation");const i=this._groups.get(e.id),s=this.gridview.remove(e,a.XQ.Distribute);if(i&&!(null==t?void 0:t.skipDispose)&&(i.disposable.dispose(),i.value.dispose(),this._groups.delete(e.id),this._onDidRemove.fire(e)),!(null==t?void 0:t.skipActive)&&this._activeGroup===e){const e=Array.from(this._groups.values());this.doSetGroupActive(e.length>0?e[0].value:void 0)}return s}getPanel(e){var t;return null===(t=this._groups.get(e))||void 0===t?void 0:t.value}doSetGroupActive(e){this._activeGroup!==e&&(this._activeGroup&&this._activeGroup.setActive(!1),e&&e.setActive(!0),this._activeGroup=e,this._onDidActiveChange.fire(e))}removeGroup(e){this.doRemoveGroup(e)}moveToNext(e){var t;if(e||(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}const i=(0,n.CS)(e.group.element),s=null===(t=this.gridview.next(i))||void 0===t?void 0:t.view;this.doSetGroupActive(s)}moveToPrevious(e){var t;if(e||(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}const i=(0,n.CS)(e.group.element),s=null===(t=this.gridview.previous(i))||void 0===t?void 0:t.view;this.doSetGroupActive(s)}layout(e,t,i){(i||e!==this.width||t!==this.height)&&(this.gridview.element.style.height=`${t}px`,this.gridview.element.style.width=`${e}px`,this.gridview.layout(e,t))}dispose(){this._onDidActiveChange.dispose(),this._onDidAdd.dispose(),this._onDidRemove.dispose();for(const e of this.groups)e.dispose();this.gridview.dispose(),super.dispose()}}},3972(e,t,i){i.d(t,{Y:()=>d});var s=i(933),n=i(6212),o=i(9044),r=i(9702),a=i(8125);const h="dockview: DockviewGroupPanelApiImpl not initialized";class l extends a._{get location(){if(!this._group)throw new Error(h);return this._group.model.location}constructor(e,t){super(e,"__dockviewgroup__"),this.accessor=t,this._onDidLocationChange=new r.vl,this.onDidLocationChange=this._onDidLocationChange.event,this._onDidActivePanelChange=new r.vl,this.onDidActivePanelChange=this._onDidActivePanelChange.event,this.addDisposables(this._onDidLocationChange,this._onDidActivePanelChange,this._onDidVisibilityChange.event(e=>{e.isVisible&&this._pendingSize&&(super.setSize(this._pendingSize),this._pendingSize=void 0)}))}setSize(e){this._pendingSize=Object.assign({},e),super.setSize(e)}close(){if(this._group)return this.accessor.removeGroup(this._group)}getWindow(){return"popout"===this.location.type?this.location.getWindow():window}moveTo(e){var t,i,s,n;if(!this._group)throw new Error(h);const r=null!==(t=e.group)&&void 0!==t?t:this.accessor.addGroup({direction:(0,o.e2)(null!==(i=e.position)&&void 0!==i?i:"right"),skipSetActive:null!==(s=e.skipSetActive)&&void 0!==s&&s});this.accessor.moveGroupOrPanel({from:{groupId:this._group.id},to:{group:r,position:e.group&&null!==(n=e.position)&&void 0!==n?n:"center",index:e.index},skipSetActive:e.skipSetActive})}maximize(){if(!this._group)throw new Error(h);"grid"===this.location.type&&this.accessor.maximizeGroup(this._group)}isMaximized(){if(!this._group)throw new Error(h);return this.accessor.isMaximizedGroup(this._group)}exitMaximized(){if(!this._group)throw new Error(h);this.isMaximized()&&this.accessor.exitMaximizedGroup()}initialize(e){this._group=e}}class d extends n.I{get minimumWidth(){var e;if("number"==typeof this._explicitConstraints.minimumWidth)return this._explicitConstraints.minimumWidth;const t=null===(e=this.activePanel)||void 0===e?void 0:e.minimumWidth;return"number"==typeof t?t:super.__minimumWidth()}get minimumHeight(){var e;if("number"==typeof this._explicitConstraints.minimumHeight)return this._explicitConstraints.minimumHeight;const t=null===(e=this.activePanel)||void 0===e?void 0:e.minimumHeight;return"number"==typeof t?t:super.__minimumHeight()}get maximumWidth(){var e;if("number"==typeof this._explicitConstraints.maximumWidth)return this._explicitConstraints.maximumWidth;const t=null===(e=this.activePanel)||void 0===e?void 0:e.maximumWidth;return"number"==typeof t?t:super.__maximumWidth()}get maximumHeight(){var e;if("number"==typeof this._explicitConstraints.maximumHeight)return this._explicitConstraints.maximumHeight;const t=null===(e=this.activePanel)||void 0===e?void 0:e.maximumHeight;return"number"==typeof t?t:super.__maximumHeight()}get panels(){return this._model.panels}get activePanel(){return this._model.activePanel}get size(){return this._model.size}get model(){return this._model}get locked(){return this._model.locked}set locked(e){this._model.locked=e}get header(){return this._model.header}constructor(e,t,i){var n,o,r,a,h,d;super(t,"groupview_default",{minimumHeight:null!==(o=null===(n=i.constraints)||void 0===n?void 0:n.minimumHeight)&&void 0!==o?o:100,minimumWidth:null!==(a=null===(r=i.constraints)||void 0===r?void 0:r.minimumWidth)&&void 0!==a?a:100,maximumHeight:null===(h=i.constraints)||void 0===h?void 0:h.maximumHeight,maximumWidth:null===(d=i.constraints)||void 0===d?void 0:d.maximumWidth},new l(t,e)),this._explicitConstraints={},this.api.initialize(this),this._model=new s.D7(this.element,e,t,i,this),this.addDisposables(this.model.onDidActivePanelChange(e=>{this.api._onDidActivePanelChange.fire(e)}),this.api.onDidConstraintsChangeInternal(e=>{void 0!==e.minimumWidth&&(this._explicitConstraints.minimumWidth="function"==typeof e.minimumWidth?e.minimumWidth():e.minimumWidth),void 0!==e.minimumHeight&&(this._explicitConstraints.minimumHeight="function"==typeof e.minimumHeight?e.minimumHeight():e.minimumHeight),void 0!==e.maximumWidth&&(this._explicitConstraints.maximumWidth="function"==typeof e.maximumWidth?e.maximumWidth():e.maximumWidth),void 0!==e.maximumHeight&&(this._explicitConstraints.maximumHeight="function"==typeof e.maximumHeight?e.maximumHeight():e.maximumHeight)}))}focus(){this.api.isActive||this.api.setActive(),super.focus()}initialize(){this._model.initialize()}setActive(e){super.setActive(e),this.model.setActive(e)}layout(e,t){super.layout(e,t),this.model.layout(e,t)}getComponent(){return this._model}toJSON(){return this.model.toJSON()}}},4114(e,t,i){i.d(t,{Ft:()=>o,P3:()=>n,ie:()=>s});const s=100,n={left:100,top:100,width:300,height:300},o=100},4360(e,t,i){i.d(t,{e:()=>a});var s=i(3638),n=i(8767),o=i(9702),r=i(5727);class a extends n.ke{get onDidAddView(){return this.splitview.onDidAddView}get onDidRemoveView(){return this.splitview.onDidRemoveView}get minimumSize(){return this.splitview.minimumSize}get maximumSize(){return this.splitview.maximumSize}get orientation(){return this.splitview.orientation}get size(){return this.splitview.size}get orthogonalSize(){return this.splitview.orthogonalSize}constructor(e,t){var i;super(),this.paneItems=[],this.skipAnimation=!1,this._onDidChange=new o.vl,this.onDidChange=this._onDidChange.event,this._orientation=null!==(i=t.orientation)&&void 0!==i?i:s.t4.VERTICAL,this.element=document.createElement("div"),this.element.className="dv-pane-container",e.appendChild(this.element),this.splitview=new s.eD(this.element,{orientation:this._orientation,proportionalLayout:!1,descriptor:t.descriptor}),this.getPanes().forEach(e=>{const t=new n.ke(e.onDidChangeExpansionState(()=>{this.setupAnimation(),this._onDidChange.fire(void 0)})),i={pane:e,disposable:{dispose:()=>{t.dispose()}}};this.paneItems.push(i),e.orthogonalSize=this.splitview.orthogonalSize}),this.addDisposables(this._onDidChange,this.splitview.onDidSashEnd(()=>{this._onDidChange.fire(void 0)}),this.splitview.onDidAddView(()=>{this._onDidChange.fire()}),this.splitview.onDidRemoveView(()=>{this._onDidChange.fire()}))}setViewVisible(e,t){this.splitview.setViewVisible(e,t)}addPane(e,t,i=this.splitview.length,s=!1){const n=e.onDidChangeExpansionState(()=>{this.setupAnimation(),this._onDidChange.fire(void 0)}),o={pane:e,disposable:{dispose:()=>{n.dispose()}}};this.paneItems.splice(i,0,o),e.orthogonalSize=this.splitview.orthogonalSize,this.splitview.addView(e,t,i,s)}getViewSize(e){return this.splitview.getViewSize(e)}getPanes(){return this.splitview.getViews()}removePane(e,t={skipDispose:!1}){const i=this.paneItems.splice(e,1)[0];return this.splitview.removeView(e),t.skipDispose||(i.disposable.dispose(),i.pane.dispose()),i}moveView(e,t){if(e===t)return;const i=this.removePane(e,{skipDispose:!0});this.skipAnimation=!0;try{this.addPane(i.pane,i.pane.size,t,!1)}finally{this.skipAnimation=!1}}layout(e,t){this.splitview.layout(e,t)}setupAnimation(){this.skipAnimation||(this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=void 0),(0,r.gR)(this.element,"dv-animated"),this.animationTimer=setTimeout(()=>{this.animationTimer=void 0,(0,r.jo)(this.element,"dv-animated")},200))}dispose(){super.dispose(),this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=void 0),this.paneItems.forEach(e=>{e.disposable.dispose(),e.pane.dispose()}),this.paneItems=[],this.splitview.dispose(),this.element.remove()}}},4637(e,t,i){i(2253),i(378),i(8767);var s=i(3764);i(9702),s.o},4937(e,t,i){i.d(t,{d:()=>s});class s{get kind(){return this.options.kind}get nativeEvent(){return this.event.nativeEvent}get position(){return this.event.position}get defaultPrevented(){return this.event.defaultPrevented}get panel(){return this.options.panel}get api(){return this.options.api}get group(){return this.options.group}preventDefault(){this.event.preventDefault()}getData(){return this.options.getData()}constructor(e,t){this.event=e,this.options=t}}},5121(e,t,i){i(3757),i(9702);var s=i(8767),n=(i(3638),i(4360),i(6893));i(5727),i(3637),s.ke;var o=i(8805),r=i(7834);(0,o.Et)(),Number.MAX_SAFE_INTEGER,n.x,r.c},5580(e,t,i){var s=i(8457);i(8871),i(3638),i(9702),s.f},5671(e,t,i){Object.keys({disableAutoResizing:void 0,proportionalLayout:void 0,orientation:void 0,hideBorders:void 0,className:void 0})},5727(e,t,i){i.d(t,{BK:()=>_,Gm:()=>r,HB:()=>u,HK:()=>w,QQ:()=>z,QW:()=>D,QX:()=>d,Si:()=>E,Sn:()=>v,cU:()=>b,gR:()=>h,hO:()=>C,jb:()=>x,jo:()=>a,mu:()=>y,n7:()=>S,p1:()=>l,se:()=>g,vl:()=>f,w5:()=>p,zT:()=>o});var s=i(9702),n=i(8767);class o extends n.ke{constructor(e){super(),this._onDidChange=new s.vl,this.onDidChange=this._onDidChange.event,this._value=null,this.addDisposables(this._onDidChange,r(e,e=>{const t=e.target.scrollWidth>e.target.clientWidth,i=e.target.scrollHeight>e.target.clientHeight;this._value={hasScrollX:t,hasScrollY:i},this._onDidChange.fire(this._value)}))}}function r(e,t){const i=new ResizeObserver(e=>{requestAnimationFrame(()=>{const i=e[0];t(i)})});return i.observe(e),{dispose:()=>{i.unobserve(e),i.disconnect()}}}const a=(e,...t)=>{for(const i of t)e.classList.contains(i)&&e.classList.remove(i)},h=(e,...t)=>{for(const i of t)e.classList.contains(i)||e.classList.add(i)},l=(e,t,i)=>{const s=e.classList.contains(t);i&&!s&&e.classList.add(t),!i&&s&&e.classList.remove(t)};function d(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function p(e){return new m(e)}class m extends n.ke{constructor(e){super(),this._onDidFocus=new s.vl,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new s.vl,this.onDidBlur=this._onDidBlur.event,this.addDisposables(this._onDidFocus,this._onDidBlur);let t=d(document.activeElement,e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{d(document.activeElement,e)!==t&&(t?o():n())},this.addDisposables((0,s.ko)(e,"focus",n,!0)),this.addDisposables((0,s.ko)(e,"blur",o,!0))}refreshState(){this._refreshStateHandler()}}const c="dv-quasiPreventDefault";function u(e){e[c]=!0}function v(e){return e[c]}function g(e,t){const i=Array.from(t);for(const t of i){if(t.href){const i=e.createElement("link");i.href=t.href,i.type=t.type,i.rel="stylesheet",e.head.appendChild(i)}let i=[];try{t.cssRules&&(i=Array.from(t.cssRules).map(e=>e.cssText))}catch(e){}for(const t of i){const i=e.createElement("style");i.appendChild(e.createTextNode(t)),e.head.appendChild(i)}}}function _(e){const{left:t,top:i,width:s,height:n}=e.getBoundingClientRect();return{left:t+window.scrollX,top:i+window.scrollY,width:s,height:n}}function w(e){let t=e;for(;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof DocumentFragment?t.parentNode.host:t.parentNode}return!1}function f(e,t){e.setAttribute("data-testid",t)}function b(e=document){const t=function(e){const t=[];return function i(s){if(s.nodeType===Node.ELEMENT_NODE){e.includes(s.tagName)&&t.push(s),s.shadowRoot&&i(s.shadowRoot);for(const e of s.children)i(e)}}(document.documentElement),t}(["IFRAME","WEBVIEW"]),i=new WeakMap;for(const e of t)i.set(e,e.style.pointerEvents),e.style.pointerEvents="none";return{release:()=>{var e;for(const s of t)s.style.pointerEvents=null!==(e=i.get(s))&&void 0!==e?e:"auto";t.splice(0,t.length)}}}function D(e){function t(e){const t=[];for(let i=0;i<e.classList.length;i++)t.push(e.classList.item(i));return t}let i,s=e;for(;null!==s&&(i=t(s).find(e=>e.startsWith("dockview-theme-")),"string"!=typeof i);)s=s.parentElement;return i}class C{constructor(e){this.element=e,this._classNames=[]}setClassNames(e){for(const e of this._classNames)l(this.element,e,!1);this._classNames=e.split(" ").filter(e=>e.trim().length>0);for(const e of this._classNames)l(this.element,e,!0)}}function y(e,t){const i=_(e),s=_(t);return!(i.left<s.left||i.left+i.width>s.left+s.width)}function x(e){const t=new s.vl;let i,n=e.screenX,o=e.screenY;const r=()=>{if(e.closed)return;const s=e.screenX,a=e.screenY;s===n&&a===o||(clearTimeout(i),i=setTimeout(()=>{t.fire()},100),n=s,o=a),requestAnimationFrame(r)};return r(),t}function z(e,t){let i;return new n.ke((0,s.ko)(e,"resize",()=>{clearTimeout(i),i=setTimeout(()=>{t()},100)}))}function S(e,t,i={buffer:10}){const s=i.buffer,n=e.getBoundingClientRect(),o=t.getBoundingClientRect();let r=0,a=0;const h=n.left-o.left,l=n.top-o.top,d=n.bottom-o.bottom,p=n.right-o.right;h<s?r=s-h:p>s&&(r=-s-p),l<s?a=s-l:d>s&&(a=-d-s),0===r&&0===a||(e.style.transform=`translate(${r}px, ${a}px)`)}function E(e){let t=e;for(;t&&("auto"===t.style.zIndex||""===t.style.zIndex);)t=t.parentElement;return t}},6212(e,t,i){i.d(t,{I:()=>r});var s=i(8457),n=i(8125),o=i(9702);class r extends s.f{get priority(){return this._priority}get snap(){return this._snap}get minimumWidth(){return this.__minimumWidth()}get minimumHeight(){return this.__minimumHeight()}get maximumHeight(){return this.__maximumHeight()}get maximumWidth(){return this.__maximumWidth()}__minimumWidth(){const e="function"==typeof this._minimumWidth?this._minimumWidth():this._minimumWidth;return e!==this._evaluatedMinimumWidth&&(this._evaluatedMinimumWidth=e,this.updateConstraints()),e}__maximumWidth(){const e="function"==typeof this._maximumWidth?this._maximumWidth():this._maximumWidth;return e!==this._evaluatedMaximumWidth&&(this._evaluatedMaximumWidth=e,this.updateConstraints()),e}__minimumHeight(){const e="function"==typeof this._minimumHeight?this._minimumHeight():this._minimumHeight;return e!==this._evaluatedMinimumHeight&&(this._evaluatedMinimumHeight=e,this.updateConstraints()),e}__maximumHeight(){const e="function"==typeof this._maximumHeight?this._maximumHeight():this._maximumHeight;return e!==this._evaluatedMaximumHeight&&(this._evaluatedMaximumHeight=e,this.updateConstraints()),e}get isActive(){return this.api.isActive}get isVisible(){return this.api.isVisible}constructor(e,t,i,s){super(e,t,null!=s?s:new n._(e,t)),this._evaluatedMinimumWidth=0,this._evaluatedMaximumWidth=Number.MAX_SAFE_INTEGER,this._evaluatedMinimumHeight=0,this._evaluatedMaximumHeight=Number.MAX_SAFE_INTEGER,this._minimumWidth=0,this._minimumHeight=0,this._maximumWidth=Number.MAX_SAFE_INTEGER,this._maximumHeight=Number.MAX_SAFE_INTEGER,this._snap=!1,this._onDidChange=new o.vl,this.onDidChange=this._onDidChange.event,"number"==typeof(null==i?void 0:i.minimumWidth)&&(this._minimumWidth=i.minimumWidth),"number"==typeof(null==i?void 0:i.maximumWidth)&&(this._maximumWidth=i.maximumWidth),"number"==typeof(null==i?void 0:i.minimumHeight)&&(this._minimumHeight=i.minimumHeight),"number"==typeof(null==i?void 0:i.maximumHeight)&&(this._maximumHeight=i.maximumHeight),this.api.initialize(this),this.addDisposables(this.api.onWillVisibilityChange(e=>{const{isVisible:t}=e,{accessor:i}=this._params;i.setVisible(this,t)}),this.api.onActiveChange(()=>{const{accessor:e}=this._params;e.doSetGroupActive(this)}),this.api.onDidConstraintsChangeInternal(e=>{"number"!=typeof e.minimumWidth&&"function"!=typeof e.minimumWidth||(this._minimumWidth=e.minimumWidth),"number"!=typeof e.minimumHeight&&"function"!=typeof e.minimumHeight||(this._minimumHeight=e.minimumHeight),"number"!=typeof e.maximumWidth&&"function"!=typeof e.maximumWidth||(this._maximumWidth=e.maximumWidth),"number"!=typeof e.maximumHeight&&"function"!=typeof e.maximumHeight||(this._maximumHeight=e.maximumHeight)}),this.api.onDidSizeChange(e=>{this._onDidChange.fire({height:e.height,width:e.width})}),this._onDidChange)}setVisible(e){this.api._onDidVisibilityChange.fire({isVisible:e})}setActive(e){this.api._onDidActiveChange.fire({isActive:e})}init(e){e.maximumHeight&&(this._maximumHeight=e.maximumHeight),e.minimumHeight&&(this._minimumHeight=e.minimumHeight),e.maximumWidth&&(this._maximumWidth=e.maximumWidth),e.minimumWidth&&(this._minimumWidth=e.minimumWidth),this._priority=e.priority,this._snap=!!e.snap,super.init(e),"boolean"==typeof e.isVisible&&this.setVisible(e.isVisible)}updateConstraints(){this.api._onDidConstraintsChange.fire({minimumWidth:this._evaluatedMinimumWidth,maximumWidth:this._evaluatedMaximumWidth,minimumHeight:this._evaluatedMinimumHeight,maximumHeight:this._evaluatedMaximumHeight})}toJSON(){const e=super.toJSON(),t=e=>e===Number.MAX_SAFE_INTEGER?void 0:e,i=e=>e<=0?void 0:e;return Object.assign(Object.assign({},e),{minimumHeight:i(this.minimumHeight),maximumHeight:t(this.maximumHeight),minimumWidth:i(this.minimumWidth),maximumWidth:t(this.maximumWidth),snap:this.snap,priority:this.priority})}}},6515(e,t,i){i.d(t,{E2:()=>n,PD:()=>r,fb:()=>h,lh:()=>a,m2:()=>o});class s{}class n extends s{constructor(e,t,i){super(),this.viewId=e,this.groupId=t,this.panelId=i}}class o extends s{constructor(e,t){super(),this.viewId=e,this.paneId=t}}class r{constructor(){}static getInstance(){return r.INSTANCE}hasData(e){return e&&e===this.proto}clearData(e){this.hasData(e)&&(this.proto=void 0,this.data=void 0)}getData(e){if(this.hasData(e))return this.data}setData(e,t){t&&(this.data=e,this.proto=t)}}function a(){const e=r.getInstance();if(e.hasData(n.prototype))return e.getData(n.prototype)[0]}function h(){const e=r.getInstance();if(e.hasData(o.prototype))return e.getData(o.prototype)[0]}r.INSTANCE=new r},6751(e,t,i){i.d(t,{e:()=>n});var s=i(8767);class n extends s.ke{constructor(e,t){super(),this.group=e,this.overlay=t,this.addDisposables(t)}position(e){this.overlay.setBounds(e)}}},6886(e,t,i){i.d(t,{p:()=>n});var s=i(8767);class n extends s.ke{constructor(e){super(),this.accessor=e,this.init()}init(){const e=new Set,t=new Set;this.addDisposables(this.accessor.onDidAddPanel(t=>{if(e.has(t.api.id))throw new Error(`dockview: Invalid event sequence. [onDidAddPanel] called for panel ${t.api.id} but panel already exists`);e.add(t.api.id)}),this.accessor.onDidRemovePanel(t=>{if(!e.has(t.api.id))throw new Error(`dockview: Invalid event sequence. [onDidRemovePanel] called for panel ${t.api.id} but panel does not exists`);e.delete(t.api.id)}),this.accessor.onDidAddGroup(e=>{if(t.has(e.api.id))throw new Error(`dockview: Invalid event sequence. [onDidAddGroup] called for group ${e.api.id} but group already exists`);t.add(e.api.id)}),this.accessor.onDidRemoveGroup(e=>{if(!t.has(e.api.id))throw new Error(`dockview: Invalid event sequence. [onDidRemoveGroup] called for group ${e.api.id} but group does not exists`);t.delete(e.api.id)}))}}},6893(e,t,i){i.d(t,{x:()=>d});var s=i(3757),n=i(9406),o=i(6515),r=i(9044),a=i(9702),h=i(269),l=i(9116);class d extends l.e{constructor(e){super({id:e.id,component:e.component,headerComponent:e.headerComponent,orientation:e.orientation,isExpanded:e.isExpanded,isHeaderVisible:!0,headerSize:e.headerSize,minimumBodySize:e.minimumBodySize,maximumBodySize:e.maximumBodySize}),this._onDidDrop=new a.vl,this.onDidDrop=this._onDidDrop.event,this._onUnhandledDragOverEvent=new a.vl,this.onUnhandledDragOverEvent=this._onUnhandledDragOverEvent.event,this.accessor=e.accessor,this.addDisposables(this._onDidDrop,this._onUnhandledDragOverEvent),e.disableDnd||this.initDragFeatures()}initDragFeatures(){if(!this.header)return;const e=this.id,t=this.accessor.id;this.header.draggable=!0,this.handler=new class extends n.L{getData(){return o.PD.getInstance().setData([new o.m2(t,e)],o.m2.prototype),{dispose:()=>{o.PD.getInstance().clearData(o.m2.prototype)}}}}(this.header),this.target=new r.Lh(this.element,{acceptedTargetZones:["top","bottom"],overlayModel:{activationSize:{type:"percentage",value:50}},canDisplayOverlay:(e,t)=>{const i=(0,o.fb)();if(i&&i.paneId!==this.id&&i.viewId===this.accessor.id)return!0;const s=new h.T(e,t,o.fb,this);return this._onUnhandledDragOverEvent.fire(s),s.isAccepted}}),this.addDisposables(this._onDidDrop,this.handler,this.target,this.target.onDrop(e=>{this.onDrop(e)}))}onDrop(e){const t=(0,o.fb)();if(!t||t.viewId!==this.accessor.id)return void this._onDidDrop.fire(Object.assign(Object.assign({},e),{panel:this,api:new s.IY(this.accessor),getData:o.fb}));const i=this._params.containerApi,n=t.paneId,r=i.getPanel(n);if(!r)return void this._onDidDrop.fire(Object.assign(Object.assign({},e),{panel:this,getData:o.fb,api:new s.IY(this.accessor)}));const a=i.panels,h=a.indexOf(r);let l=i.panels.indexOf(this);"left"!==e.position&&"top"!==e.position||(l=Math.max(0,l-1)),"right"!==e.position&&"bottom"!==e.position||(h>l&&l++,l=Math.min(a.length-1,l)),i.movePanel(h,l)}}},7056(e,t,i){i.d(t,{p:()=>h});var s=i(9702),n=i(8125),o=i(8767);class r extends n._{get location(){return this.group.api.location}get title(){return this.panel.title}get isGroupActive(){return this.group.isActive}get renderer(){return this.panel.renderer}set group(e){const t=this._group;this._group!==e&&(this._group=e,this._onDidGroupChange.fire({}),this.setupGroupEventListeners(t),this._onDidLocationChange.fire({location:this.group.api.location}))}get group(){return this._group}get tabComponent(){return this._tabComponent}constructor(e,t,i,n,r){super(e.id,n),this.panel=e,this.accessor=i,this._onDidTitleChange=new s.vl,this.onDidTitleChange=this._onDidTitleChange.event,this._onDidActiveGroupChange=new s.vl,this.onDidActiveGroupChange=this._onDidActiveGroupChange.event,this._onDidGroupChange=new s.vl,this.onDidGroupChange=this._onDidGroupChange.event,this._onDidRendererChange=new s.vl,this.onDidRendererChange=this._onDidRendererChange.event,this._onDidLocationChange=new s.vl,this.onDidLocationChange=this._onDidLocationChange.event,this.groupEventsDisposable=new o.HE,this._tabComponent=r,this.initialize(e),this._group=t,this.setupGroupEventListeners(),this.addDisposables(this.groupEventsDisposable,this._onDidRendererChange,this._onDidTitleChange,this._onDidGroupChange,this._onDidActiveGroupChange,this._onDidLocationChange)}getWindow(){return this.group.api.getWindow()}moveTo(e){var t,i;this.accessor.moveGroupOrPanel({from:{groupId:this._group.id,panelId:this.panel.id},to:{group:null!==(t=e.group)&&void 0!==t?t:this._group,position:e.group&&null!==(i=e.position)&&void 0!==i?i:"center",index:e.index},skipSetActive:e.skipSetActive})}setTitle(e){this.panel.setTitle(e)}setRenderer(e){this.panel.setRenderer(e)}close(){this.group.model.closePanel(this.panel)}maximize(){this.group.api.maximize()}isMaximized(){return this.group.api.isMaximized()}exitMaximized(){this.group.api.exitMaximized()}setupGroupEventListeners(e){var t;let i=null!==(t=null==e?void 0:e.isActive)&&void 0!==t&&t;this.groupEventsDisposable.value=new o.ke(this.group.api.onDidVisibilityChange(e=>{const t=!e.isVisible&&this.isVisible,i=e.isVisible&&!this.isVisible,s=this.group.model.isPanelActive(this.panel);(t||i&&s)&&this._onDidVisibilityChange.fire(e)}),this.group.api.onDidLocationChange(e=>{this.group===this.panel.group&&this._onDidLocationChange.fire(e)}),this.group.api.onDidActiveChange(()=>{this.group===this.panel.group&&i!==this.isGroupActive&&(i=this.isGroupActive,this._onDidActiveGroupChange.fire({isActive:this.isGroupActive}))}))}}var a=i(3368);class h extends o.ke{get params(){return this._params}get title(){return this._title}get group(){return this._group}get renderer(){var e;return null!==(e=this._renderer)&&void 0!==e?e:this.accessor.renderer}get minimumWidth(){return this._minimumWidth}get minimumHeight(){return this._minimumHeight}get maximumWidth(){return this._maximumWidth}get maximumHeight(){return this._maximumHeight}constructor(e,t,i,s,n,o,a,h){super(),this.id=e,this.accessor=s,this.containerApi=n,this.view=a,this._renderer=h.renderer,this._group=o,this._minimumWidth=h.minimumWidth,this._minimumHeight=h.minimumHeight,this._maximumWidth=h.maximumWidth,this._maximumHeight=h.maximumHeight,this.api=new r(this,this._group,s,t,i),this.addDisposables(this.api.onActiveChange(()=>{s.setActivePanel(this)}),this.api.onDidSizeChange(e=>{this.group.api.setSize(e)}),this.api.onDidRendererChange(()=>{this.group.model.rerender(this)}))}init(e){this._params=e.params,this.view.init(Object.assign(Object.assign({},e),{api:this.api,containerApi:this.containerApi})),this.setTitle(e.title)}focus(){const e=new a.X;this.api._onWillFocus.fire(e),e.defaultPrevented||this.api.isActive||this.api.setActive()}toJSON(){return{id:this.id,contentComponent:this.view.contentComponent,tabComponent:this.view.tabComponent,params:Object.keys(this._params||{}).length>0?this._params:void 0,title:this.title,renderer:this._renderer,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,minimumWidth:this._minimumWidth,maximumWidth:this._maximumWidth}}setTitle(e){e!==this.title&&(this._title=e,this.api._onDidTitleChange.fire({title:e}))}setRenderer(e){e!==this.renderer&&(this._renderer=e,this.api._onDidRendererChange.fire({renderer:e}))}update(e){var t;this._params=Object.assign(Object.assign({},null!==(t=this._params)&&void 0!==t?t:{}),e.params);for(const t of Object.keys(e.params))void 0===e.params[t]&&delete this._params[t];this.view.update({params:this._params})}updateFromStateModel(e){var t,i,s;this._maximumHeight=e.maximumHeight,this._minimumHeight=e.minimumHeight,this._maximumWidth=e.maximumWidth,this._minimumWidth=e.minimumWidth,this.update({params:null!==(t=e.params)&&void 0!==t?t:{}}),this.setTitle(null!==(i=e.title)&&void 0!==i?i:this.id),this.setRenderer(null!==(s=e.renderer)&&void 0!==s?s:this.accessor.renderer)}updateParentGroup(e,t){this._group=e,this.api.group=this._group;const i=this._group.model.isPanelActive(this),s=this.group.api.isActive&&i;(null==t?void 0:t.skipSetActive)||this.api.isActive!==s&&this.api._onDidActiveChange.fire({isActive:this.group.api.isActive&&i}),this.api.isVisible!==i&&this.api._onDidVisibilityChange.fire({isVisible:i})}runEvents(){const e=this._group.model.isPanelActive(this),t=this.group.api.isActive&&e;this.api.isActive!==t&&this.api._onDidActiveChange.fire({isActive:this.group.api.isActive&&e}),this.api.isVisible!==e&&this.api._onDidVisibilityChange.fire({isVisible:e})}layout(e,t){this.api._onDidDimensionChange.fire({width:e,height:t}),this.view.layout(e,t)}dispose(){this.api.dispose(),this.view.dispose()}}},7283(e,t,i){i.d(t,{x:()=>h});var s=i(8767),n=i(9702),o=i(5727),r=i(9044),a=i(6515);class h extends s.ke{get element(){return this._element}constructor(e,t){super(),this.accessor=e,this.group=t,this.disposable=new s.HE,this._onDidFocus=new n.vl,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new n.vl,this.onDidBlur=this._onDidBlur.event,this._element=document.createElement("div"),this._element.className="dv-content-container",this._element.tabIndex=-1,this.addDisposables(this._onDidFocus,this._onDidBlur);const i=t.dropTargetContainer;this.dropTarget=new r.Lh(this.element,{getOverlayOutline:()=>{var t;return"group"===(null===(t=e.options.theme)||void 0===t?void 0:t.dndPanelOverlay)?this.element.parentElement:null},className:"dv-drop-target-content",acceptedTargetZones:["top","bottom","left","right","center"],canDisplayOverlay:(e,t)=>{if("no-drop-target"===this.group.locked||this.group.locked&&"center"===t)return!1;const i=(0,a.lh)();return!(!i&&e.shiftKey&&"floating"!==this.group.location.type)&&(!(!i||i.viewId!==this.accessor.id)||this.group.canDisplayOverlay(e,t,"content"))},getOverrideTarget:i?()=>i.model:void 0}),this.addDisposables(this.dropTarget)}show(){this.element.style.display=""}hide(){this.element.style.display="none"}renderPanel(e,t={asActive:!0}){const i=t.asActive||this.panel&&this.group.isPanelActive(this.panel);let n;switch(this.panel&&this.panel.view.content.element.parentElement===this._element&&this._element.removeChild(this.panel.view.content.element),this.panel=e,e.api.renderer){case"onlyWhenVisible":this.group.renderContainer.detatch(e),this.panel&&i&&this._element.appendChild(this.panel.view.content.element),n=this._element;break;case"always":e.view.content.element.parentElement===this._element&&this._element.removeChild(e.view.content.element),n=this.group.renderContainer.attach({panel:e,referenceContainer:this});break;default:throw new Error(`dockview: invalid renderer type '${e.api.renderer}'`)}if(i){const e=(0,o.w5)(n);this.focusTracker=e;const t=new s.ke;t.addDisposables(e,e.onDidFocus(()=>this._onDidFocus.fire()),e.onDidBlur(()=>this._onDidBlur.fire())),this.disposable.value=t}}openPanel(e){this.panel!==e&&this.renderPanel(e)}layout(e,t){}closePanel(){var e;this.panel&&"onlyWhenVisible"===this.panel.api.renderer&&(null===(e=this.panel.view.content.element.parentElement)||void 0===e||e.removeChild(this.panel.view.content.element)),this.panel=void 0}dispose(){this.disposable.dispose(),super.dispose()}refreshFocusState(){var e;(null===(e=this.focusTracker)||void 0===e?void 0:e.refreshState)&&this.focusTracker.refreshState()}}},7772(e,t,i){i.d(t,{HF:()=>o,MW:()=>n,Wi:()=>r,nX:()=>h,yQ:()=>a});var s=i(9702);class n extends s.rS{constructor(e,t,i,s,n){super(),this.nativeEvent=e,this.target=t,this.position=i,this.getData=s,this.group=n}}function o(e){return!!e.referencePanel}function r(e){return!!e.referenceGroup}function a(e){return!!e.referencePanel}function h(e){return!!e.referenceGroup}Object.keys({disableAutoResizing:void 0,hideBorders:void 0,singleTabMode:void 0,disableFloatingGroups:void 0,floatingGroupBounds:void 0,popoutUrl:void 0,defaultRenderer:void 0,debug:void 0,rootOverlayModel:void 0,locked:void 0,disableDnd:void 0,className:void 0,noPanelsOverlay:void 0,dndEdges:void 0,theme:void 0,disableTabsOverflowList:void 0,scrollbars:void 0})},7834(e,t,i){i.d(t,{c:()=>o});var s=i(5727),n=i(8767);class o extends n.ke{get element(){return this._element}get disableResizing(){return this._disableResizing}set disableResizing(e){this._disableResizing=e}constructor(e,t=!1){super(),this._disableResizing=t,this._element=e,this.addDisposables((0,s.Gm)(this._element,e=>{if(this.isDisposed)return;if(this.disableResizing)return;if(!this._element.offsetParent)return;if(!(0,s.HK)(this._element))return;const{width:t,height:i}=e.contentRect;this.layout(t,i)}))}}},8060(e,t,i){i.d(t,{o:()=>p});var s=i(9702),n=i(8767),o=i(6515),r=i(5727),a=i(9044),h=i(9406),l=i(9533);class d extends h.L{constructor(e,t,i,s,n){super(e,n),this.accessor=t,this.group=i,this.panel=s,this.panelTransfer=o.PD.getInstance()}getData(e){return this.panelTransfer.setData([new o.E2(this.accessor.id,this.group.id,this.panel.id)],o.E2.prototype),{dispose:()=>{this.panelTransfer.clearData(o.E2.prototype)}}}}class p extends n.ke{get element(){return this._element}constructor(e,t,i){super(),this.panel=e,this.accessor=t,this.group=i,this.content=void 0,this._onPointDown=new s.vl,this.onPointerDown=this._onPointDown.event,this._onDropped=new s.vl,this.onDrop=this._onDropped.event,this._onDragStart=new s.vl,this.onDragStart=this._onDragStart.event,this._element=document.createElement("div"),this._element.className="dv-tab",this._element.tabIndex=0,this._element.draggable=!this.accessor.options.disableDnd,(0,r.p1)(this.element,"dv-inactive-tab",!0),this.dragHandler=new d(this._element,this.accessor,this.group,this.panel,!!this.accessor.options.disableDnd),this.dropTarget=new a.Lh(this._element,{acceptedTargetZones:["left","right"],overlayModel:{activationSize:{value:50,type:"percentage"}},canDisplayOverlay:(e,t)=>{if(this.group.locked)return!1;const i=(0,o.lh)();return!(!i||this.accessor.id!==i.viewId)||this.group.model.canDisplayOverlay(e,t,"tab")},getOverrideTarget:()=>{var e;return null===(e=i.model.dropTargetContainer)||void 0===e?void 0:e.model}}),this.onWillShowOverlay=this.dropTarget.onWillShowOverlay,this.addDisposables(this._onPointDown,this._onDropped,this._onDragStart,this.dragHandler.onDragStart(e=>{if(e.dataTransfer){const t=getComputedStyle(this.element),i=this.element.cloneNode(!0);Array.from(t).forEach(e=>i.style.setProperty(e,t.getPropertyValue(e),t.getPropertyPriority(e))),i.style.position="absolute",(0,l.q)(e.dataTransfer,i,{y:-10,x:30})}this._onDragStart.fire(e)}),this.dragHandler,(0,s.ko)(this._element,"pointerdown",e=>{this._onPointDown.fire(e)}),this.dropTarget.onDrop(e=>{this._onDropped.fire(e)}),this.dropTarget)}setActive(e){(0,r.p1)(this.element,"dv-active-tab",e),(0,r.p1)(this.element,"dv-inactive-tab",!e)}setContent(e){this.content&&this._element.removeChild(this.content.element),this.content=e,this._element.appendChild(this.content.element)}updateDragAndDropState(){this._element.draggable=!this.accessor.options.disableDnd,this.dragHandler.setDisabled(!!this.accessor.options.disableDnd)}dispose(){super.dispose()}}},8125(e,t,i){i.d(t,{_:()=>o});var s=i(9702),n=i(3368);class o extends n.${constructor(e,t,i){super(e,t),this._onDidConstraintsChangeInternal=new s.vl,this.onDidConstraintsChangeInternal=this._onDidConstraintsChangeInternal.event,this._onDidConstraintsChange=new s.vl,this.onDidConstraintsChange=this._onDidConstraintsChange.event,this._onDidSizeChange=new s.vl,this.onDidSizeChange=this._onDidSizeChange.event,this.addDisposables(this._onDidConstraintsChangeInternal,this._onDidConstraintsChange,this._onDidSizeChange),i&&this.initialize(i)}setConstraints(e){this._onDidConstraintsChangeInternal.fire(e)}setSize(e){this._onDidSizeChange.fire(e)}}},8457(e,t,i){i.d(t,{f:()=>r});var s=i(5727),n=i(8767),o=i(3368);class r extends n.ke{get element(){return this._element}get width(){return this._width}get height(){return this._height}get params(){var e;return null===(e=this._params)||void 0===e?void 0:e.params}constructor(e,t,i){super(),this.id=e,this.component=t,this.api=i,this._height=0,this._width=0,this._element=document.createElement("div"),this._element.tabIndex=-1,this._element.style.outline="none",this._element.style.height="100%",this._element.style.width="100%",this._element.style.overflow="hidden";const n=(0,s.w5)(this._element);this.addDisposables(this.api,n.onDidFocus(()=>{this.api._onDidChangeFocus.fire({isFocused:!0})}),n.onDidBlur(()=>{this.api._onDidChangeFocus.fire({isFocused:!1})}),n)}focus(){const e=new o.X;this.api._onWillFocus.fire(e),e.defaultPrevented||this._element.focus()}layout(e,t){this._width=e,this._height=t,this.api._onDidDimensionChange.fire({width:e,height:t}),this.part&&this._params&&this.part.update(this._params.params)}init(e){this._params=e,this.part=this.getComponent()}update(e){var t,i;this._params=Object.assign(Object.assign({},this._params),{params:Object.assign(Object.assign({},null===(t=this._params)||void 0===t?void 0:t.params),e.params)});for(const t of Object.keys(e.params))void 0===e.params[t]&&delete this._params.params[t];null===(i=this.part)||void 0===i||i.update({params:this._params.params})}toJSON(){var e,t;const i=null!==(t=null===(e=this._params)||void 0===e?void 0:e.params)&&void 0!==t?t:{};return{id:this.id,component:this.component,params:Object.keys(i).length>0?i:void 0}}dispose(){var e;this.api.dispose(),null===(e=this.part)||void 0===e||e.dispose(),super.dispose()}}},8491(e,t,i){i(7823),i(4637),i(5121),i(69)},8767(e,t,i){var s;i.d(t,{HE:()=>o,jG:()=>s,ke:()=>n}),function(e){e.NONE={dispose:()=>{}},e.from=function(e){return{dispose:()=>{e()}}}}(s||(s={}));class n{get isDisposed(){return this._isDisposed}constructor(...e){this._isDisposed=!1,this._disposables=e}addDisposables(...e){e.forEach(e=>this._disposables.push(e))}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposables.forEach(e=>e.dispose()),this._disposables=[])}}class o{constructor(){this._disposable=s.NONE}set value(e){this._disposable&&this._disposable.dispose(),this._disposable=e}dispose(){this._disposable&&(this._disposable.dispose(),this._disposable=s.NONE)}}},8805(e,t,i){i.d(t,{Et:()=>n,qE:()=>s,y1:()=>o});const s=(e,t,i)=>t>i?t:Math.min(i,Math.max(e,t)),n=()=>{let e=1;return{next:()=>(e++).toString()}},o=(e,t)=>{const i=[];if("number"!=typeof t&&(t=e,e=0),e<=t)for(let s=e;s<t;s++)i.push(s);else for(let s=e;s>t;s--)i.push(s);return i}},8871(e,t,i){i.d(t,{g:()=>o});var s=i(9702),n=i(3368);class o extends n.${constructor(e,t){super(e,t),this._onDidConstraintsChangeInternal=new s.vl,this.onDidConstraintsChangeInternal=this._onDidConstraintsChangeInternal.event,this._onDidConstraintsChange=new s.vl({replay:!0}),this.onDidConstraintsChange=this._onDidConstraintsChange.event,this._onDidSizeChange=new s.vl,this.onDidSizeChange=this._onDidSizeChange.event,this.addDisposables(this._onDidConstraintsChangeInternal,this._onDidConstraintsChange,this._onDidSizeChange)}setConstraints(e){this._onDidConstraintsChangeInternal.fire(e)}setSize(e){this._onDidSizeChange.fire(e)}}},9044(e,t,i){i.d(t,{Lh:()=>c,e2:()=>d,y6:()=>l});var s=i(5727),n=i(9702),o=i(8767),r=i(1520),a=i(8805);class h extends n.l0{get nativeEvent(){return this.options.nativeEvent}get position(){return this.options.position}constructor(e){super(),this.options=e}}function l(e){switch(e){case"above":return"top";case"below":return"bottom";case"left":return"left";case"right":return"right";case"within":return"center";default:throw new Error(`invalid direction '${e}'`)}}function d(e){switch(e){case"top":return"above";case"bottom":return"below";case"left":return"left";case"right":return"right";case"center":return"within";default:throw new Error(`invalid position '${e}'`)}}const p={value:20,type:"percentage"},m={value:50,type:"percentage"};class c extends o.ke{get disabled(){return this._disabled}set disabled(e){this._disabled=e}get state(){return this._state}constructor(e,t){super(),this.element=e,this.options=t,this._onDrop=new n.vl,this.onDrop=this._onDrop.event,this._onWillShowOverlay=new n.vl,this.onWillShowOverlay=this._onWillShowOverlay.event,this._disabled=!1,this._acceptedTargetZonesSet=new Set(this.options.acceptedTargetZones),this.dnd=new r.p(this.element,{onDragEnter:()=>{var e,t,i;null===(i=null===(t=(e=this.options).getOverrideTarget)||void 0===t?void 0:t.call(e))||void 0===i||i.getElements()},onDragOver:e=>{var t,i,s,n,o,r,a;c.ACTUAL_TARGET=this;const l=null===(i=(t=this.options).getOverrideTarget)||void 0===i?void 0:i.call(t);if(0===this._acceptedTargetZonesSet.size){if(l)return;return void this.removeDropTarget()}const d=null!==(o=null===(n=(s=this.options).getOverlayOutline)||void 0===n?void 0:n.call(s))&&void 0!==o?o:this.element,p=d.offsetWidth,m=d.offsetHeight;if(0===p||0===m)return;const u=e.currentTarget.getBoundingClientRect(),v=(null!==(r=e.clientX)&&void 0!==r?r:0)-u.left,g=(null!==(a=e.clientY)&&void 0!==a?a:0)-u.top,_=this.calculateQuadrant(this._acceptedTargetZonesSet,v,g,p,m);if(this.isAlreadyUsed(e)||null===_)return void this.removeDropTarget();if(!this.options.canDisplayOverlay(e,_)){if(l)return;return void this.removeDropTarget()}const w=new h({nativeEvent:e,position:_});this._onWillShowOverlay.fire(w),w.defaultPrevented?this.removeDropTarget():(this.markAsUsed(e),l||this.targetElement||(this.targetElement=document.createElement("div"),this.targetElement.className="dv-drop-target-dropzone",this.overlayElement=document.createElement("div"),this.overlayElement.className="dv-drop-target-selection",this._state="center",this.targetElement.appendChild(this.overlayElement),d.classList.add("dv-drop-target"),d.append(this.targetElement)),this.toggleClasses(_,p,m),this._state=_)},onDragLeave:()=>{var e,t;(null===(t=(e=this.options).getOverrideTarget)||void 0===t?void 0:t.call(e))||this.removeDropTarget()},onDragEnd:e=>{var t,i;const s=null===(i=(t=this.options).getOverrideTarget)||void 0===i?void 0:i.call(t);s&&c.ACTUAL_TARGET===this&&this._state&&(e.stopPropagation(),this._onDrop.fire({position:this._state,nativeEvent:e})),this.removeDropTarget(),null==s||s.clear()},onDrop:e=>{var t,i,s;e.preventDefault();const n=this._state;this.removeDropTarget(),null===(s=null===(i=(t=this.options).getOverrideTarget)||void 0===i?void 0:i.call(t))||void 0===s||s.clear(),n&&(e.stopPropagation(),this._onDrop.fire({position:n,nativeEvent:e}))}}),this.addDisposables(this._onDrop,this._onWillShowOverlay,this.dnd)}setTargetZones(e){this._acceptedTargetZonesSet=new Set(e)}setOverlayModel(e){this.options.overlayModel=e}dispose(){this.removeDropTarget(),super.dispose()}markAsUsed(e){e[c.USED_EVENT_ID]=!0}isAlreadyUsed(e){const t=e[c.USED_EVENT_ID];return"boolean"==typeof t&&t}toggleClasses(e,t,i){var n,o,r,h,l,d,p;const c=null===(o=(n=this.options).getOverrideTarget)||void 0===o?void 0:o.call(n);if(!c&&!this.overlayElement)return;const u=t<100,v=i<100,g="left"===e,_="right"===e,w="top"===e,f="bottom"===e,b=!u&&_,D=!u&&g,C=!v&&w,y=!v&&f;let x=1;const z=null!==(h=null===(r=this.options.overlayModel)||void 0===r?void 0:r.size)&&void 0!==h?h:m;if("percentage"===z.type?x=(0,a.qE)(z.value,0,100)/100:((b||D)&&(x=(0,a.qE)(0,z.value,t)/t),(C||y)&&(x=(0,a.qE)(0,z.value,i)/i)),c){const n=null!==(p=null===(d=(l=this.options).getOverlayOutline)||void 0===d?void 0:d.call(l))&&void 0!==p?p:this.element,o=n.getBoundingClientRect(),r=c.getElements(void 0,n),a=r.root,h=r.overlay,m=a.getBoundingClientRect(),v=o.top-m.top,z=o.left-m.left,S={top:v,left:z,width:t,height:i};if(b?(S.left=z+t*(1-x),S.width=t*x):D?S.width=t*x:C?S.height=i*x:y&&(S.top=v+i*(1-x),S.height=i*x),u&&g&&(S.width=4),u&&_&&(S.left=z+t-4,S.width=4),!function(e,t){const{top:i,left:s,width:n,height:o}=t,r=`${Math.round(i)}px`,a=`${Math.round(s)}px`,h=`${Math.round(n)}px`,l=`${Math.round(o)}px`;return e.style.top!==r||e.style.left!==a||e.style.width!==h||e.style.height!==l}(h,S))return;return function(e,t){const{top:i,left:s,width:n,height:o}=t,r=`${Math.round(i)}px`,a=`${Math.round(s)}px`,h=`${Math.round(n)}px`,l=`${Math.round(o)}px`;e.style.top=r,e.style.left=a,e.style.width=h,e.style.height=l,e.style.visibility="visible",e.style.transform&&""!==e.style.transform||(e.style.transform="translate3d(0, 0, 0)")}(h,S),h.className="dv-drop-target-anchor"+(this.options.className?` ${this.options.className}`:""),(0,s.p1)(h,"dv-drop-target-left",g),(0,s.p1)(h,"dv-drop-target-right",_),(0,s.p1)(h,"dv-drop-target-top",w),(0,s.p1)(h,"dv-drop-target-bottom",f),(0,s.p1)(h,"dv-drop-target-center","center"===e),void(r.changed&&((0,s.p1)(h,"dv-drop-target-anchor-container-changed",!0),setTimeout(()=>{(0,s.p1)(h,"dv-drop-target-anchor-container-changed",!1)},10)))}if(!this.overlayElement)return;const S={top:"0px",left:"0px",width:"100%",height:"100%"};b?(S.left=100*(1-x)+"%",S.width=100*x+"%"):D?S.width=100*x+"%":C?S.height=100*x+"%":y&&(S.top=100*(1-x)+"%",S.height=100*x+"%"),function(e,t){const{top:i,left:s,width:n,height:o}=t;e.style.top=i,e.style.left=s,e.style.width=n,e.style.height=o,e.style.visibility="visible",e.style.transform&&""!==e.style.transform||(e.style.transform="translate3d(0, 0, 0)")}(this.overlayElement,S),(0,s.p1)(this.overlayElement,"dv-drop-target-small-vertical",v),(0,s.p1)(this.overlayElement,"dv-drop-target-small-horizontal",u),(0,s.p1)(this.overlayElement,"dv-drop-target-left",g),(0,s.p1)(this.overlayElement,"dv-drop-target-right",_),(0,s.p1)(this.overlayElement,"dv-drop-target-top",w),(0,s.p1)(this.overlayElement,"dv-drop-target-bottom",f),(0,s.p1)(this.overlayElement,"dv-drop-target-center","center"===e)}calculateQuadrant(e,t,i,s,n){var o,r;const a=null!==(r=null===(o=this.options.overlayModel)||void 0===o?void 0:o.activationSize)&&void 0!==r?r:p;return"percentage"===a.type?function(e,t,i,s,n,o){const r=100*t/s,a=100*i/n;return e.has("left")&&r<o?"left":e.has("right")&&r>100-o?"right":e.has("top")&&a<o?"top":e.has("bottom")&&a>100-o?"bottom":e.has("center")?"center":null}(e,t,i,s,n,a.value):function(e,t,i,s,n,o){return e.has("left")&&t<o?"left":e.has("right")&&t>s-o?"right":e.has("top")&&i<o?"top":e.has("bottom")&&i>n-o?"bottom":e.has("center")?"center":null}(e,t,i,s,n,a.value)}removeDropTarget(){var e;this.targetElement&&(this._state=void 0,null===(e=this.targetElement.parentElement)||void 0===e||e.classList.remove("dv-drop-target"),this.targetElement.remove(),this.targetElement=void 0,this.overlayElement=void 0)}}c.USED_EVENT_ID="__dockview_droptarget_event_is_used__"},9065(e,t,i){i.d(t,{s:()=>a});var s=i(1520),n=i(5727),o=i(8767);class r{constructor(){this.cache=new Map,this.currentFrameId=0,this.rafId=null}getPosition(e){const t=this.cache.get(e);if(t&&t.frameId===this.currentFrameId)return t.rect;this.scheduleFrameUpdate();const i=(0,n.BK)(e);return this.cache.set(e,{rect:i,frameId:this.currentFrameId}),i}invalidate(){this.currentFrameId++}scheduleFrameUpdate(){this.rafId||(this.rafId=requestAnimationFrame(()=>{this.currentFrameId++,this.rafId=null}))}}class a extends o.ke{constructor(e,t){super(),this.element=e,this.accessor=t,this.map={},this._disposed=!1,this.positionCache=new r,this.pendingUpdates=new Set,this.addDisposables(o.jG.from(()=>{for(const e of Object.values(this.map))e.disposable.dispose(),e.destroy.dispose();this._disposed=!0}))}updateAllPositions(){if(!this._disposed){this.positionCache.invalidate();for(const e of Object.values(this.map))e.panel.api.isVisible&&e.resize&&e.resize()}}detatch(e){if(this.map[e.api.id]){const{disposable:t,destroy:i}=this.map[e.api.id];return t.dispose(),i.dispose(),delete this.map[e.api.id],!0}return!1}attach(e){const{panel:t,referenceContainer:i}=e;if(!this.map[t.api.id]){const e=function(){const e=document.createElement("div");return e.tabIndex=-1,e}();e.className="dv-render-overlay",this.map[t.api.id]={panel:t,disposable:o.jG.NONE,destroy:o.jG.NONE,element:e}}const r=this.map[t.api.id].element;t.view.content.element.parentElement!==r&&r.appendChild(t.view.content.element),r.parentElement!==this.element&&this.element.appendChild(r);const a=()=>{const e=t.api.id;this.pendingUpdates.has(e)||(this.pendingUpdates.add(e),requestAnimationFrame(()=>{if(this.pendingUpdates.delete(e),this.isDisposed||!this.map[e])return;const s=this.positionCache.getPosition(i.element),o=this.positionCache.getPosition(this.element),a=s.left-o.left,h=s.top-o.top,l=s.width,d=s.height;r.style.left=`${a}px`,r.style.top=`${h}px`,r.style.width=`${l}px`,r.style.height=`${d}px`,(0,n.p1)(r,"dv-render-overlay-float","floating"===t.group.api.location.type)}))},h=()=>{t.api.isVisible&&(this.positionCache.invalidate(),a()),r.style.display=t.api.isVisible?"":"none"},l=new o.HE,d=()=>{"floating"===t.api.location.type?queueMicrotask(()=>{const e=this.accessor.floatingGroups.find(e=>e.group===t.api.group);if(!e)return;const i=e.overlay.element,s=()=>{const e=Number(i.getAttribute("aria-level"));r.style.zIndex=`calc(var(--dv-overlay-z-index, 999) + ${2*e+1})`},n=new MutationObserver(()=>{s()});l.value=o.jG.from(()=>n.disconnect()),n.observe(i,{attributeFilter:["aria-level"],attributes:!0}),s()}):r.style.zIndex=""},p=new o.ke(l,new s.p(r,{onDragEnd:e=>{i.dropTarget.dnd.onDragEnd(e)},onDragEnter:e=>{i.dropTarget.dnd.onDragEnter(e)},onDragLeave:e=>{i.dropTarget.dnd.onDragLeave(e)},onDrop:e=>{i.dropTarget.dnd.onDrop(e)},onDragOver:e=>{i.dropTarget.dnd.onDragOver(e)}}),t.api.onDidVisibilityChange(()=>{h()}),t.api.onDidDimensionsChange(()=>{t.api.isVisible&&a()}),t.api.onDidLocationChange(()=>{d()}));return this.map[t.api.id].destroy=o.jG.from(()=>{var e;t.view.content.element.parentElement===r&&r.removeChild(t.view.content.element),null===(e=r.parentElement)||void 0===e||e.removeChild(r)}),d(),queueMicrotask(()=>{this.isDisposed||h()}),this.map[t.api.id].disposable.dispose(),this.map[t.api.id].disposable=p,this.map[t.api.id].resize=a,r}}},9116(e,t,i){i.d(t,{e:()=>l});var s=i(9702),n=i(8871);class o extends n.g{set pane(e){this._pane=e}constructor(e,t){super(e,t),this._onDidExpansionChange=new s.vl({replay:!0}),this.onDidExpansionChange=this._onDidExpansionChange.event,this._onMouseEnter=new s.vl({}),this.onMouseEnter=this._onMouseEnter.event,this._onMouseLeave=new s.vl({}),this.onMouseLeave=this._onMouseLeave.event,this.addDisposables(this._onDidExpansionChange,this._onMouseEnter,this._onMouseLeave)}setExpanded(e){var t;null===(t=this._pane)||void 0===t||t.setExpanded(e)}get isExpanded(){var e;return!!(null===(e=this._pane)||void 0===e?void 0:e.isExpanded())}}var r=i(5727),a=i(8457),h=i(3638);class l extends a.f{set orientation(e){this._orientation=e}get orientation(){return this._orientation}get minimumSize(){return this.headerSize+(this.isExpanded()?this._minimumBodySize:0)}get maximumSize(){return this.headerSize+(this.isExpanded()?this._maximumBodySize:0)}get size(){return this._size}get orthogonalSize(){return this._orthogonalSize}set orthogonalSize(e){this._orthogonalSize=e}get minimumBodySize(){return this._minimumBodySize}set minimumBodySize(e){this._minimumBodySize="number"==typeof e?e:0}get maximumBodySize(){return this._maximumBodySize}set maximumBodySize(e){this._maximumBodySize="number"==typeof e?e:Number.POSITIVE_INFINITY}get headerVisible(){return this._headerVisible}set headerVisible(e){this._headerVisible=e,this.header.style.display=e?"":"none"}constructor(e){super(e.id,e.component,new o(e.id,e.component)),this._onDidChangeExpansionState=new s.vl({replay:!0}),this.onDidChangeExpansionState=this._onDidChangeExpansionState.event,this._onDidChange=new s.vl,this.onDidChange=this._onDidChange.event,this._orthogonalSize=0,this._size=0,this._isExpanded=!1,this.api.pane=this,this.api.initialize(this),this.headerSize=e.headerSize,this.headerComponent=e.headerComponent,this._minimumBodySize=e.minimumBodySize,this._maximumBodySize=e.maximumBodySize,this._isExpanded=e.isExpanded,this._headerVisible=e.isHeaderVisible,this._onDidChangeExpansionState.fire(this.isExpanded()),this._orientation=e.orientation,this.element.classList.add("dv-pane"),this.addDisposables(this.api.onWillVisibilityChange(e=>{const{isVisible:t}=e,{accessor:i}=this._params;i.setVisible(this,t)}),this.api.onDidSizeChange(e=>{this._onDidChange.fire({size:e.size})}),(0,s.ko)(this.element,"mouseenter",e=>{this.api._onMouseEnter.fire(e)}),(0,s.ko)(this.element,"mouseleave",e=>{this.api._onMouseLeave.fire(e)})),this.addDisposables(this._onDidChangeExpansionState,this.onDidChangeExpansionState(e=>{this.api._onDidExpansionChange.fire({isExpanded:e})}),this.api.onDidFocusChange(e=>{this.header&&(e.isFocused?(0,r.gR)(this.header,"focused"):(0,r.jo)(this.header,"focused"))})),this.renderOnce()}setVisible(e){this.api._onDidVisibilityChange.fire({isVisible:e})}setActive(e){this.api._onDidActiveChange.fire({isActive:e})}isExpanded(){return this._isExpanded}setExpanded(e){this._isExpanded!==e&&(this._isExpanded=e,e?(this.animationTimer&&clearTimeout(this.animationTimer),this.body&&this.element.appendChild(this.body)):this.animationTimer=setTimeout(()=>{var e;null===(e=this.body)||void 0===e||e.remove()},200),this._onDidChange.fire(e?{size:this.width}:{}),this._onDidChangeExpansionState.fire(e))}layout(e,t){this._size=e,this._orthogonalSize=t;const[i,s]=this.orientation===h.t4.HORIZONTAL?[e,t]:[t,e];super.layout(i,s)}init(e){var t,i;super.init(e),"number"==typeof e.minimumBodySize&&(this.minimumBodySize=e.minimumBodySize),"number"==typeof e.maximumBodySize&&(this.maximumBodySize=e.maximumBodySize),this.bodyPart=this.getBodyComponent(),this.headerPart=this.getHeaderComponent(),this.bodyPart.init(Object.assign(Object.assign({},e),{api:this.api})),this.headerPart.init(Object.assign(Object.assign({},e),{api:this.api})),null===(t=this.body)||void 0===t||t.append(this.bodyPart.element),null===(i=this.header)||void 0===i||i.append(this.headerPart.element),"boolean"==typeof e.isExpanded&&this.setExpanded(e.isExpanded)}toJSON(){const e=this._params;return Object.assign(Object.assign({},super.toJSON()),{headerComponent:this.headerComponent,title:e.title})}renderOnce(){this.header=document.createElement("div"),this.header.tabIndex=0,this.header.className="dv-pane-header",this.header.style.height=`${this.headerSize}px`,this.header.style.lineHeight=`${this.headerSize}px`,this.header.style.minHeight=`${this.headerSize}px`,this.header.style.maxHeight=`${this.headerSize}px`,this.element.appendChild(this.header),this.body=document.createElement("div"),this.body.className="dv-pane-body",this.element.appendChild(this.body)}getComponent(){return{update:e=>{var t,i;null===(t=this.bodyPart)||void 0===t||t.update({params:e}),null===(i=this.headerPart)||void 0===i||i.update({params:e})},dispose:()=>{var e,t;null===(e=this.bodyPart)||void 0===e||e.dispose(),null===(t=this.headerPart)||void 0===t||t.dispose()}}}}},9406(e,t,i){i.d(t,{L:()=>r});var s=i(5727),n=i(9702),o=i(8767);class r extends o.ke{constructor(e,t){super(),this.el=e,this.disabled=t,this.dataDisposable=new o.HE,this.pointerEventsDisposable=new o.HE,this._onDragStart=new n.vl,this.onDragStart=this._onDragStart.event,this.addDisposables(this._onDragStart,this.dataDisposable,this.pointerEventsDisposable),this.configure()}setDisabled(e){this.disabled=e}isCancelled(e){return!1}configure(){this.addDisposables(this._onDragStart,(0,n.ko)(this.el,"dragstart",e=>{if(e.defaultPrevented||this.isCancelled(e)||this.disabled)return void e.preventDefault();const t=(0,s.cU)();this.pointerEventsDisposable.value={dispose:()=>{t.release()}},this.el.classList.add("dv-dragged"),setTimeout(()=>this.el.classList.remove("dv-dragged"),0),this.dataDisposable.value=this.getData(e),this._onDragStart.fire(e),e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.items.length>0||e.dataTransfer.setData("text/plain",""))}),(0,n.ko)(this.el,"dragend",()=>{this.pointerEventsDisposable.dispose(),setTimeout(()=>{this.dataDisposable.dispose()},0)}))}}},9438(e,t,i){i.d(t,{q:()=>r});var s=i(5727),n=i(9702),o=i(8767);class r extends o.ke{get window(){var e,t;return null!==(t=null===(e=this._window)||void 0===e?void 0:e.value)&&void 0!==t?t:null}constructor(e,t,i){super(),this.target=e,this.className=t,this.options=i,this._onWillClose=new n.vl,this.onWillClose=this._onWillClose.event,this._onDidClose=new n.vl,this.onDidClose=this._onDidClose.event,this._window=null,this.addDisposables(this._onWillClose,this._onDidClose,{dispose:()=>{this.close()}})}dimensions(){if(!this._window)return null;const e=this._window.value.screenX;return{top:this._window.value.screenY,left:e,width:this._window.value.innerWidth,height:this._window.value.innerHeight}}close(){var e,t;this._window&&(this._onWillClose.fire(),null===(t=(e=this.options).onWillClose)||void 0===t||t.call(e,{id:this.target,window:this._window.value}),this._window.disposable.dispose(),this._window=null,this._onDidClose.fire())}open(){var e,t,i,r,a,h;return i=this,r=void 0,h=function*(){if(this._window)throw new Error("instance of popout window is already open");const i=`${this.options.url}`,r=Object.entries({top:this.options.top,left:this.options.left,width:this.options.width,height:this.options.height}).map(([e,t])=>`${e}=${t}`).join(","),a=window.open(i,this.target,r);if(!a)return null;const h=new o.ke;this._window={value:a,disposable:h},h.addDisposables(o.jG.from(()=>{a.close()}),(0,n.ko)(window,"beforeunload",()=>{this.close()}));const l=this.createPopoutWindowContainer();return this.className&&l.classList.add(this.className),null===(t=(e=this.options).onDidOpen)||void 0===t||t.call(e,{id:this.target,window:a}),new Promise((e,t)=>{a.addEventListener("unload",e=>{}),a.addEventListener("load",()=>{try{const t=a.document;t.title=document.title,t.body.appendChild(l),(0,s.se)(t,window.document.styleSheets),(0,n.ko)(a,"beforeunload",()=>{this.close()}),e(l)}catch(e){t(e)}})})},new((a=void 0)||(a=Promise))(function(e,t){function s(e){try{o(h.next(e))}catch(e){t(e)}}function n(e){try{o(h.throw(e))}catch(e){t(e)}}function o(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a(function(e){e(i)})).then(s,n)}o((h=h.apply(i,r||[])).next())})}createPopoutWindowContainer(){const e=document.createElement("div");return e.classList.add("dv-popout-window"),e.id="dv-popout-window",e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.top="0px",e.style.left="0px",e}}},9533(e,t,i){i.d(t,{q:()=>n});var s=i(5727);function n(e,t,i){var n,o;(0,s.gR)(t,"dv-dragged"),t.style.top="-9999px",document.body.appendChild(t),e.setDragImage(t,null!==(n=null==i?void 0:i.x)&&void 0!==n?n:0,null!==(o=null==i?void 0:i.y)&&void 0!==o?o:0),setTimeout(()=>{(0,s.jo)(t,"dv-dragged"),t.remove()},0)}},9702(e,t,i){var s;i.d(t,{Jh:()=>s,ko:()=>l,l0:()=>n,rS:()=>o,ue:()=>d,vl:()=>h}),function(e){e.any=(...e)=>t=>{const i=e.map(e=>e(t));return{dispose:()=>{i.forEach(e=>{e.dispose()})}}}}(s||(s={}));class n{constructor(){this._defaultPrevented=!1}get defaultPrevented(){return this._defaultPrevented}preventDefault(){this._defaultPrevented=!0}}class o{constructor(){this._isAccepted=!1}get isAccepted(){return this._isAccepted}accept(){this._isAccepted=!0}}class r{static create(){var e;return new r(null!==(e=(new Error).stack)&&void 0!==e?e:"")}constructor(e){this.value=e}print(){console.warn("dockview: stacktrace",this.value)}}class a{constructor(e,t){this.callback=e,this.stacktrace=t}}class h{static setLeakageMonitorEnabled(e){e!==h.ENABLE_TRACKING&&h.MEMORY_LEAK_WATCHER.clear(),h.ENABLE_TRACKING=e}get value(){return this._last}constructor(e){this.options=e,this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=e=>{var t;(null===(t=this.options)||void 0===t?void 0:t.replay)&&void 0!==this._last&&e(this._last);const i=new a(e,h.ENABLE_TRACKING?r.create():void 0);return this._listeners.push(i),{dispose:()=>{const e=this._listeners.indexOf(i);e>-1?this._listeners.splice(e,1):h.ENABLE_TRACKING}}},h.ENABLE_TRACKING&&h.MEMORY_LEAK_WATCHER.add(this._event,r.create())),this._event}fire(e){var t;(null===(t=this.options)||void 0===t?void 0:t.replay)&&(this._last=e);for(const t of this._listeners)t.callback(e)}dispose(){this._disposed||(this._disposed=!0,this._listeners.length>0&&(h.ENABLE_TRACKING&&queueMicrotask(()=>{var e;for(const t of this._listeners)console.warn("dockview: stacktrace",null===(e=t.stacktrace)||void 0===e?void 0:e.print())}),this._listeners=[]),h.ENABLE_TRACKING&&this._event&&h.MEMORY_LEAK_WATCHER.delete(this._event))}}function l(e,t,i,s){return e.addEventListener(t,i,s),{dispose:()=>{e.removeEventListener(t,i,s)}}}h.ENABLE_TRACKING=!1,h.MEMORY_LEAK_WATCHER=new class{constructor(){this.events=new Map}get size(){return this.events.size}add(e,t){this.events.set(e,t)}delete(e){this.events.delete(e)}clear(){this.events.clear()}};class d{constructor(){this._onFired=new h,this._currentFireCount=0,this._queued=!1,this.onEvent=e=>{const t=this._currentFireCount;return this._onFired.event(()=>{this._currentFireCount>t&&e()})}}fire(){this._currentFireCount++,this._queued||(this._queued=!0,queueMicrotask(()=>{this._queued=!1,this._onFired.fire()}))}dispose(){this._onFired.dispose()}}},9756(e,t,i){i.d(t,{h:()=>h});var s=i(5727),n=i(9702),o=i(8767),r=i(8805);const a=new class{constructor(){this._orderedList=[]}push(e){this._orderedList=[...this._orderedList.filter(t=>t!==e),e],this.update()}destroy(e){this._orderedList=this._orderedList.filter(t=>t!==e),this.update()}update(){for(let e=0;e<this._orderedList.length;e++)this._orderedList[e].setAttribute("aria-level",`${e}`),this._orderedList[e].style.zIndex=`calc(var(--dv-overlay-z-index, 999) + ${2*e})`}};class h extends o.ke{set minimumInViewportWidth(e){this.options.minimumInViewportWidth=e}set minimumInViewportHeight(e){this.options.minimumInViewportHeight=e}get element(){return this._element}get isVisible(){return this._isVisible}constructor(e){super(),this.options=e,this._element=document.createElement("div"),this._onDidChange=new n.vl,this.onDidChange=this._onDidChange.event,this._onDidChangeEnd=new n.vl,this.onDidChangeEnd=this._onDidChangeEnd.event,this.addDisposables(this._onDidChange,this._onDidChangeEnd),this._element.className="dv-resize-container",this._isVisible=!0,this.setupResize("top"),this.setupResize("bottom"),this.setupResize("left"),this.setupResize("right"),this.setupResize("topleft"),this.setupResize("topright"),this.setupResize("bottomleft"),this.setupResize("bottomright"),this._element.appendChild(this.options.content),this.options.container.appendChild(this._element),this.setBounds(Object.assign(Object.assign(Object.assign(Object.assign({height:this.options.height,width:this.options.width},"top"in this.options&&{top:this.options.top}),"bottom"in this.options&&{bottom:this.options.bottom}),"left"in this.options&&{left:this.options.left}),"right"in this.options&&{right:this.options.right})),a.push(this._element)}setVisible(e){e!==this.isVisible&&(this._isVisible=e,(0,s.p1)(this.element,"dv-hidden",!this.isVisible))}bringToFront(){a.push(this._element)}setBounds(e={}){"number"==typeof e.height&&(this._element.style.height=`${e.height}px`),"number"==typeof e.width&&(this._element.style.width=`${e.width}px`),"top"in e&&"number"==typeof e.top&&(this._element.style.top=`${e.top}px`,this._element.style.bottom="auto",this.verticalAlignment="top"),"bottom"in e&&"number"==typeof e.bottom&&(this._element.style.bottom=`${e.bottom}px`,this._element.style.top="auto",this.verticalAlignment="bottom"),"left"in e&&"number"==typeof e.left&&(this._element.style.left=`${e.left}px`,this._element.style.right="auto",this.horiziontalAlignment="left"),"right"in e&&"number"==typeof e.right&&(this._element.style.right=`${e.right}px`,this._element.style.left="auto",this.horiziontalAlignment="right");const t=this.options.container.getBoundingClientRect(),i=this._element.getBoundingClientRect(),s=Math.max(0,this.getMinimumWidth(i.width)),n=Math.max(0,this.getMinimumHeight(i.height));if("top"===this.verticalAlignment){const e=(0,r.qE)(i.top-t.top,-n,Math.max(0,t.height-i.height+n));this._element.style.top=`${e}px`,this._element.style.bottom="auto"}if("bottom"===this.verticalAlignment){const e=(0,r.qE)(t.bottom-i.bottom,-n,Math.max(0,t.height-i.height+n));this._element.style.bottom=`${e}px`,this._element.style.top="auto"}if("left"===this.horiziontalAlignment){const e=(0,r.qE)(i.left-t.left,-s,Math.max(0,t.width-i.width+s));this._element.style.left=`${e}px`,this._element.style.right="auto"}if("right"===this.horiziontalAlignment){const e=(0,r.qE)(t.right-i.right,-s,Math.max(0,t.width-i.width+s));this._element.style.right=`${e}px`,this._element.style.left="auto"}this._onDidChange.fire()}toJSON(){const e=this.options.container.getBoundingClientRect(),t=this._element.getBoundingClientRect(),i={};return"top"===this.verticalAlignment?i.top=parseFloat(this._element.style.top):"bottom"===this.verticalAlignment?i.bottom=parseFloat(this._element.style.bottom):i.top=t.top-e.top,"left"===this.horiziontalAlignment?i.left=parseFloat(this._element.style.left):"right"===this.horiziontalAlignment?i.right=parseFloat(this._element.style.right):i.left=t.left-e.left,i.width=t.width,i.height=t.height,i}setupDrag(e,t={inDragMode:!1}){const i=new o.HE,h=()=>{let e=null;const t=(0,s.cU)();i.value=new o.ke({dispose:()=>{t.release()}},(0,n.ko)(window,"pointermove",t=>{const i=this.options.container.getBoundingClientRect(),n=t.clientX-i.left,o=t.clientY-i.top;(0,s.p1)(this._element,"dv-resize-container-dragging",!0);const a=this._element.getBoundingClientRect();null===e&&(e={x:t.clientX-a.left,y:t.clientY-a.top});const h=Math.max(0,this.getMinimumWidth(a.width)),l=Math.max(0,this.getMinimumHeight(a.height)),d=(0,r.qE)(o-e.y,-l,Math.max(0,i.height-a.height+l)),p=(0,r.qE)(e.y-o+i.height-a.height,-l,Math.max(0,i.height-a.height+l)),m=(0,r.qE)(n-e.x,-h,Math.max(0,i.width-a.width+h)),c=(0,r.qE)(e.x-n+i.width-a.width,-h,Math.max(0,i.width-a.width+h)),u={};d<=p?u.top=d:u.bottom=p,m<=c?u.left=m:u.right=c,this.setBounds(u)}),(0,n.ko)(window,"pointerup",()=>{(0,s.p1)(this._element,"dv-resize-container-dragging",!1),i.dispose(),this._onDidChangeEnd.fire()}))};this.addDisposables(i,(0,n.ko)(e,"pointerdown",e=>{e.defaultPrevented?e.preventDefault():(0,s.Sn)(e)||h()}),(0,n.ko)(this.options.content,"pointerdown",e=>{e.defaultPrevented||(0,s.Sn)(e)||e.shiftKey&&h()}),(0,n.ko)(this.options.content,"pointerdown",()=>{a.push(this._element)},!0)),t.inDragMode&&h()}setupResize(e){const t=document.createElement("div");t.className=`dv-resize-handle-${e}`,this._element.appendChild(t);const i=new o.HE;this.addDisposables(i,(0,n.ko)(t,"pointerdown",t=>{t.preventDefault();let a=null;const l=(0,s.cU)();i.value=new o.ke((0,n.ko)(window,"pointermove",t=>{const i=this.options.container.getBoundingClientRect(),s=this._element.getBoundingClientRect(),n=t.clientY-i.top,o=t.clientX-i.left;let l,d,p,m,c,u;null===a&&(a={originalY:n,originalHeight:s.height,originalX:o,originalWidth:s.width});const v=()=>{const e=a.originalY+a.originalHeight>i.height?Math.max(0,i.height-h.MINIMUM_HEIGHT):Math.max(0,a.originalY+a.originalHeight-h.MINIMUM_HEIGHT);l=(0,r.qE)(n,0,e),p=a.originalY+a.originalHeight-l,d=i.height-l-p},g=()=>{l=a.originalY-a.originalHeight;const e=l<0&&"number"==typeof this.options.minimumInViewportHeight?-l+this.options.minimumInViewportHeight:h.MINIMUM_HEIGHT,t=i.height-Math.max(0,l);p=(0,r.qE)(n-l,e,t),d=i.height-l-p},_=()=>{const e=a.originalX+a.originalWidth>i.width?Math.max(0,i.width-h.MINIMUM_WIDTH):Math.max(0,a.originalX+a.originalWidth-h.MINIMUM_WIDTH);m=(0,r.qE)(o,0,e),u=a.originalX+a.originalWidth-m,c=i.width-m-u},w=()=>{m=a.originalX-a.originalWidth;const e=m<0&&"number"==typeof this.options.minimumInViewportWidth?-m+this.options.minimumInViewportWidth:h.MINIMUM_WIDTH,t=i.width-Math.max(0,m);u=(0,r.qE)(o-m,e,t),c=i.width-m-u};switch(e){case"top":v();break;case"bottom":g();break;case"left":_();break;case"right":w();break;case"topleft":v(),_();break;case"topright":v(),w();break;case"bottomleft":g(),_();break;case"bottomright":g(),w()}const f={};l<=d?f.top=l:f.bottom=d,m<=c?f.left=m:f.right=c,f.height=p,f.width=u,this.setBounds(f)}),{dispose:()=>{l.release()}},(0,n.ko)(window,"pointerup",()=>{i.dispose(),this._onDidChangeEnd.fire()}))}))}getMinimumWidth(e){return"number"==typeof this.options.minimumInViewportWidth?e-this.options.minimumInViewportWidth:0}getMinimumHeight(e){return"number"==typeof this.options.minimumInViewportHeight?e-this.options.minimumInViewportHeight:0}dispose(){a.destroy(this._element),this._element.remove(),super.dispose()}}h.MINIMUM_HEIGHT=20,h.MINIMUM_WIDTH=20},9795(e,t,i){i.d(t,{j:()=>r});var s=i(8767),n=i(9702),o=i(3637);class r extends s.ke{get element(){return this._element}constructor(){super(),this._element=document.createElement("div"),this._element.className="dv-default-tab",this._content=document.createElement("div"),this._content.className="dv-default-tab-content",this.action=document.createElement("div"),this.action.className="dv-default-tab-action",this.action.appendChild((0,o.p$)()),this._element.appendChild(this._content),this._element.appendChild(this.action),this.render()}init(e){this._title=e.title,this.addDisposables(e.api.onDidTitleChange(e=>{this._title=e.title,this.render()}),(0,n.ko)(this.action,"pointerdown",e=>{e.preventDefault()}),(0,n.ko)(this.action,"click",t=>{t.defaultPrevented||(t.preventDefault(),e.api.close())})),this.render()}render(){var e;this._content.textContent!==this._title&&(this._content.textContent=null!==(e=this._title)&&void 0!==e?e:"")}}}}]);
//# sourceMappingURL=446.ec16f95471958636c123.js.map