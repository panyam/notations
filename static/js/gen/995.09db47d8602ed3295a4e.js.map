{"version":3,"file":"995.09db47d8602ed3295a4e.js","mappings":"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AAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,WAAY,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,cAAe,CAAC,EAAG,UAAW,CAAC,EAAG,SAAU,CAAC,EAAG,eAAgB,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,eAAgB,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,UAAW,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,SAAU,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,UAAW,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,UAAW,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,SAAU,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,UAAW,CAAC,EAAG,SAAU,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,WAAY,CAAC,EAAG,WAAY,CAAC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AW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,EAAG,UAAW,CAAC,GAAI,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SAAU,CAAC,EAAG,SA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","sources":["webpack://notations/./node_modules/.pnpm/punycode.js@2.3.1/node_modules/punycode.js/punycode.es6.js","webpack://notations/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/generated/decode-data-xml.js","webpack://notations/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/generated/encode-html.js","webpack://notations/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/index.js","webpack://notations/./node_modules/.pnpm/style-loader@4.0.0_webpack@5.104.1/node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://notations/./node_modules/.pnpm/style-loader@4.0.0_webpack@5.104.1/node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/nodes/identity.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/visit.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/doc/directives.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/doc/anchors.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/doc/applyReviver.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/nodes/toJS.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/nodes/Node.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/nodes/Alias.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/nodes/Scalar.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/doc/createNode.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/nodes/Collection.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/stringify/stringifyComment.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/stringify/foldFlowLines.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/stringify/stringifyString.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/stringify/stringify.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/log.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/yaml-1.1/merge.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/nodes/addPairToJSMap.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/nodes/Pair.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/stringify/stringifyPair.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/stringify/stringifyCollection.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/nodes/YAMLMap.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/common/map.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/nodes/YAMLSeq.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/common/seq.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/common/string.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/common/null.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/core/bool.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/stringify/stringifyNumber.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/core/float.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/core/int.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/core/schema.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/json/schema.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/yaml-1.1/binary.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/yaml-1.1/pairs.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/yaml-1.1/omap.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/yaml-1.1/bool.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/yaml-1.1/float.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/yaml-1.1/int.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/yaml-1.1/set.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/yaml-1.1/timestamp.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/yaml-1.1/schema.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/tags.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/schema/Schema.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/doc/Document.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/stringify/stringifyDocument.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/errors.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/resolve-props.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/util-contains-newline.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/util-flow-indent-check.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/util-map-includes.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/resolve-block-map.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/resolve-end.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/resolve-flow-collection.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/compose-collection.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/resolve-block-seq.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/resolve-block-scalar.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/resolve-flow-scalar.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/compose-scalar.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/util-empty-scalar-position.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/compose-node.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/composer.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/compose/compose-doc.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/parse/cst-scalar.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/parse/cst-stringify.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/parse/cst-visit.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/parse/cst.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/parse/lexer.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/parse/line-counter.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/parse/parser.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/dist/public-api.js","webpack://notations/./node_modules/.pnpm/yaml@2.8.2/node_modules/yaml/browser/index.js","webpack://notations/./node_modules/.pnpm/style-loader@4.0.0_webpack@5.104.1/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://notations/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/decode.js","webpack://notations/./node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://notations/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/dist/index.cjs.js","webpack://notations/./node_modules/.pnpm/galore@1.0.6/node_modules/galore/lib/esm/graph.js","webpack://notations/./node_modules/.pnpm/galore@1.0.6/node_modules/galore/lib/esm/sets.js","webpack://notations/./node_modules/.pnpm/galore@1.0.6/node_modules/galore/lib/esm/grammar.js","webpack://notations/./node_modules/.pnpm/galore@1.0.6/node_modules/galore/lib/esm/dsl.js","webpack://notations/./node_modules/.pnpm/galore@1.0.6/node_modules/galore/lib/esm/lr.js","webpack://notations/./node_modules/.pnpm/galore@1.0.6/node_modules/galore/lib/esm/parser.js","webpack://notations/./node_modules/.pnpm/galore@1.0.6/node_modules/galore/lib/esm/errors.js","webpack://notations/./node_modules/.pnpm/galore@1.0.6/node_modules/galore/lib/esm/lritems.js","webpack://notations/./node_modules/.pnpm/galore@1.0.6/node_modules/galore/lib/esm/ptables.js","webpack://notations/./node_modules/.pnpm/galore@1.0.6/node_modules/galore/lib/esm/factory.js","webpack://notations/./node_modules/.pnpm/galore@1.0.6/node_modules/galore/lib/esm/debug.js","webpack://notations/./node_modules/.pnpm/style-loader@4.0.0_webpack@5.104.1/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://notations/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/encode.js","webpack://notations/./node_modules/.pnpm/uc.micro@2.1.0/node_modules/uc.micro/build/index.cjs.js","webpack://notations/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/generated/decode-data-html.js","webpack://notations/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/decode_codepoint.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/charclasses.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/propertyescapes.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/core.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/vm.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/compiler.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/errors.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/tape.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/token.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/utils.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/jsparser.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/flexparser.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/builder.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/tokenizer.js","webpack://notations/./node_modules/.pnpm/tlex@1.0.2/node_modules/tlex/lib/esm/samples.js","webpack://notations/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/escape.js","webpack://notations/./node_modules/.pnpm/style-loader@4.0.0_webpack@5.104.1/node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://notations/./node_modules/.pnpm/style-loader@4.0.0_webpack@5.104.1/node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://notations/./node_modules/.pnpm/@panyam+tsutils@1.0.0/node_modules/@panyam/tsutils/lib/esm/types.js","webpack://notations/./node_modules/.pnpm/@panyam+tsutils@1.0.0/node_modules/@panyam/tsutils/lib/esm/constants.js","webpack://notations/./node_modules/.pnpm/@panyam+tsutils@1.0.0/node_modules/@panyam/tsutils/lib/esm/comms/events.js","webpack://notations/./node_modules/.pnpm/@panyam+tsutils@1.0.0/node_modules/@panyam/tsutils/lib/esm/list.js","webpack://notations/./node_modules/.pnpm/@panyam+tsutils@1.0.0/node_modules/@panyam/tsutils/lib/esm/geom.js","webpack://notations/./node_modules/.pnpm/@panyam+tsutils@1.0.0/node_modules/@panyam/tsutils/lib/esm/browser.js","webpack://notations/./node_modules/.pnpm/@panyam+tsutils@1.0.0/node_modules/@panyam/tsutils/lib/esm/dom.js","webpack://notations/./node_modules/.pnpm/@panyam+tsutils@1.0.0/node_modules/@panyam/tsutils/lib/esm/numberutils.js","webpack://notations/./node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/runtime/api.js","webpack://notations/./node_modules/.pnpm/linkify-it@5.0.0/node_modules/linkify-it/build/index.cjs.js","webpack://notations/./node_modules/.pnpm/mdurl@2.0.0/node_modules/mdurl/build/index.cjs.js"],"sourcesContent":["'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7F]/; // Note: U+007F DEL is excluded too.\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, callback) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = callback(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {String} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(domain, callback) {\n\tconst parts = domain.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tdomain = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tdomain = domain.replace(regexSeparators, '\\x2E');\n\tconst labels = domain.split('.');\n\tconst encoded = map(labels, callback).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = codePoints => String.fromCodePoint(...codePoints);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint >= 0x30 && codePoint < 0x3A) {\n\t\treturn 26 + (codePoint - 0x30);\n\t}\n\tif (codePoint >= 0x41 && codePoint < 0x5B) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint >= 0x61 && codePoint < 0x7B) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tconst oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\t\t\tif (digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tconst inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tconst basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue === n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount === basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.3.1',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport { ucs2decode, ucs2encode, decode, encode, toASCII, toUnicode };\nexport default punycode;\n","\"use strict\";\n// Generated using scripts/write-decode-map.ts\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = new Uint16Array(\n// prettier-ignore\n\"\\u0200aglq\\t\\x15\\x18\\x1b\\u026d\\x0f\\0\\0\\x12p;\\u4026os;\\u4027t;\\u403et;\\u403cuot;\\u4022\"\n    .split(\"\")\n    .map(function (c) { return c.charCodeAt(0); }));\n//# sourceMappingURL=decode-data-xml.js.map","\"use strict\";\n// Generated using scripts/write-encode-map.ts\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction restoreDiff(arr) {\n    for (var i = 1; i < arr.length; i++) {\n        arr[i][0] += arr[i - 1][0] + 1;\n    }\n    return arr;\n}\n// prettier-ignore\nexports.default = new Map(/* #__PURE__ */ restoreDiff([[9, \"&Tab;\"], [0, \"&NewLine;\"], [22, \"&excl;\"], [0, \"&quot;\"], [0, \"&num;\"], [0, \"&dollar;\"], [0, \"&percnt;\"], [0, \"&amp;\"], [0, \"&apos;\"], [0, \"&lpar;\"], [0, \"&rpar;\"], [0, \"&ast;\"], [0, \"&plus;\"], [0, \"&comma;\"], [1, \"&period;\"], [0, \"&sol;\"], [10, \"&colon;\"], [0, \"&semi;\"], [0, { v: \"&lt;\", n: 8402, o: \"&nvlt;\" }], [0, { v: \"&equals;\", n: 8421, o: \"&bne;\" }], [0, { v: \"&gt;\", n: 8402, o: \"&nvgt;\" }], [0, \"&quest;\"], [0, \"&commat;\"], [26, \"&lbrack;\"], [0, \"&bsol;\"], [0, \"&rbrack;\"], [0, \"&Hat;\"], [0, \"&lowbar;\"], [0, \"&DiacriticalGrave;\"], [5, { n: 106, o: \"&fjlig;\" }], [20, \"&lbrace;\"], [0, \"&verbar;\"], [0, \"&rbrace;\"], [34, \"&nbsp;\"], [0, \"&iexcl;\"], [0, \"&cent;\"], [0, \"&pound;\"], [0, \"&curren;\"], [0, \"&yen;\"], [0, \"&brvbar;\"], [0, \"&sect;\"], [0, \"&die;\"], [0, \"&copy;\"], [0, \"&ordf;\"], [0, \"&laquo;\"], [0, \"&not;\"], [0, \"&shy;\"], [0, \"&circledR;\"], [0, \"&macr;\"], [0, \"&deg;\"], [0, \"&PlusMinus;\"], [0, \"&sup2;\"], [0, \"&sup3;\"], [0, \"&acute;\"], [0, \"&micro;\"], [0, \"&para;\"], [0, \"&centerdot;\"], [0, \"&cedil;\"], [0, \"&sup1;\"], [0, \"&ordm;\"], [0, \"&raquo;\"], [0, \"&frac14;\"], [0, \"&frac12;\"], [0, \"&frac34;\"], [0, \"&iquest;\"], [0, \"&Agrave;\"], [0, \"&Aacute;\"], [0, \"&Acirc;\"], [0, \"&Atilde;\"], [0, \"&Auml;\"], [0, \"&angst;\"], [0, \"&AElig;\"], [0, \"&Ccedil;\"], [0, \"&Egrave;\"], [0, \"&Eacute;\"], [0, \"&Ecirc;\"], [0, \"&Euml;\"], [0, \"&Igrave;\"], [0, \"&Iacute;\"], [0, \"&Icirc;\"], [0, \"&Iuml;\"], [0, \"&ETH;\"], [0, \"&Ntilde;\"], [0, \"&Ograve;\"], [0, \"&Oacute;\"], [0, \"&Ocirc;\"], [0, \"&Otilde;\"], [0, \"&Ouml;\"], [0, \"&times;\"], [0, \"&Oslash;\"], [0, \"&Ugrave;\"], [0, \"&Uacute;\"], [0, \"&Ucirc;\"], [0, \"&Uuml;\"], [0, \"&Yacute;\"], [0, \"&THORN;\"], [0, \"&szlig;\"], [0, \"&agrave;\"], [0, \"&aacute;\"], [0, \"&acirc;\"], [0, \"&atilde;\"], [0, \"&auml;\"], [0, \"&aring;\"], [0, \"&aelig;\"], [0, \"&ccedil;\"], [0, \"&egrave;\"], [0, \"&eacute;\"], [0, \"&ecirc;\"], [0, \"&euml;\"], [0, \"&igrave;\"], [0, \"&iacute;\"], [0, \"&icirc;\"], [0, \"&iuml;\"], [0, \"&eth;\"], [0, \"&ntilde;\"], [0, \"&ograve;\"], [0, \"&oacute;\"], [0, \"&ocirc;\"], [0, \"&otilde;\"], [0, \"&ouml;\"], [0, \"&div;\"], [0, \"&oslash;\"], [0, \"&ugrave;\"], [0, \"&uacute;\"], [0, \"&ucirc;\"], [0, \"&uuml;\"], [0, \"&yacute;\"], [0, \"&thorn;\"], [0, \"&yuml;\"], [0, \"&Amacr;\"], [0, \"&amacr;\"], [0, \"&Abreve;\"], [0, \"&abreve;\"], [0, \"&Aogon;\"], [0, \"&aogon;\"], [0, \"&Cacute;\"], [0, \"&cacute;\"], [0, \"&Ccirc;\"], [0, \"&ccirc;\"], [0, \"&Cdot;\"], [0, \"&cdot;\"], [0, \"&Ccaron;\"], [0, \"&ccaron;\"], [0, \"&Dcaron;\"], [0, \"&dcaron;\"], [0, \"&Dstrok;\"], [0, \"&dstrok;\"], [0, \"&Emacr;\"], [0, \"&emacr;\"], [2, \"&Edot;\"], [0, \"&edot;\"], [0, \"&Eogon;\"], [0, \"&eogon;\"], [0, \"&Ecaron;\"], [0, \"&ecaron;\"], [0, \"&Gcirc;\"], [0, \"&gcirc;\"], [0, \"&Gbreve;\"], [0, \"&gbreve;\"], [0, \"&Gdot;\"], [0, \"&gdot;\"], [0, \"&Gcedil;\"], [1, \"&Hcirc;\"], [0, \"&hcirc;\"], [0, \"&Hstrok;\"], [0, \"&hstrok;\"], [0, \"&Itilde;\"], [0, \"&itilde;\"], [0, \"&Imacr;\"], [0, \"&imacr;\"], [2, \"&Iogon;\"], [0, \"&iogon;\"], [0, \"&Idot;\"], [0, \"&imath;\"], [0, \"&IJlig;\"], [0, \"&ijlig;\"], [0, \"&Jcirc;\"], [0, \"&jcirc;\"], [0, \"&Kcedil;\"], [0, \"&kcedil;\"], [0, \"&kgreen;\"], [0, \"&Lacute;\"], [0, \"&lacute;\"], [0, \"&Lcedil;\"], [0, \"&lcedil;\"], [0, \"&Lcaron;\"], [0, \"&lcaron;\"], [0, \"&Lmidot;\"], [0, \"&lmidot;\"], [0, \"&Lstrok;\"], [0, \"&lstrok;\"], [0, \"&Nacute;\"], [0, \"&nacute;\"], [0, \"&Ncedil;\"], [0, \"&ncedil;\"], [0, \"&Ncaron;\"], [0, \"&ncaron;\"], [0, \"&napos;\"], [0, \"&ENG;\"], [0, \"&eng;\"], [0, \"&Omacr;\"], [0, \"&omacr;\"], [2, \"&Odblac;\"], [0, \"&odblac;\"], [0, \"&OElig;\"], [0, \"&oelig;\"], [0, \"&Racute;\"], [0, \"&racute;\"], [0, \"&Rcedil;\"], [0, \"&rcedil;\"], [0, \"&Rcaron;\"], [0, \"&rcaron;\"], [0, \"&Sacute;\"], [0, \"&sacute;\"], [0, \"&Scirc;\"], [0, \"&scirc;\"], [0, \"&Scedil;\"], [0, \"&scedil;\"], [0, \"&Scaron;\"], [0, \"&scaron;\"], [0, \"&Tcedil;\"], [0, \"&tcedil;\"], [0, \"&Tcaron;\"], [0, \"&tcaron;\"], [0, \"&Tstrok;\"], [0, \"&tstrok;\"], [0, \"&Utilde;\"], [0, \"&utilde;\"], [0, \"&Umacr;\"], [0, \"&umacr;\"], [0, \"&Ubreve;\"], [0, \"&ubreve;\"], [0, \"&Uring;\"], [0, \"&uring;\"], [0, \"&Udblac;\"], [0, \"&udblac;\"], [0, \"&Uogon;\"], [0, \"&uogon;\"], [0, \"&Wcirc;\"], [0, \"&wcirc;\"], [0, \"&Ycirc;\"], [0, \"&ycirc;\"], [0, \"&Yuml;\"], [0, \"&Zacute;\"], [0, \"&zacute;\"], [0, \"&Zdot;\"], [0, \"&zdot;\"], [0, \"&Zcaron;\"], [0, \"&zcaron;\"], [19, \"&fnof;\"], [34, \"&imped;\"], [63, \"&gacute;\"], [65, \"&jmath;\"], [142, \"&circ;\"], [0, \"&caron;\"], [16, \"&breve;\"], [0, \"&DiacriticalDot;\"], [0, \"&ring;\"], [0, \"&ogon;\"], [0, \"&DiacriticalTilde;\"], [0, \"&dblac;\"], [51, \"&DownBreve;\"], [127, \"&Alpha;\"], [0, \"&Beta;\"], [0, \"&Gamma;\"], [0, \"&Delta;\"], [0, \"&Epsilon;\"], [0, \"&Zeta;\"], [0, \"&Eta;\"], [0, \"&Theta;\"], [0, \"&Iota;\"], [0, \"&Kappa;\"], [0, \"&Lambda;\"], [0, \"&Mu;\"], [0, \"&Nu;\"], [0, \"&Xi;\"], [0, \"&Omicron;\"], [0, \"&Pi;\"], [0, \"&Rho;\"], [1, \"&Sigma;\"], [0, \"&Tau;\"], [0, \"&Upsilon;\"], [0, \"&Phi;\"], [0, \"&Chi;\"], [0, \"&Psi;\"], [0, \"&ohm;\"], [7, \"&alpha;\"], [0, \"&beta;\"], [0, \"&gamma;\"], [0, \"&delta;\"], [0, \"&epsi;\"], [0, \"&zeta;\"], [0, \"&eta;\"], [0, \"&theta;\"], [0, \"&iota;\"], [0, \"&kappa;\"], [0, \"&lambda;\"], [0, \"&mu;\"], [0, \"&nu;\"], [0, \"&xi;\"], [0, \"&omicron;\"], [0, \"&pi;\"], [0, \"&rho;\"], [0, \"&sigmaf;\"], [0, \"&sigma;\"], [0, \"&tau;\"], [0, \"&upsi;\"], [0, \"&phi;\"], [0, \"&chi;\"], [0, \"&psi;\"], [0, \"&omega;\"], [7, \"&thetasym;\"], [0, \"&Upsi;\"], [2, \"&phiv;\"], [0, \"&piv;\"], [5, \"&Gammad;\"], [0, \"&digamma;\"], [18, \"&kappav;\"], [0, \"&rhov;\"], [3, \"&epsiv;\"], [0, \"&backepsilon;\"], [10, \"&IOcy;\"], [0, \"&DJcy;\"], [0, \"&GJcy;\"], [0, \"&Jukcy;\"], [0, \"&DScy;\"], [0, \"&Iukcy;\"], [0, \"&YIcy;\"], [0, \"&Jsercy;\"], [0, \"&LJcy;\"], [0, \"&NJcy;\"], [0, \"&TSHcy;\"], [0, \"&KJcy;\"], [1, \"&Ubrcy;\"], [0, \"&DZcy;\"], [0, \"&Acy;\"], [0, \"&Bcy;\"], [0, \"&Vcy;\"], [0, \"&Gcy;\"], [0, \"&Dcy;\"], [0, \"&IEcy;\"], [0, \"&ZHcy;\"], [0, \"&Zcy;\"], [0, \"&Icy;\"], [0, \"&Jcy;\"], [0, \"&Kcy;\"], [0, \"&Lcy;\"], [0, \"&Mcy;\"], [0, \"&Ncy;\"], [0, \"&Ocy;\"], [0, \"&Pcy;\"], [0, \"&Rcy;\"], [0, \"&Scy;\"], [0, \"&Tcy;\"], [0, \"&Ucy;\"], [0, \"&Fcy;\"], [0, \"&KHcy;\"], [0, \"&TScy;\"], [0, \"&CHcy;\"], [0, \"&SHcy;\"], [0, \"&SHCHcy;\"], [0, \"&HARDcy;\"], [0, \"&Ycy;\"], [0, \"&SOFTcy;\"], [0, \"&Ecy;\"], [0, \"&YUcy;\"], [0, \"&YAcy;\"], [0, \"&acy;\"], [0, \"&bcy;\"], [0, \"&vcy;\"], [0, \"&gcy;\"], [0, \"&dcy;\"], [0, \"&iecy;\"], [0, \"&zhcy;\"], [0, \"&zcy;\"], [0, \"&icy;\"], [0, \"&jcy;\"], [0, \"&kcy;\"], [0, \"&lcy;\"], [0, \"&mcy;\"], [0, \"&ncy;\"], [0, \"&ocy;\"], [0, \"&pcy;\"], [0, \"&rcy;\"], [0, \"&scy;\"], [0, \"&tcy;\"], [0, \"&ucy;\"], [0, \"&fcy;\"], [0, \"&khcy;\"], [0, \"&tscy;\"], [0, \"&chcy;\"], [0, \"&shcy;\"], [0, \"&shchcy;\"], [0, \"&hardcy;\"], [0, \"&ycy;\"], [0, \"&softcy;\"], [0, \"&ecy;\"], [0, \"&yucy;\"], [0, \"&yacy;\"], [1, \"&iocy;\"], [0, \"&djcy;\"], [0, \"&gjcy;\"], [0, \"&jukcy;\"], [0, \"&dscy;\"], [0, \"&iukcy;\"], [0, \"&yicy;\"], [0, \"&jsercy;\"], [0, \"&ljcy;\"], [0, \"&njcy;\"], [0, \"&tshcy;\"], [0, \"&kjcy;\"], [1, \"&ubrcy;\"], [0, \"&dzcy;\"], [7074, \"&ensp;\"], [0, \"&emsp;\"], [0, \"&emsp13;\"], [0, \"&emsp14;\"], [1, \"&numsp;\"], [0, \"&puncsp;\"], [0, \"&ThinSpace;\"], [0, \"&hairsp;\"], [0, \"&NegativeMediumSpace;\"], [0, \"&zwnj;\"], [0, \"&zwj;\"], [0, \"&lrm;\"], [0, \"&rlm;\"], [0, \"&dash;\"], [2, \"&ndash;\"], [0, \"&mdash;\"], [0, \"&horbar;\"], [0, \"&Verbar;\"], [1, \"&lsquo;\"], [0, \"&CloseCurlyQuote;\"], [0, \"&lsquor;\"], [1, \"&ldquo;\"], [0, \"&CloseCurlyDoubleQuote;\"], [0, \"&bdquo;\"], [1, \"&dagger;\"], [0, \"&Dagger;\"], [0, \"&bull;\"], [2, \"&nldr;\"], [0, \"&hellip;\"], [9, \"&permil;\"], [0, \"&pertenk;\"], [0, \"&prime;\"], [0, \"&Prime;\"], [0, \"&tprime;\"], [0, \"&backprime;\"], [3, \"&lsaquo;\"], [0, \"&rsaquo;\"], [3, \"&oline;\"], [2, \"&caret;\"], [1, \"&hybull;\"], [0, \"&frasl;\"], [10, \"&bsemi;\"], [7, \"&qprime;\"], [7, { v: \"&MediumSpace;\", n: 8202, o: \"&ThickSpace;\" }], [0, \"&NoBreak;\"], [0, \"&af;\"], [0, \"&InvisibleTimes;\"], [0, \"&ic;\"], [72, \"&euro;\"], [46, \"&tdot;\"], [0, \"&DotDot;\"], [37, \"&complexes;\"], [2, \"&incare;\"], [4, \"&gscr;\"], [0, \"&hamilt;\"], [0, \"&Hfr;\"], [0, \"&Hopf;\"], [0, \"&planckh;\"], [0, \"&hbar;\"], [0, \"&imagline;\"], [0, \"&Ifr;\"], [0, \"&lagran;\"], [0, \"&ell;\"], [1, \"&naturals;\"], [0, \"&numero;\"], [0, \"&copysr;\"], [0, \"&weierp;\"], [0, \"&Popf;\"], [0, \"&Qopf;\"], [0, \"&realine;\"], [0, \"&real;\"], [0, \"&reals;\"], [0, \"&rx;\"], [3, \"&trade;\"], [1, \"&integers;\"], [2, \"&mho;\"], [0, \"&zeetrf;\"], [0, \"&iiota;\"], [2, \"&bernou;\"], [0, \"&Cayleys;\"], [1, \"&escr;\"], [0, \"&Escr;\"], [0, \"&Fouriertrf;\"], [1, \"&Mellintrf;\"], [0, \"&order;\"], [0, \"&alefsym;\"], [0, \"&beth;\"], [0, \"&gimel;\"], [0, \"&daleth;\"], [12, \"&CapitalDifferentialD;\"], [0, \"&dd;\"], [0, \"&ee;\"], [0, \"&ii;\"], [10, \"&frac13;\"], [0, \"&frac23;\"], [0, \"&frac15;\"], [0, \"&frac25;\"], [0, \"&frac35;\"], [0, \"&frac45;\"], [0, \"&frac16;\"], [0, \"&frac56;\"], [0, \"&frac18;\"], [0, \"&frac38;\"], [0, \"&frac58;\"], [0, \"&frac78;\"], [49, \"&larr;\"], [0, \"&ShortUpArrow;\"], [0, \"&rarr;\"], [0, \"&darr;\"], [0, \"&harr;\"], [0, \"&updownarrow;\"], [0, \"&nwarr;\"], [0, \"&nearr;\"], [0, \"&LowerRightArrow;\"], [0, \"&LowerLeftArrow;\"], [0, \"&nlarr;\"], [0, \"&nrarr;\"], [1, { v: \"&rarrw;\", n: 824, o: \"&nrarrw;\" }], [0, \"&Larr;\"], [0, \"&Uarr;\"], [0, \"&Rarr;\"], [0, \"&Darr;\"], [0, \"&larrtl;\"], [0, \"&rarrtl;\"], [0, \"&LeftTeeArrow;\"], [0, \"&mapstoup;\"], [0, \"&map;\"], [0, \"&DownTeeArrow;\"], [1, \"&hookleftarrow;\"], [0, \"&hookrightarrow;\"], [0, \"&larrlp;\"], [0, \"&looparrowright;\"], [0, \"&harrw;\"], [0, \"&nharr;\"], [1, \"&lsh;\"], [0, \"&rsh;\"], [0, \"&ldsh;\"], [0, \"&rdsh;\"], [1, \"&crarr;\"], [0, \"&cularr;\"], [0, \"&curarr;\"], [2, \"&circlearrowleft;\"], [0, \"&circlearrowright;\"], [0, \"&leftharpoonup;\"], [0, \"&DownLeftVector;\"], [0, \"&RightUpVector;\"], [0, \"&LeftUpVector;\"], [0, \"&rharu;\"], [0, \"&DownRightVector;\"], [0, \"&dharr;\"], [0, \"&dharl;\"], [0, \"&RightArrowLeftArrow;\"], [0, \"&udarr;\"], [0, \"&LeftArrowRightArrow;\"], [0, \"&leftleftarrows;\"], [0, \"&upuparrows;\"], [0, \"&rightrightarrows;\"], [0, \"&ddarr;\"], [0, \"&leftrightharpoons;\"], [0, \"&Equilibrium;\"], [0, \"&nlArr;\"], [0, \"&nhArr;\"], [0, \"&nrArr;\"], [0, \"&DoubleLeftArrow;\"], [0, \"&DoubleUpArrow;\"], [0, \"&DoubleRightArrow;\"], [0, \"&dArr;\"], [0, \"&DoubleLeftRightArrow;\"], [0, \"&DoubleUpDownArrow;\"], [0, \"&nwArr;\"], [0, \"&neArr;\"], [0, \"&seArr;\"], [0, \"&swArr;\"], [0, \"&lAarr;\"], [0, \"&rAarr;\"], [1, \"&zigrarr;\"], [6, \"&larrb;\"], [0, \"&rarrb;\"], [15, \"&DownArrowUpArrow;\"], [7, \"&loarr;\"], [0, \"&roarr;\"], [0, \"&hoarr;\"], [0, \"&forall;\"], [0, \"&comp;\"], [0, { v: \"&part;\", n: 824, o: \"&npart;\" }], [0, \"&exist;\"], [0, \"&nexist;\"], [0, \"&empty;\"], [1, \"&Del;\"], [0, \"&Element;\"], [0, \"&NotElement;\"], [1, \"&ni;\"], [0, \"&notni;\"], [2, \"&prod;\"], [0, \"&coprod;\"], [0, \"&sum;\"], [0, \"&minus;\"], [0, \"&MinusPlus;\"], [0, \"&dotplus;\"], [1, \"&Backslash;\"], [0, \"&lowast;\"], [0, \"&compfn;\"], [1, \"&radic;\"], [2, \"&prop;\"], [0, \"&infin;\"], [0, \"&angrt;\"], [0, { v: \"&ang;\", n: 8402, o: \"&nang;\" }], [0, \"&angmsd;\"], [0, \"&angsph;\"], [0, \"&mid;\"], [0, \"&nmid;\"], [0, \"&DoubleVerticalBar;\"], [0, \"&NotDoubleVerticalBar;\"], [0, \"&and;\"], [0, \"&or;\"], [0, { v: \"&cap;\", n: 65024, o: \"&caps;\" }], [0, { v: \"&cup;\", n: 65024, o: \"&cups;\" }], [0, \"&int;\"], [0, \"&Int;\"], [0, \"&iiint;\"], [0, \"&conint;\"], [0, \"&Conint;\"], [0, \"&Cconint;\"], [0, \"&cwint;\"], [0, \"&ClockwiseContourIntegral;\"], [0, \"&awconint;\"], [0, \"&there4;\"], [0, \"&becaus;\"], [0, \"&ratio;\"], [0, \"&Colon;\"], [0, \"&dotminus;\"], [1, \"&mDDot;\"], [0, \"&homtht;\"], [0, { v: \"&sim;\", n: 8402, o: \"&nvsim;\" }], [0, { v: \"&backsim;\", n: 817, o: \"&race;\" }], [0, { v: \"&ac;\", n: 819, o: \"&acE;\" }], [0, \"&acd;\"], [0, \"&VerticalTilde;\"], [0, \"&NotTilde;\"], [0, { v: \"&eqsim;\", n: 824, o: \"&nesim;\" }], [0, \"&sime;\"], [0, \"&NotTildeEqual;\"], [0, \"&cong;\"], [0, \"&simne;\"], [0, \"&ncong;\"], [0, \"&ap;\"], [0, \"&nap;\"], [0, \"&ape;\"], [0, { v: \"&apid;\", n: 824, o: \"&napid;\" }], [0, \"&backcong;\"], [0, { v: \"&asympeq;\", n: 8402, o: \"&nvap;\" }], [0, { v: \"&bump;\", n: 824, o: \"&nbump;\" }], [0, { v: \"&bumpe;\", n: 824, o: \"&nbumpe;\" }], [0, { v: \"&doteq;\", n: 824, o: \"&nedot;\" }], [0, \"&doteqdot;\"], [0, \"&efDot;\"], [0, \"&erDot;\"], [0, \"&Assign;\"], [0, \"&ecolon;\"], [0, \"&ecir;\"], [0, \"&circeq;\"], [1, \"&wedgeq;\"], [0, \"&veeeq;\"], [1, \"&triangleq;\"], [2, \"&equest;\"], [0, \"&ne;\"], [0, { v: \"&Congruent;\", n: 8421, o: \"&bnequiv;\" }], [0, \"&nequiv;\"], [1, { v: \"&le;\", n: 8402, o: \"&nvle;\" }], [0, { v: \"&ge;\", n: 8402, o: \"&nvge;\" }], [0, { v: \"&lE;\", n: 824, o: \"&nlE;\" }], [0, { v: \"&gE;\", n: 824, o: \"&ngE;\" }], [0, { v: \"&lnE;\", n: 65024, o: \"&lvertneqq;\" }], [0, { v: \"&gnE;\", n: 65024, o: \"&gvertneqq;\" }], [0, { v: \"&ll;\", n: new Map(/* #__PURE__ */ restoreDiff([[824, \"&nLtv;\"], [7577, \"&nLt;\"]])) }], [0, { v: \"&gg;\", n: new Map(/* #__PURE__ */ restoreDiff([[824, \"&nGtv;\"], [7577, \"&nGt;\"]])) }], [0, \"&between;\"], [0, \"&NotCupCap;\"], [0, \"&nless;\"], [0, \"&ngt;\"], [0, \"&nle;\"], [0, \"&nge;\"], [0, \"&lesssim;\"], [0, \"&GreaterTilde;\"], [0, \"&nlsim;\"], [0, \"&ngsim;\"], [0, \"&LessGreater;\"], [0, \"&gl;\"], [0, \"&NotLessGreater;\"], [0, \"&NotGreaterLess;\"], [0, \"&pr;\"], [0, \"&sc;\"], [0, \"&prcue;\"], [0, \"&sccue;\"], [0, \"&PrecedesTilde;\"], [0, { v: \"&scsim;\", n: 824, o: \"&NotSucceedsTilde;\" }], [0, \"&NotPrecedes;\"], [0, \"&NotSucceeds;\"], [0, { v: \"&sub;\", n: 8402, o: \"&NotSubset;\" }], [0, { v: \"&sup;\", n: 8402, o: \"&NotSuperset;\" }], [0, \"&nsub;\"], [0, \"&nsup;\"], [0, \"&sube;\"], [0, \"&supe;\"], [0, \"&NotSubsetEqual;\"], [0, \"&NotSupersetEqual;\"], [0, { v: \"&subne;\", n: 65024, o: \"&varsubsetneq;\" }], [0, { v: \"&supne;\", n: 65024, o: \"&varsupsetneq;\" }], [1, \"&cupdot;\"], [0, \"&UnionPlus;\"], [0, { v: \"&sqsub;\", n: 824, o: \"&NotSquareSubset;\" }], [0, { v: \"&sqsup;\", n: 824, o: \"&NotSquareSuperset;\" }], [0, \"&sqsube;\"], [0, \"&sqsupe;\"], [0, { v: \"&sqcap;\", n: 65024, o: \"&sqcaps;\" }], [0, { v: \"&sqcup;\", n: 65024, o: \"&sqcups;\" }], [0, \"&CirclePlus;\"], [0, \"&CircleMinus;\"], [0, \"&CircleTimes;\"], [0, \"&osol;\"], [0, \"&CircleDot;\"], [0, \"&circledcirc;\"], [0, \"&circledast;\"], [1, \"&circleddash;\"], [0, \"&boxplus;\"], [0, \"&boxminus;\"], [0, \"&boxtimes;\"], [0, \"&dotsquare;\"], [0, \"&RightTee;\"], [0, \"&dashv;\"], [0, \"&DownTee;\"], [0, \"&bot;\"], [1, \"&models;\"], [0, \"&DoubleRightTee;\"], [0, \"&Vdash;\"], [0, \"&Vvdash;\"], [0, \"&VDash;\"], [0, \"&nvdash;\"], [0, \"&nvDash;\"], [0, \"&nVdash;\"], [0, \"&nVDash;\"], [0, \"&prurel;\"], [1, \"&LeftTriangle;\"], [0, \"&RightTriangle;\"], [0, { v: \"&LeftTriangleEqual;\", n: 8402, o: \"&nvltrie;\" }], [0, { v: \"&RightTriangleEqual;\", n: 8402, o: \"&nvrtrie;\" }], [0, \"&origof;\"], [0, \"&imof;\"], [0, \"&multimap;\"], [0, \"&hercon;\"], [0, \"&intcal;\"], [0, \"&veebar;\"], [1, \"&barvee;\"], [0, \"&angrtvb;\"], [0, \"&lrtri;\"], [0, \"&bigwedge;\"], [0, \"&bigvee;\"], [0, \"&bigcap;\"], [0, \"&bigcup;\"], [0, \"&diam;\"], [0, \"&sdot;\"], [0, \"&sstarf;\"], [0, \"&divideontimes;\"], [0, \"&bowtie;\"], [0, \"&ltimes;\"], [0, \"&rtimes;\"], [0, \"&leftthreetimes;\"], [0, \"&rightthreetimes;\"], [0, \"&backsimeq;\"], [0, \"&curlyvee;\"], [0, \"&curlywedge;\"], [0, \"&Sub;\"], [0, \"&Sup;\"], [0, \"&Cap;\"], [0, \"&Cup;\"], [0, \"&fork;\"], [0, \"&epar;\"], [0, \"&lessdot;\"], [0, \"&gtdot;\"], [0, { v: \"&Ll;\", n: 824, o: \"&nLl;\" }], [0, { v: \"&Gg;\", n: 824, o: \"&nGg;\" }], [0, { v: \"&leg;\", n: 65024, o: \"&lesg;\" }], [0, { v: \"&gel;\", n: 65024, o: \"&gesl;\" }], [2, \"&cuepr;\"], [0, \"&cuesc;\"], [0, \"&NotPrecedesSlantEqual;\"], [0, \"&NotSucceedsSlantEqual;\"], [0, \"&NotSquareSubsetEqual;\"], [0, \"&NotSquareSupersetEqual;\"], [2, \"&lnsim;\"], [0, \"&gnsim;\"], [0, \"&precnsim;\"], [0, \"&scnsim;\"], [0, \"&nltri;\"], [0, \"&NotRightTriangle;\"], [0, \"&nltrie;\"], [0, \"&NotRightTriangleEqual;\"], [0, \"&vellip;\"], [0, \"&ctdot;\"], [0, \"&utdot;\"], [0, \"&dtdot;\"], [0, \"&disin;\"], [0, \"&isinsv;\"], [0, \"&isins;\"], [0, { v: \"&isindot;\", n: 824, o: \"&notindot;\" }], [0, \"&notinvc;\"], [0, \"&notinvb;\"], [1, { v: \"&isinE;\", n: 824, o: \"&notinE;\" }], [0, \"&nisd;\"], [0, \"&xnis;\"], [0, \"&nis;\"], [0, \"&notnivc;\"], [0, \"&notnivb;\"], [6, \"&barwed;\"], [0, \"&Barwed;\"], [1, \"&lceil;\"], [0, \"&rceil;\"], [0, \"&LeftFloor;\"], [0, \"&rfloor;\"], [0, \"&drcrop;\"], [0, \"&dlcrop;\"], [0, \"&urcrop;\"], [0, \"&ulcrop;\"], [0, \"&bnot;\"], [1, \"&profline;\"], [0, \"&profsurf;\"], [1, \"&telrec;\"], [0, \"&target;\"], [5, \"&ulcorn;\"], [0, \"&urcorn;\"], [0, \"&dlcorn;\"], [0, \"&drcorn;\"], [2, \"&frown;\"], [0, \"&smile;\"], [9, \"&cylcty;\"], [0, \"&profalar;\"], [7, \"&topbot;\"], [6, \"&ovbar;\"], [1, \"&solbar;\"], [60, \"&angzarr;\"], [51, \"&lmoustache;\"], [0, \"&rmoustache;\"], [2, \"&OverBracket;\"], [0, \"&bbrk;\"], [0, \"&bbrktbrk;\"], [37, \"&OverParenthesis;\"], [0, \"&UnderParenthesis;\"], [0, \"&OverBrace;\"], [0, \"&UnderBrace;\"], [2, \"&trpezium;\"], [4, \"&elinters;\"], [59, \"&blank;\"], [164, \"&circledS;\"], [55, \"&boxh;\"], [1, \"&boxv;\"], [9, \"&boxdr;\"], [3, \"&boxdl;\"], [3, \"&boxur;\"], [3, \"&boxul;\"], [3, \"&boxvr;\"], [7, \"&boxvl;\"], [7, \"&boxhd;\"], [7, \"&boxhu;\"], [7, \"&boxvh;\"], [19, \"&boxH;\"], [0, \"&boxV;\"], [0, \"&boxdR;\"], [0, \"&boxDr;\"], [0, \"&boxDR;\"], [0, \"&boxdL;\"], [0, \"&boxDl;\"], [0, \"&boxDL;\"], [0, \"&boxuR;\"], [0, \"&boxUr;\"], [0, \"&boxUR;\"], [0, \"&boxuL;\"], [0, \"&boxUl;\"], [0, \"&boxUL;\"], [0, \"&boxvR;\"], [0, \"&boxVr;\"], [0, \"&boxVR;\"], [0, \"&boxvL;\"], [0, \"&boxVl;\"], [0, \"&boxVL;\"], [0, \"&boxHd;\"], [0, \"&boxhD;\"], [0, \"&boxHD;\"], [0, \"&boxHu;\"], [0, \"&boxhU;\"], [0, \"&boxHU;\"], [0, \"&boxvH;\"], [0, \"&boxVh;\"], [0, \"&boxVH;\"], [19, \"&uhblk;\"], [3, \"&lhblk;\"], [3, \"&block;\"], [8, \"&blk14;\"], [0, \"&blk12;\"], [0, \"&blk34;\"], [13, \"&square;\"], [8, \"&blacksquare;\"], [0, \"&EmptyVerySmallSquare;\"], [1, \"&rect;\"], [0, \"&marker;\"], [2, \"&fltns;\"], [1, \"&bigtriangleup;\"], [0, \"&blacktriangle;\"], [0, \"&triangle;\"], [2, \"&blacktriangleright;\"], [0, \"&rtri;\"], [3, \"&bigtriangledown;\"], [0, \"&blacktriangledown;\"], [0, \"&dtri;\"], [2, \"&blacktriangleleft;\"], [0, \"&ltri;\"], [6, \"&loz;\"], [0, \"&cir;\"], [32, \"&tridot;\"], [2, \"&bigcirc;\"], [8, \"&ultri;\"], [0, \"&urtri;\"], [0, \"&lltri;\"], [0, \"&EmptySmallSquare;\"], [0, \"&FilledSmallSquare;\"], [8, \"&bigstar;\"], [0, \"&star;\"], [7, \"&phone;\"], [49, \"&female;\"], [1, \"&male;\"], [29, \"&spades;\"], [2, \"&clubs;\"], [1, \"&hearts;\"], [0, \"&diamondsuit;\"], [3, \"&sung;\"], [2, \"&flat;\"], [0, \"&natural;\"], [0, \"&sharp;\"], [163, \"&check;\"], [3, \"&cross;\"], [8, \"&malt;\"], [21, \"&sext;\"], [33, \"&VerticalSeparator;\"], [25, \"&lbbrk;\"], [0, \"&rbbrk;\"], [84, \"&bsolhsub;\"], [0, \"&suphsol;\"], [28, \"&LeftDoubleBracket;\"], [0, \"&RightDoubleBracket;\"], [0, \"&lang;\"], [0, \"&rang;\"], [0, \"&Lang;\"], [0, \"&Rang;\"], [0, \"&loang;\"], [0, \"&roang;\"], [7, \"&longleftarrow;\"], [0, \"&longrightarrow;\"], [0, \"&longleftrightarrow;\"], [0, \"&DoubleLongLeftArrow;\"], [0, \"&DoubleLongRightArrow;\"], [0, \"&DoubleLongLeftRightArrow;\"], [1, \"&longmapsto;\"], [2, \"&dzigrarr;\"], [258, \"&nvlArr;\"], [0, \"&nvrArr;\"], [0, \"&nvHarr;\"], [0, \"&Map;\"], [6, \"&lbarr;\"], [0, \"&bkarow;\"], [0, \"&lBarr;\"], [0, \"&dbkarow;\"], [0, \"&drbkarow;\"], [0, \"&DDotrahd;\"], [0, \"&UpArrowBar;\"], [0, \"&DownArrowBar;\"], [2, \"&Rarrtl;\"], [2, \"&latail;\"], [0, \"&ratail;\"], [0, \"&lAtail;\"], [0, \"&rAtail;\"], [0, \"&larrfs;\"], [0, \"&rarrfs;\"], [0, \"&larrbfs;\"], [0, \"&rarrbfs;\"], [2, \"&nwarhk;\"], [0, \"&nearhk;\"], [0, \"&hksearow;\"], [0, \"&hkswarow;\"], [0, \"&nwnear;\"], [0, \"&nesear;\"], [0, \"&seswar;\"], [0, \"&swnwar;\"], [8, { v: \"&rarrc;\", n: 824, o: \"&nrarrc;\" }], [1, \"&cudarrr;\"], [0, \"&ldca;\"], [0, \"&rdca;\"], [0, \"&cudarrl;\"], [0, \"&larrpl;\"], [2, \"&curarrm;\"], [0, \"&cularrp;\"], [7, \"&rarrpl;\"], [2, \"&harrcir;\"], [0, \"&Uarrocir;\"], [0, \"&lurdshar;\"], [0, \"&ldrushar;\"], [2, \"&LeftRightVector;\"], [0, \"&RightUpDownVector;\"], [0, \"&DownLeftRightVector;\"], [0, \"&LeftUpDownVector;\"], [0, \"&LeftVectorBar;\"], [0, \"&RightVectorBar;\"], [0, \"&RightUpVectorBar;\"], [0, \"&RightDownVectorBar;\"], [0, \"&DownLeftVectorBar;\"], [0, \"&DownRightVectorBar;\"], [0, \"&LeftUpVectorBar;\"], [0, \"&LeftDownVectorBar;\"], [0, \"&LeftTeeVector;\"], [0, \"&RightTeeVector;\"], [0, \"&RightUpTeeVector;\"], [0, \"&RightDownTeeVector;\"], [0, \"&DownLeftTeeVector;\"], [0, \"&DownRightTeeVector;\"], [0, \"&LeftUpTeeVector;\"], [0, \"&LeftDownTeeVector;\"], [0, \"&lHar;\"], [0, \"&uHar;\"], [0, \"&rHar;\"], [0, \"&dHar;\"], [0, \"&luruhar;\"], [0, \"&ldrdhar;\"], [0, \"&ruluhar;\"], [0, \"&rdldhar;\"], [0, \"&lharul;\"], [0, \"&llhard;\"], [0, \"&rharul;\"], [0, \"&lrhard;\"], [0, \"&udhar;\"], [0, \"&duhar;\"], [0, \"&RoundImplies;\"], [0, \"&erarr;\"], [0, \"&simrarr;\"], [0, \"&larrsim;\"], [0, \"&rarrsim;\"], [0, \"&rarrap;\"], [0, \"&ltlarr;\"], [1, \"&gtrarr;\"], [0, \"&subrarr;\"], [1, \"&suplarr;\"], [0, \"&lfisht;\"], [0, \"&rfisht;\"], [0, \"&ufisht;\"], [0, \"&dfisht;\"], [5, \"&lopar;\"], [0, \"&ropar;\"], [4, \"&lbrke;\"], [0, \"&rbrke;\"], [0, \"&lbrkslu;\"], [0, \"&rbrksld;\"], [0, \"&lbrksld;\"], [0, \"&rbrkslu;\"], [0, \"&langd;\"], [0, \"&rangd;\"], [0, \"&lparlt;\"], [0, \"&rpargt;\"], [0, \"&gtlPar;\"], [0, \"&ltrPar;\"], [3, \"&vzigzag;\"], [1, \"&vangrt;\"], [0, \"&angrtvbd;\"], [6, \"&ange;\"], [0, \"&range;\"], [0, \"&dwangle;\"], [0, \"&uwangle;\"], [0, \"&angmsdaa;\"], [0, \"&angmsdab;\"], [0, \"&angmsdac;\"], [0, \"&angmsdad;\"], [0, \"&angmsdae;\"], [0, \"&angmsdaf;\"], [0, \"&angmsdag;\"], [0, \"&angmsdah;\"], [0, \"&bemptyv;\"], [0, \"&demptyv;\"], [0, \"&cemptyv;\"], [0, \"&raemptyv;\"], [0, \"&laemptyv;\"], [0, \"&ohbar;\"], [0, \"&omid;\"], [0, \"&opar;\"], [1, \"&operp;\"], [1, \"&olcross;\"], [0, \"&odsold;\"], [1, \"&olcir;\"], [0, \"&ofcir;\"], [0, \"&olt;\"], [0, \"&ogt;\"], [0, \"&cirscir;\"], [0, \"&cirE;\"], [0, \"&solb;\"], [0, \"&bsolb;\"], [3, \"&boxbox;\"], [3, \"&trisb;\"], [0, \"&rtriltri;\"], [0, { v: \"&LeftTriangleBar;\", n: 824, o: \"&NotLeftTriangleBar;\" }], [0, { v: \"&RightTriangleBar;\", n: 824, o: \"&NotRightTriangleBar;\" }], [11, \"&iinfin;\"], [0, \"&infintie;\"], [0, \"&nvinfin;\"], [4, \"&eparsl;\"], [0, \"&smeparsl;\"], [0, \"&eqvparsl;\"], [5, \"&blacklozenge;\"], [8, \"&RuleDelayed;\"], [1, \"&dsol;\"], [9, \"&bigodot;\"], [0, \"&bigoplus;\"], [0, \"&bigotimes;\"], [1, \"&biguplus;\"], [1, \"&bigsqcup;\"], [5, \"&iiiint;\"], [0, \"&fpartint;\"], [2, \"&cirfnint;\"], [0, \"&awint;\"], [0, \"&rppolint;\"], [0, \"&scpolint;\"], [0, \"&npolint;\"], [0, \"&pointint;\"], [0, \"&quatint;\"], [0, \"&intlarhk;\"], [10, \"&pluscir;\"], [0, \"&plusacir;\"], [0, \"&simplus;\"], [0, \"&plusdu;\"], [0, \"&plussim;\"], [0, \"&plustwo;\"], [1, \"&mcomma;\"], [0, \"&minusdu;\"], [2, \"&loplus;\"], [0, \"&roplus;\"], [0, \"&Cross;\"], [0, \"&timesd;\"], [0, \"&timesbar;\"], [1, \"&smashp;\"], [0, \"&lotimes;\"], [0, \"&rotimes;\"], [0, \"&otimesas;\"], [0, \"&Otimes;\"], [0, \"&odiv;\"], [0, \"&triplus;\"], [0, \"&triminus;\"], [0, \"&tritime;\"], [0, \"&intprod;\"], [2, \"&amalg;\"], [0, \"&capdot;\"], [1, \"&ncup;\"], [0, \"&ncap;\"], [0, \"&capand;\"], [0, \"&cupor;\"], [0, \"&cupcap;\"], [0, \"&capcup;\"], [0, \"&cupbrcap;\"], [0, \"&capbrcup;\"], [0, \"&cupcup;\"], [0, \"&capcap;\"], [0, \"&ccups;\"], [0, \"&ccaps;\"], [2, \"&ccupssm;\"], [2, \"&And;\"], [0, \"&Or;\"], [0, \"&andand;\"], [0, \"&oror;\"], [0, \"&orslope;\"], [0, \"&andslope;\"], [1, \"&andv;\"], [0, \"&orv;\"], [0, \"&andd;\"], [0, \"&ord;\"], [1, \"&wedbar;\"], [6, \"&sdote;\"], [3, \"&simdot;\"], [2, { v: \"&congdot;\", n: 824, o: \"&ncongdot;\" }], [0, \"&easter;\"], [0, \"&apacir;\"], [0, { v: \"&apE;\", n: 824, o: \"&napE;\" }], [0, \"&eplus;\"], [0, \"&pluse;\"], [0, \"&Esim;\"], [0, \"&Colone;\"], [0, \"&Equal;\"], [1, \"&ddotseq;\"], [0, \"&equivDD;\"], [0, \"&ltcir;\"], [0, \"&gtcir;\"], [0, \"&ltquest;\"], [0, \"&gtquest;\"], [0, { v: \"&leqslant;\", n: 824, o: \"&nleqslant;\" }], [0, { v: \"&geqslant;\", n: 824, o: \"&ngeqslant;\" }], [0, \"&lesdot;\"], [0, \"&gesdot;\"], [0, \"&lesdoto;\"], [0, \"&gesdoto;\"], [0, \"&lesdotor;\"], [0, \"&gesdotol;\"], [0, \"&lap;\"], [0, \"&gap;\"], [0, \"&lne;\"], [0, \"&gne;\"], [0, \"&lnap;\"], [0, \"&gnap;\"], [0, \"&lEg;\"], [0, \"&gEl;\"], [0, \"&lsime;\"], [0, \"&gsime;\"], [0, \"&lsimg;\"], [0, \"&gsiml;\"], [0, \"&lgE;\"], [0, \"&glE;\"], [0, \"&lesges;\"], [0, \"&gesles;\"], [0, \"&els;\"], [0, \"&egs;\"], [0, \"&elsdot;\"], [0, \"&egsdot;\"], [0, \"&el;\"], [0, \"&eg;\"], [2, \"&siml;\"], [0, \"&simg;\"], [0, \"&simlE;\"], [0, \"&simgE;\"], [0, { v: \"&LessLess;\", n: 824, o: \"&NotNestedLessLess;\" }], [0, { v: \"&GreaterGreater;\", n: 824, o: \"&NotNestedGreaterGreater;\" }], [1, \"&glj;\"], [0, \"&gla;\"], [0, \"&ltcc;\"], [0, \"&gtcc;\"], [0, \"&lescc;\"], [0, \"&gescc;\"], [0, \"&smt;\"], [0, \"&lat;\"], [0, { v: \"&smte;\", n: 65024, o: \"&smtes;\" }], [0, { v: \"&late;\", n: 65024, o: \"&lates;\" }], [0, \"&bumpE;\"], [0, { v: \"&PrecedesEqual;\", n: 824, o: \"&NotPrecedesEqual;\" }], [0, { v: \"&sce;\", n: 824, o: \"&NotSucceedsEqual;\" }], [2, \"&prE;\"], [0, \"&scE;\"], [0, \"&precneqq;\"], [0, \"&scnE;\"], [0, \"&prap;\"], [0, \"&scap;\"], [0, \"&precnapprox;\"], [0, \"&scnap;\"], [0, \"&Pr;\"], [0, \"&Sc;\"], [0, \"&subdot;\"], [0, \"&supdot;\"], [0, \"&subplus;\"], [0, \"&supplus;\"], [0, \"&submult;\"], [0, \"&supmult;\"], [0, \"&subedot;\"], [0, \"&supedot;\"], [0, { v: \"&subE;\", n: 824, o: \"&nsubE;\" }], [0, { v: \"&supE;\", n: 824, o: \"&nsupE;\" }], [0, \"&subsim;\"], [0, \"&supsim;\"], [2, { v: \"&subnE;\", n: 65024, o: \"&varsubsetneqq;\" }], [0, { v: \"&supnE;\", n: 65024, o: \"&varsupsetneqq;\" }], [2, \"&csub;\"], [0, \"&csup;\"], [0, \"&csube;\"], [0, \"&csupe;\"], [0, \"&subsup;\"], [0, \"&supsub;\"], [0, \"&subsub;\"], [0, \"&supsup;\"], [0, \"&suphsub;\"], [0, \"&supdsub;\"], [0, \"&forkv;\"], [0, \"&topfork;\"], [0, \"&mlcp;\"], [8, \"&Dashv;\"], [1, \"&Vdashl;\"], [0, \"&Barv;\"], [0, \"&vBar;\"], [0, \"&vBarv;\"], [1, \"&Vbar;\"], [0, \"&Not;\"], [0, \"&bNot;\"], [0, \"&rnmid;\"], [0, \"&cirmid;\"], [0, \"&midcir;\"], [0, \"&topcir;\"], [0, \"&nhpar;\"], [0, \"&parsim;\"], [9, { v: \"&parsl;\", n: 8421, o: \"&nparsl;\" }], [44343, { n: new Map(/* #__PURE__ */ restoreDiff([[56476, \"&Ascr;\"], [1, \"&Cscr;\"], [0, \"&Dscr;\"], [2, \"&Gscr;\"], [2, \"&Jscr;\"], [0, \"&Kscr;\"], [2, \"&Nscr;\"], [0, \"&Oscr;\"], [0, \"&Pscr;\"], [0, \"&Qscr;\"], [1, \"&Sscr;\"], [0, \"&Tscr;\"], [0, \"&Uscr;\"], [0, \"&Vscr;\"], [0, \"&Wscr;\"], [0, \"&Xscr;\"], [0, \"&Yscr;\"], [0, \"&Zscr;\"], [0, \"&ascr;\"], [0, \"&bscr;\"], [0, \"&cscr;\"], [0, \"&dscr;\"], [1, \"&fscr;\"], [1, \"&hscr;\"], [0, \"&iscr;\"], [0, \"&jscr;\"], [0, \"&kscr;\"], [0, \"&lscr;\"], [0, \"&mscr;\"], [0, \"&nscr;\"], [1, \"&pscr;\"], [0, \"&qscr;\"], [0, \"&rscr;\"], [0, \"&sscr;\"], [0, \"&tscr;\"], [0, \"&uscr;\"], [0, \"&vscr;\"], [0, \"&wscr;\"], [0, \"&xscr;\"], [0, \"&yscr;\"], [0, \"&zscr;\"], [52, \"&Afr;\"], [0, \"&Bfr;\"], [1, \"&Dfr;\"], [0, \"&Efr;\"], [0, \"&Ffr;\"], [0, \"&Gfr;\"], [2, \"&Jfr;\"], [0, \"&Kfr;\"], [0, \"&Lfr;\"], [0, \"&Mfr;\"], [0, \"&Nfr;\"], [0, \"&Ofr;\"], [0, \"&Pfr;\"], [0, \"&Qfr;\"], [1, \"&Sfr;\"], [0, \"&Tfr;\"], [0, \"&Ufr;\"], [0, \"&Vfr;\"], [0, \"&Wfr;\"], [0, \"&Xfr;\"], [0, \"&Yfr;\"], [1, \"&afr;\"], [0, \"&bfr;\"], [0, \"&cfr;\"], [0, \"&dfr;\"], [0, \"&efr;\"], [0, \"&ffr;\"], [0, \"&gfr;\"], [0, \"&hfr;\"], [0, \"&ifr;\"], [0, \"&jfr;\"], [0, \"&kfr;\"], [0, \"&lfr;\"], [0, \"&mfr;\"], [0, \"&nfr;\"], [0, \"&ofr;\"], [0, \"&pfr;\"], [0, \"&qfr;\"], [0, \"&rfr;\"], [0, \"&sfr;\"], [0, \"&tfr;\"], [0, \"&ufr;\"], [0, \"&vfr;\"], [0, \"&wfr;\"], [0, \"&xfr;\"], [0, \"&yfr;\"], [0, \"&zfr;\"], [0, \"&Aopf;\"], [0, \"&Bopf;\"], [1, \"&Dopf;\"], [0, \"&Eopf;\"], [0, \"&Fopf;\"], [0, \"&Gopf;\"], [1, \"&Iopf;\"], [0, \"&Jopf;\"], [0, \"&Kopf;\"], [0, \"&Lopf;\"], [0, \"&Mopf;\"], [1, \"&Oopf;\"], [3, \"&Sopf;\"], [0, \"&Topf;\"], [0, \"&Uopf;\"], [0, \"&Vopf;\"], [0, \"&Wopf;\"], [0, \"&Xopf;\"], [0, \"&Yopf;\"], [1, \"&aopf;\"], [0, \"&bopf;\"], [0, \"&copf;\"], [0, \"&dopf;\"], [0, \"&eopf;\"], [0, \"&fopf;\"], [0, \"&gopf;\"], [0, \"&hopf;\"], [0, \"&iopf;\"], [0, \"&jopf;\"], [0, \"&kopf;\"], [0, \"&lopf;\"], [0, \"&mopf;\"], [0, \"&nopf;\"], [0, \"&oopf;\"], [0, \"&popf;\"], [0, \"&qopf;\"], [0, \"&ropf;\"], [0, \"&sopf;\"], [0, \"&topf;\"], [0, \"&uopf;\"], [0, \"&vopf;\"], [0, \"&wopf;\"], [0, \"&xopf;\"], [0, \"&yopf;\"], [0, \"&zopf;\"]])) }], [8906, \"&fflig;\"], [0, \"&filig;\"], [0, \"&fllig;\"], [0, \"&ffilig;\"], [0, \"&ffllig;\"]]));\n//# sourceMappingURL=encode-html.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeXMLStrict = exports.decodeHTML5Strict = exports.decodeHTML4Strict = exports.decodeHTML5 = exports.decodeHTML4 = exports.decodeHTMLAttribute = exports.decodeHTMLStrict = exports.decodeHTML = exports.decodeXML = exports.DecodingMode = exports.EntityDecoder = exports.encodeHTML5 = exports.encodeHTML4 = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.escapeText = exports.escapeAttribute = exports.escapeUTF8 = exports.escape = exports.encodeXML = exports.encode = exports.decodeStrict = exports.decode = exports.EncodingMode = exports.EntityLevel = void 0;\nvar decode_js_1 = require(\"./decode.js\");\nvar encode_js_1 = require(\"./encode.js\");\nvar escape_js_1 = require(\"./escape.js\");\n/** The level of entities to support. */\nvar EntityLevel;\n(function (EntityLevel) {\n    /** Support only XML entities. */\n    EntityLevel[EntityLevel[\"XML\"] = 0] = \"XML\";\n    /** Support HTML entities, which are a superset of XML entities. */\n    EntityLevel[EntityLevel[\"HTML\"] = 1] = \"HTML\";\n})(EntityLevel = exports.EntityLevel || (exports.EntityLevel = {}));\nvar EncodingMode;\n(function (EncodingMode) {\n    /**\n     * The output is UTF-8 encoded. Only characters that need escaping within\n     * XML will be escaped.\n     */\n    EncodingMode[EncodingMode[\"UTF8\"] = 0] = \"UTF8\";\n    /**\n     * The output consists only of ASCII characters. Characters that need\n     * escaping within HTML, and characters that aren't ASCII characters will\n     * be escaped.\n     */\n    EncodingMode[EncodingMode[\"ASCII\"] = 1] = \"ASCII\";\n    /**\n     * Encode all characters that have an equivalent entity, as well as all\n     * characters that are not ASCII characters.\n     */\n    EncodingMode[EncodingMode[\"Extensive\"] = 2] = \"Extensive\";\n    /**\n     * Encode all characters that have to be escaped in HTML attributes,\n     * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n     */\n    EncodingMode[EncodingMode[\"Attribute\"] = 3] = \"Attribute\";\n    /**\n     * Encode all characters that have to be escaped in HTML text,\n     * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n     */\n    EncodingMode[EncodingMode[\"Text\"] = 4] = \"Text\";\n})(EncodingMode = exports.EncodingMode || (exports.EncodingMode = {}));\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param options Decoding options.\n */\nfunction decode(data, options) {\n    if (options === void 0) { options = EntityLevel.XML; }\n    var level = typeof options === \"number\" ? options : options.level;\n    if (level === EntityLevel.HTML) {\n        var mode = typeof options === \"object\" ? options.mode : undefined;\n        return (0, decode_js_1.decodeHTML)(data, mode);\n    }\n    return (0, decode_js_1.decodeXML)(data);\n}\nexports.decode = decode;\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param options Decoding options.\n * @deprecated Use `decode` with the `mode` set to `Strict`.\n */\nfunction decodeStrict(data, options) {\n    var _a;\n    if (options === void 0) { options = EntityLevel.XML; }\n    var opts = typeof options === \"number\" ? { level: options } : options;\n    (_a = opts.mode) !== null && _a !== void 0 ? _a : (opts.mode = decode_js_1.DecodingMode.Strict);\n    return decode(data, opts);\n}\nexports.decodeStrict = decodeStrict;\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param options Encoding options.\n */\nfunction encode(data, options) {\n    if (options === void 0) { options = EntityLevel.XML; }\n    var opts = typeof options === \"number\" ? { level: options } : options;\n    // Mode `UTF8` just escapes XML entities\n    if (opts.mode === EncodingMode.UTF8)\n        return (0, escape_js_1.escapeUTF8)(data);\n    if (opts.mode === EncodingMode.Attribute)\n        return (0, escape_js_1.escapeAttribute)(data);\n    if (opts.mode === EncodingMode.Text)\n        return (0, escape_js_1.escapeText)(data);\n    if (opts.level === EntityLevel.HTML) {\n        if (opts.mode === EncodingMode.ASCII) {\n            return (0, encode_js_1.encodeNonAsciiHTML)(data);\n        }\n        return (0, encode_js_1.encodeHTML)(data);\n    }\n    // ASCII and Extensive are equivalent\n    return (0, escape_js_1.encodeXML)(data);\n}\nexports.encode = encode;\nvar escape_js_2 = require(\"./escape.js\");\nObject.defineProperty(exports, \"encodeXML\", { enumerable: true, get: function () { return escape_js_2.encodeXML; } });\nObject.defineProperty(exports, \"escape\", { enumerable: true, get: function () { return escape_js_2.escape; } });\nObject.defineProperty(exports, \"escapeUTF8\", { enumerable: true, get: function () { return escape_js_2.escapeUTF8; } });\nObject.defineProperty(exports, \"escapeAttribute\", { enumerable: true, get: function () { return escape_js_2.escapeAttribute; } });\nObject.defineProperty(exports, \"escapeText\", { enumerable: true, get: function () { return escape_js_2.escapeText; } });\nvar encode_js_2 = require(\"./encode.js\");\nObject.defineProperty(exports, \"encodeHTML\", { enumerable: true, get: function () { return encode_js_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeNonAsciiHTML\", { enumerable: true, get: function () { return encode_js_2.encodeNonAsciiHTML; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"encodeHTML4\", { enumerable: true, get: function () { return encode_js_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeHTML5\", { enumerable: true, get: function () { return encode_js_2.encodeHTML; } });\nvar decode_js_2 = require(\"./decode.js\");\nObject.defineProperty(exports, \"EntityDecoder\", { enumerable: true, get: function () { return decode_js_2.EntityDecoder; } });\nObject.defineProperty(exports, \"DecodingMode\", { enumerable: true, get: function () { return decode_js_2.DecodingMode; } });\nObject.defineProperty(exports, \"decodeXML\", { enumerable: true, get: function () { return decode_js_2.decodeXML; } });\nObject.defineProperty(exports, \"decodeHTML\", { enumerable: true, get: function () { return decode_js_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTMLStrict\", { enumerable: true, get: function () { return decode_js_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeHTMLAttribute\", { enumerable: true, get: function () { return decode_js_2.decodeHTMLAttribute; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"decodeHTML4\", { enumerable: true, get: function () { return decode_js_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML5\", { enumerable: true, get: function () { return decode_js_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML4Strict\", { enumerable: true, get: function () { return decode_js_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeHTML5Strict\", { enumerable: true, get: function () { return decode_js_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeXMLStrict\", { enumerable: true, get: function () { return decode_js_2.decodeXML; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","const ALIAS = Symbol.for('yaml.alias');\nconst DOC = Symbol.for('yaml.document');\nconst MAP = Symbol.for('yaml.map');\nconst PAIR = Symbol.for('yaml.pair');\nconst SCALAR = Symbol.for('yaml.scalar');\nconst SEQ = Symbol.for('yaml.seq');\nconst NODE_TYPE = Symbol.for('yaml.node.type');\nconst isAlias = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === ALIAS;\nconst isDocument = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === DOC;\nconst isMap = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === MAP;\nconst isPair = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === PAIR;\nconst isScalar = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SCALAR;\nconst isSeq = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SEQ;\nfunction isCollection(node) {\n    if (node && typeof node === 'object')\n        switch (node[NODE_TYPE]) {\n            case MAP:\n            case SEQ:\n                return true;\n        }\n    return false;\n}\nfunction isNode(node) {\n    if (node && typeof node === 'object')\n        switch (node[NODE_TYPE]) {\n            case ALIAS:\n            case MAP:\n            case SCALAR:\n            case SEQ:\n                return true;\n        }\n    return false;\n}\nconst hasAnchor = (node) => (isScalar(node) || isCollection(node)) && !!node.anchor;\n\nexport { ALIAS, DOC, MAP, NODE_TYPE, PAIR, SCALAR, SEQ, hasAnchor, isAlias, isCollection, isDocument, isMap, isNode, isPair, isScalar, isSeq };\n","import { isDocument, isNode, isPair, isCollection, isMap, isSeq, isScalar, isAlias } from './nodes/identity.js';\n\nconst BREAK = Symbol('break visit');\nconst SKIP = Symbol('skip children');\nconst REMOVE = Symbol('remove node');\n/**\n * Apply a visitor to an AST node or document.\n *\n * Walks through the tree (depth-first) starting from `node`, calling a\n * `visitor` function with three arguments:\n *   - `key`: For sequence values and map `Pair`, the node's index in the\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\n *     `null` for the root node.\n *   - `node`: The current node.\n *   - `path`: The ancestry of the current node.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\n *     sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\n *   - `Node`: Replace the current node, then continue by visiting it\n *   - `number`: While iterating the items of a sequence or map, set the index\n *     of the next step. This is useful especially if the index of the current\n *     node has changed.\n *\n * If `visitor` is a single function, it will be called with all values\n * encountered in the tree, including e.g. `null` values. Alternatively,\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\n * `Alias` and `Scalar` node. To define the same visitor function for more than\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\n * specific defined one will be used for each node.\n */\nfunction visit(node, visitor) {\n    const visitor_ = initVisitor(visitor);\n    if (isDocument(node)) {\n        const cd = visit_(null, node.contents, visitor_, Object.freeze([node]));\n        if (cd === REMOVE)\n            node.contents = null;\n    }\n    else\n        visit_(null, node, visitor_, Object.freeze([]));\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisit.BREAK = BREAK;\n/** Do not visit the children of the current node */\nvisit.SKIP = SKIP;\n/** Remove the current node */\nvisit.REMOVE = REMOVE;\nfunction visit_(key, node, visitor, path) {\n    const ctrl = callVisitor(key, node, visitor, path);\n    if (isNode(ctrl) || isPair(ctrl)) {\n        replaceNode(key, path, ctrl);\n        return visit_(key, ctrl, visitor, path);\n    }\n    if (typeof ctrl !== 'symbol') {\n        if (isCollection(node)) {\n            path = Object.freeze(path.concat(node));\n            for (let i = 0; i < node.items.length; ++i) {\n                const ci = visit_(i, node.items[i], visitor, path);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    node.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        else if (isPair(node)) {\n            path = Object.freeze(path.concat(node));\n            const ck = visit_('key', node.key, visitor, path);\n            if (ck === BREAK)\n                return BREAK;\n            else if (ck === REMOVE)\n                node.key = null;\n            const cv = visit_('value', node.value, visitor, path);\n            if (cv === BREAK)\n                return BREAK;\n            else if (cv === REMOVE)\n                node.value = null;\n        }\n    }\n    return ctrl;\n}\n/**\n * Apply an async visitor to an AST node or document.\n *\n * Walks through the tree (depth-first) starting from `node`, calling a\n * `visitor` function with three arguments:\n *   - `key`: For sequence values and map `Pair`, the node's index in the\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\n *     `null` for the root node.\n *   - `node`: The current node.\n *   - `path`: The ancestry of the current node.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `Promise`: Must resolve to one of the following values\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\n *     sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\n *   - `Node`: Replace the current node, then continue by visiting it\n *   - `number`: While iterating the items of a sequence or map, set the index\n *     of the next step. This is useful especially if the index of the current\n *     node has changed.\n *\n * If `visitor` is a single function, it will be called with all values\n * encountered in the tree, including e.g. `null` values. Alternatively,\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\n * `Alias` and `Scalar` node. To define the same visitor function for more than\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\n * specific defined one will be used for each node.\n */\nasync function visitAsync(node, visitor) {\n    const visitor_ = initVisitor(visitor);\n    if (isDocument(node)) {\n        const cd = await visitAsync_(null, node.contents, visitor_, Object.freeze([node]));\n        if (cd === REMOVE)\n            node.contents = null;\n    }\n    else\n        await visitAsync_(null, node, visitor_, Object.freeze([]));\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisitAsync.BREAK = BREAK;\n/** Do not visit the children of the current node */\nvisitAsync.SKIP = SKIP;\n/** Remove the current node */\nvisitAsync.REMOVE = REMOVE;\nasync function visitAsync_(key, node, visitor, path) {\n    const ctrl = await callVisitor(key, node, visitor, path);\n    if (isNode(ctrl) || isPair(ctrl)) {\n        replaceNode(key, path, ctrl);\n        return visitAsync_(key, ctrl, visitor, path);\n    }\n    if (typeof ctrl !== 'symbol') {\n        if (isCollection(node)) {\n            path = Object.freeze(path.concat(node));\n            for (let i = 0; i < node.items.length; ++i) {\n                const ci = await visitAsync_(i, node.items[i], visitor, path);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    node.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        else if (isPair(node)) {\n            path = Object.freeze(path.concat(node));\n            const ck = await visitAsync_('key', node.key, visitor, path);\n            if (ck === BREAK)\n                return BREAK;\n            else if (ck === REMOVE)\n                node.key = null;\n            const cv = await visitAsync_('value', node.value, visitor, path);\n            if (cv === BREAK)\n                return BREAK;\n            else if (cv === REMOVE)\n                node.value = null;\n        }\n    }\n    return ctrl;\n}\nfunction initVisitor(visitor) {\n    if (typeof visitor === 'object' &&\n        (visitor.Collection || visitor.Node || visitor.Value)) {\n        return Object.assign({\n            Alias: visitor.Node,\n            Map: visitor.Node,\n            Scalar: visitor.Node,\n            Seq: visitor.Node\n        }, visitor.Value && {\n            Map: visitor.Value,\n            Scalar: visitor.Value,\n            Seq: visitor.Value\n        }, visitor.Collection && {\n            Map: visitor.Collection,\n            Seq: visitor.Collection\n        }, visitor);\n    }\n    return visitor;\n}\nfunction callVisitor(key, node, visitor, path) {\n    if (typeof visitor === 'function')\n        return visitor(key, node, path);\n    if (isMap(node))\n        return visitor.Map?.(key, node, path);\n    if (isSeq(node))\n        return visitor.Seq?.(key, node, path);\n    if (isPair(node))\n        return visitor.Pair?.(key, node, path);\n    if (isScalar(node))\n        return visitor.Scalar?.(key, node, path);\n    if (isAlias(node))\n        return visitor.Alias?.(key, node, path);\n    return undefined;\n}\nfunction replaceNode(key, path, node) {\n    const parent = path[path.length - 1];\n    if (isCollection(parent)) {\n        parent.items[key] = node;\n    }\n    else if (isPair(parent)) {\n        if (key === 'key')\n            parent.key = node;\n        else\n            parent.value = node;\n    }\n    else if (isDocument(parent)) {\n        parent.contents = node;\n    }\n    else {\n        const pt = isAlias(parent) ? 'alias' : 'scalar';\n        throw new Error(`Cannot replace node with ${pt} parent`);\n    }\n}\n\nexport { visit, visitAsync };\n","import { isNode } from '../nodes/identity.js';\nimport { visit } from '../visit.js';\n\nconst escapeChars = {\n    '!': '%21',\n    ',': '%2C',\n    '[': '%5B',\n    ']': '%5D',\n    '{': '%7B',\n    '}': '%7D'\n};\nconst escapeTagName = (tn) => tn.replace(/[!,[\\]{}]/g, ch => escapeChars[ch]);\nclass Directives {\n    constructor(yaml, tags) {\n        /**\n         * The directives-end/doc-start marker `---`. If `null`, a marker may still be\n         * included in the document's stringified representation.\n         */\n        this.docStart = null;\n        /** The doc-end marker `...`.  */\n        this.docEnd = false;\n        this.yaml = Object.assign({}, Directives.defaultYaml, yaml);\n        this.tags = Object.assign({}, Directives.defaultTags, tags);\n    }\n    clone() {\n        const copy = new Directives(this.yaml, this.tags);\n        copy.docStart = this.docStart;\n        return copy;\n    }\n    /**\n     * During parsing, get a Directives instance for the current document and\n     * update the stream state according to the current version's spec.\n     */\n    atDocument() {\n        const res = new Directives(this.yaml, this.tags);\n        switch (this.yaml.version) {\n            case '1.1':\n                this.atNextDocument = true;\n                break;\n            case '1.2':\n                this.atNextDocument = false;\n                this.yaml = {\n                    explicit: Directives.defaultYaml.explicit,\n                    version: '1.2'\n                };\n                this.tags = Object.assign({}, Directives.defaultTags);\n                break;\n        }\n        return res;\n    }\n    /**\n     * @param onError - May be called even if the action was successful\n     * @returns `true` on success\n     */\n    add(line, onError) {\n        if (this.atNextDocument) {\n            this.yaml = { explicit: Directives.defaultYaml.explicit, version: '1.1' };\n            this.tags = Object.assign({}, Directives.defaultTags);\n            this.atNextDocument = false;\n        }\n        const parts = line.trim().split(/[ \\t]+/);\n        const name = parts.shift();\n        switch (name) {\n            case '%TAG': {\n                if (parts.length !== 2) {\n                    onError(0, '%TAG directive should contain exactly two parts');\n                    if (parts.length < 2)\n                        return false;\n                }\n                const [handle, prefix] = parts;\n                this.tags[handle] = prefix;\n                return true;\n            }\n            case '%YAML': {\n                this.yaml.explicit = true;\n                if (parts.length !== 1) {\n                    onError(0, '%YAML directive should contain exactly one part');\n                    return false;\n                }\n                const [version] = parts;\n                if (version === '1.1' || version === '1.2') {\n                    this.yaml.version = version;\n                    return true;\n                }\n                else {\n                    const isValid = /^\\d+\\.\\d+$/.test(version);\n                    onError(6, `Unsupported YAML version ${version}`, isValid);\n                    return false;\n                }\n            }\n            default:\n                onError(0, `Unknown directive ${name}`, true);\n                return false;\n        }\n    }\n    /**\n     * Resolves a tag, matching handles to those defined in %TAG directives.\n     *\n     * @returns Resolved tag, which may also be the non-specific tag `'!'` or a\n     *   `'!local'` tag, or `null` if unresolvable.\n     */\n    tagName(source, onError) {\n        if (source === '!')\n            return '!'; // non-specific tag\n        if (source[0] !== '!') {\n            onError(`Not a valid tag: ${source}`);\n            return null;\n        }\n        if (source[1] === '<') {\n            const verbatim = source.slice(2, -1);\n            if (verbatim === '!' || verbatim === '!!') {\n                onError(`Verbatim tags aren't resolved, so ${source} is invalid.`);\n                return null;\n            }\n            if (source[source.length - 1] !== '>')\n                onError('Verbatim tags must end with a >');\n            return verbatim;\n        }\n        const [, handle, suffix] = source.match(/^(.*!)([^!]*)$/s);\n        if (!suffix)\n            onError(`The ${source} tag has no suffix`);\n        const prefix = this.tags[handle];\n        if (prefix) {\n            try {\n                return prefix + decodeURIComponent(suffix);\n            }\n            catch (error) {\n                onError(String(error));\n                return null;\n            }\n        }\n        if (handle === '!')\n            return source; // local tag\n        onError(`Could not resolve tag: ${source}`);\n        return null;\n    }\n    /**\n     * Given a fully resolved tag, returns its printable string form,\n     * taking into account current tag prefixes and defaults.\n     */\n    tagString(tag) {\n        for (const [handle, prefix] of Object.entries(this.tags)) {\n            if (tag.startsWith(prefix))\n                return handle + escapeTagName(tag.substring(prefix.length));\n        }\n        return tag[0] === '!' ? tag : `!<${tag}>`;\n    }\n    toString(doc) {\n        const lines = this.yaml.explicit\n            ? [`%YAML ${this.yaml.version || '1.2'}`]\n            : [];\n        const tagEntries = Object.entries(this.tags);\n        let tagNames;\n        if (doc && tagEntries.length > 0 && isNode(doc.contents)) {\n            const tags = {};\n            visit(doc.contents, (_key, node) => {\n                if (isNode(node) && node.tag)\n                    tags[node.tag] = true;\n            });\n            tagNames = Object.keys(tags);\n        }\n        else\n            tagNames = [];\n        for (const [handle, prefix] of tagEntries) {\n            if (handle === '!!' && prefix === 'tag:yaml.org,2002:')\n                continue;\n            if (!doc || tagNames.some(tn => tn.startsWith(prefix)))\n                lines.push(`%TAG ${handle} ${prefix}`);\n        }\n        return lines.join('\\n');\n    }\n}\nDirectives.defaultYaml = { explicit: false, version: '1.2' };\nDirectives.defaultTags = { '!!': 'tag:yaml.org,2002:' };\n\nexport { Directives };\n","import { isScalar, isCollection } from '../nodes/identity.js';\nimport { visit } from '../visit.js';\n\n/**\n * Verify that the input string is a valid anchor.\n *\n * Will throw on errors.\n */\nfunction anchorIsValid(anchor) {\n    if (/[\\x00-\\x19\\s,[\\]{}]/.test(anchor)) {\n        const sa = JSON.stringify(anchor);\n        const msg = `Anchor must not contain whitespace or control characters: ${sa}`;\n        throw new Error(msg);\n    }\n    return true;\n}\nfunction anchorNames(root) {\n    const anchors = new Set();\n    visit(root, {\n        Value(_key, node) {\n            if (node.anchor)\n                anchors.add(node.anchor);\n        }\n    });\n    return anchors;\n}\n/** Find a new anchor name with the given `prefix` and a one-indexed suffix. */\nfunction findNewAnchor(prefix, exclude) {\n    for (let i = 1; true; ++i) {\n        const name = `${prefix}${i}`;\n        if (!exclude.has(name))\n            return name;\n    }\n}\nfunction createNodeAnchors(doc, prefix) {\n    const aliasObjects = [];\n    const sourceObjects = new Map();\n    let prevAnchors = null;\n    return {\n        onAnchor: (source) => {\n            aliasObjects.push(source);\n            prevAnchors ?? (prevAnchors = anchorNames(doc));\n            const anchor = findNewAnchor(prefix, prevAnchors);\n            prevAnchors.add(anchor);\n            return anchor;\n        },\n        /**\n         * With circular references, the source node is only resolved after all\n         * of its child nodes are. This is why anchors are set only after all of\n         * the nodes have been created.\n         */\n        setAnchors: () => {\n            for (const source of aliasObjects) {\n                const ref = sourceObjects.get(source);\n                if (typeof ref === 'object' &&\n                    ref.anchor &&\n                    (isScalar(ref.node) || isCollection(ref.node))) {\n                    ref.node.anchor = ref.anchor;\n                }\n                else {\n                    const error = new Error('Failed to resolve repeated object (this should not happen)');\n                    error.source = source;\n                    throw error;\n                }\n            }\n        },\n        sourceObjects\n    };\n}\n\nexport { anchorIsValid, anchorNames, createNodeAnchors, findNewAnchor };\n","/**\n * Applies the JSON.parse reviver algorithm as defined in the ECMA-262 spec,\n * in section 24.5.1.1 \"Runtime Semantics: InternalizeJSONProperty\" of the\n * 2021 edition: https://tc39.es/ecma262/#sec-json.parse\n *\n * Includes extensions for handling Map and Set objects.\n */\nfunction applyReviver(reviver, obj, key, val) {\n    if (val && typeof val === 'object') {\n        if (Array.isArray(val)) {\n            for (let i = 0, len = val.length; i < len; ++i) {\n                const v0 = val[i];\n                const v1 = applyReviver(reviver, val, String(i), v0);\n                // eslint-disable-next-line @typescript-eslint/no-array-delete\n                if (v1 === undefined)\n                    delete val[i];\n                else if (v1 !== v0)\n                    val[i] = v1;\n            }\n        }\n        else if (val instanceof Map) {\n            for (const k of Array.from(val.keys())) {\n                const v0 = val.get(k);\n                const v1 = applyReviver(reviver, val, k, v0);\n                if (v1 === undefined)\n                    val.delete(k);\n                else if (v1 !== v0)\n                    val.set(k, v1);\n            }\n        }\n        else if (val instanceof Set) {\n            for (const v0 of Array.from(val)) {\n                const v1 = applyReviver(reviver, val, v0, v0);\n                if (v1 === undefined)\n                    val.delete(v0);\n                else if (v1 !== v0) {\n                    val.delete(v0);\n                    val.add(v1);\n                }\n            }\n        }\n        else {\n            for (const [k, v0] of Object.entries(val)) {\n                const v1 = applyReviver(reviver, val, k, v0);\n                if (v1 === undefined)\n                    delete val[k];\n                else if (v1 !== v0)\n                    val[k] = v1;\n            }\n        }\n    }\n    return reviver.call(obj, key, val);\n}\n\nexport { applyReviver };\n","import { hasAnchor } from './identity.js';\n\n/**\n * Recursively convert any node or its contents to native JavaScript\n *\n * @param value - The input value\n * @param arg - If `value` defines a `toJSON()` method, use this\n *   as its first argument\n * @param ctx - Conversion context, originally set in Document#toJS(). If\n *   `{ keep: true }` is not set, output should be suitable for JSON\n *   stringification.\n */\nfunction toJS(value, arg, ctx) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    if (Array.isArray(value))\n        return value.map((v, i) => toJS(v, String(i), ctx));\n    if (value && typeof value.toJSON === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n        if (!ctx || !hasAnchor(value))\n            return value.toJSON(arg, ctx);\n        const data = { aliasCount: 0, count: 1, res: undefined };\n        ctx.anchors.set(value, data);\n        ctx.onCreate = res => {\n            data.res = res;\n            delete ctx.onCreate;\n        };\n        const res = value.toJSON(arg, ctx);\n        if (ctx.onCreate)\n            ctx.onCreate(res);\n        return res;\n    }\n    if (typeof value === 'bigint' && !ctx?.keep)\n        return Number(value);\n    return value;\n}\n\nexport { toJS };\n","import { applyReviver } from '../doc/applyReviver.js';\nimport { NODE_TYPE, isDocument } from './identity.js';\nimport { toJS } from './toJS.js';\n\nclass NodeBase {\n    constructor(type) {\n        Object.defineProperty(this, NODE_TYPE, { value: type });\n    }\n    /** Create a copy of this node.  */\n    clone() {\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /** A plain JavaScript representation of this node. */\n    toJS(doc, { mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {\n        if (!isDocument(doc))\n            throw new TypeError('A document argument is required');\n        const ctx = {\n            anchors: new Map(),\n            doc,\n            keep: true,\n            mapAsMap: mapAsMap === true,\n            mapKeyWarned: false,\n            maxAliasCount: typeof maxAliasCount === 'number' ? maxAliasCount : 100\n        };\n        const res = toJS(this, '', ctx);\n        if (typeof onAnchor === 'function')\n            for (const { count, res } of ctx.anchors.values())\n                onAnchor(res, count);\n        return typeof reviver === 'function'\n            ? applyReviver(reviver, { '': res }, '', res)\n            : res;\n    }\n}\n\nexport { NodeBase };\n","import { anchorIsValid } from '../doc/anchors.js';\nimport { visit } from '../visit.js';\nimport { ALIAS, isAlias, isCollection, isPair, hasAnchor } from './identity.js';\nimport { NodeBase } from './Node.js';\nimport { toJS } from './toJS.js';\n\nclass Alias extends NodeBase {\n    constructor(source) {\n        super(ALIAS);\n        this.source = source;\n        Object.defineProperty(this, 'tag', {\n            set() {\n                throw new Error('Alias nodes cannot have tags');\n            }\n        });\n    }\n    /**\n     * Resolve the value of this alias within `doc`, finding the last\n     * instance of the `source` anchor before this node.\n     */\n    resolve(doc, ctx) {\n        let nodes;\n        if (ctx?.aliasResolveCache) {\n            nodes = ctx.aliasResolveCache;\n        }\n        else {\n            nodes = [];\n            visit(doc, {\n                Node: (_key, node) => {\n                    if (isAlias(node) || hasAnchor(node))\n                        nodes.push(node);\n                }\n            });\n            if (ctx)\n                ctx.aliasResolveCache = nodes;\n        }\n        let found = undefined;\n        for (const node of nodes) {\n            if (node === this)\n                break;\n            if (node.anchor === this.source)\n                found = node;\n        }\n        return found;\n    }\n    toJSON(_arg, ctx) {\n        if (!ctx)\n            return { source: this.source };\n        const { anchors, doc, maxAliasCount } = ctx;\n        const source = this.resolve(doc, ctx);\n        if (!source) {\n            const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\n            throw new ReferenceError(msg);\n        }\n        let data = anchors.get(source);\n        if (!data) {\n            // Resolve anchors for Node.prototype.toJS()\n            toJS(source, null, ctx);\n            data = anchors.get(source);\n        }\n        /* istanbul ignore if */\n        if (data?.res === undefined) {\n            const msg = 'This should not happen: Alias anchor was not resolved?';\n            throw new ReferenceError(msg);\n        }\n        if (maxAliasCount >= 0) {\n            data.count += 1;\n            if (data.aliasCount === 0)\n                data.aliasCount = getAliasCount(doc, source, anchors);\n            if (data.count * data.aliasCount > maxAliasCount) {\n                const msg = 'Excessive alias count indicates a resource exhaustion attack';\n                throw new ReferenceError(msg);\n            }\n        }\n        return data.res;\n    }\n    toString(ctx, _onComment, _onChompKeep) {\n        const src = `*${this.source}`;\n        if (ctx) {\n            anchorIsValid(this.source);\n            if (ctx.options.verifyAliasOrder && !ctx.anchors.has(this.source)) {\n                const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\n                throw new Error(msg);\n            }\n            if (ctx.implicitKey)\n                return `${src} `;\n        }\n        return src;\n    }\n}\nfunction getAliasCount(doc, node, anchors) {\n    if (isAlias(node)) {\n        const source = node.resolve(doc);\n        const anchor = anchors && source && anchors.get(source);\n        return anchor ? anchor.count * anchor.aliasCount : 0;\n    }\n    else if (isCollection(node)) {\n        let count = 0;\n        for (const item of node.items) {\n            const c = getAliasCount(doc, item, anchors);\n            if (c > count)\n                count = c;\n        }\n        return count;\n    }\n    else if (isPair(node)) {\n        const kc = getAliasCount(doc, node.key, anchors);\n        const vc = getAliasCount(doc, node.value, anchors);\n        return Math.max(kc, vc);\n    }\n    return 1;\n}\n\nexport { Alias };\n","import { SCALAR } from './identity.js';\nimport { NodeBase } from './Node.js';\nimport { toJS } from './toJS.js';\n\nconst isScalarValue = (value) => !value || (typeof value !== 'function' && typeof value !== 'object');\nclass Scalar extends NodeBase {\n    constructor(value) {\n        super(SCALAR);\n        this.value = value;\n    }\n    toJSON(arg, ctx) {\n        return ctx?.keep ? this.value : toJS(this.value, arg, ctx);\n    }\n    toString() {\n        return String(this.value);\n    }\n}\nScalar.BLOCK_FOLDED = 'BLOCK_FOLDED';\nScalar.BLOCK_LITERAL = 'BLOCK_LITERAL';\nScalar.PLAIN = 'PLAIN';\nScalar.QUOTE_DOUBLE = 'QUOTE_DOUBLE';\nScalar.QUOTE_SINGLE = 'QUOTE_SINGLE';\n\nexport { Scalar, isScalarValue };\n","import { Alias } from '../nodes/Alias.js';\nimport { isNode, isPair, MAP, SEQ, isDocument } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\n\nconst defaultTagPrefix = 'tag:yaml.org,2002:';\nfunction findTagObject(value, tagName, tags) {\n    if (tagName) {\n        const match = tags.filter(t => t.tag === tagName);\n        const tagObj = match.find(t => !t.format) ?? match[0];\n        if (!tagObj)\n            throw new Error(`Tag ${tagName} not found`);\n        return tagObj;\n    }\n    return tags.find(t => t.identify?.(value) && !t.format);\n}\nfunction createNode(value, tagName, ctx) {\n    if (isDocument(value))\n        value = value.contents;\n    if (isNode(value))\n        return value;\n    if (isPair(value)) {\n        const map = ctx.schema[MAP].createNode?.(ctx.schema, null, ctx);\n        map.items.push(value);\n        return map;\n    }\n    if (value instanceof String ||\n        value instanceof Number ||\n        value instanceof Boolean ||\n        (typeof BigInt !== 'undefined' && value instanceof BigInt) // not supported everywhere\n    ) {\n        // https://tc39.es/ecma262/#sec-serializejsonproperty\n        value = value.valueOf();\n    }\n    const { aliasDuplicateObjects, onAnchor, onTagObj, schema, sourceObjects } = ctx;\n    // Detect duplicate references to the same object & use Alias nodes for all\n    // after first. The `ref` wrapper allows for circular references to resolve.\n    let ref = undefined;\n    if (aliasDuplicateObjects && value && typeof value === 'object') {\n        ref = sourceObjects.get(value);\n        if (ref) {\n            ref.anchor ?? (ref.anchor = onAnchor(value));\n            return new Alias(ref.anchor);\n        }\n        else {\n            ref = { anchor: null, node: null };\n            sourceObjects.set(value, ref);\n        }\n    }\n    if (tagName?.startsWith('!!'))\n        tagName = defaultTagPrefix + tagName.slice(2);\n    let tagObj = findTagObject(value, tagName, schema.tags);\n    if (!tagObj) {\n        if (value && typeof value.toJSON === 'function') {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n            value = value.toJSON();\n        }\n        if (!value || typeof value !== 'object') {\n            const node = new Scalar(value);\n            if (ref)\n                ref.node = node;\n            return node;\n        }\n        tagObj =\n            value instanceof Map\n                ? schema[MAP]\n                : Symbol.iterator in Object(value)\n                    ? schema[SEQ]\n                    : schema[MAP];\n    }\n    if (onTagObj) {\n        onTagObj(tagObj);\n        delete ctx.onTagObj;\n    }\n    const node = tagObj?.createNode\n        ? tagObj.createNode(ctx.schema, value, ctx)\n        : typeof tagObj?.nodeClass?.from === 'function'\n            ? tagObj.nodeClass.from(ctx.schema, value, ctx)\n            : new Scalar(value);\n    if (tagName)\n        node.tag = tagName;\n    else if (!tagObj.default)\n        node.tag = tagObj.tag;\n    if (ref)\n        ref.node = node;\n    return node;\n}\n\nexport { createNode };\n","import { createNode } from '../doc/createNode.js';\nimport { isNode, isPair, isCollection, isScalar } from './identity.js';\nimport { NodeBase } from './Node.js';\n\nfunction collectionFromPath(schema, path, value) {\n    let v = value;\n    for (let i = path.length - 1; i >= 0; --i) {\n        const k = path[i];\n        if (typeof k === 'number' && Number.isInteger(k) && k >= 0) {\n            const a = [];\n            a[k] = v;\n            v = a;\n        }\n        else {\n            v = new Map([[k, v]]);\n        }\n    }\n    return createNode(v, undefined, {\n        aliasDuplicateObjects: false,\n        keepUndefined: false,\n        onAnchor: () => {\n            throw new Error('This should not happen, please report a bug.');\n        },\n        schema,\n        sourceObjects: new Map()\n    });\n}\n// Type guard is intentionally a little wrong so as to be more useful,\n// as it does not cover untypable empty non-string iterables (e.g. []).\nconst isEmptyPath = (path) => path == null ||\n    (typeof path === 'object' && !!path[Symbol.iterator]().next().done);\nclass Collection extends NodeBase {\n    constructor(type, schema) {\n        super(type);\n        Object.defineProperty(this, 'schema', {\n            value: schema,\n            configurable: true,\n            enumerable: false,\n            writable: true\n        });\n    }\n    /**\n     * Create a copy of this collection.\n     *\n     * @param schema - If defined, overwrites the original's schema\n     */\n    clone(schema) {\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\n        if (schema)\n            copy.schema = schema;\n        copy.items = copy.items.map(it => isNode(it) || isPair(it) ? it.clone(schema) : it);\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /**\n     * Adds a value to the collection. For `!!map` and `!!omap` the value must\n     * be a Pair instance or a `{ key, value }` object, which may not have a key\n     * that already exists in the map.\n     */\n    addIn(path, value) {\n        if (isEmptyPath(path))\n            this.add(value);\n        else {\n            const [key, ...rest] = path;\n            const node = this.get(key, true);\n            if (isCollection(node))\n                node.addIn(rest, value);\n            else if (node === undefined && this.schema)\n                this.set(key, collectionFromPath(this.schema, rest, value));\n            else\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n        }\n    }\n    /**\n     * Removes a value from the collection.\n     * @returns `true` if the item was found and removed.\n     */\n    deleteIn(path) {\n        const [key, ...rest] = path;\n        if (rest.length === 0)\n            return this.delete(key);\n        const node = this.get(key, true);\n        if (isCollection(node))\n            return node.deleteIn(rest);\n        else\n            throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n    }\n    /**\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    getIn(path, keepScalar) {\n        const [key, ...rest] = path;\n        const node = this.get(key, true);\n        if (rest.length === 0)\n            return !keepScalar && isScalar(node) ? node.value : node;\n        else\n            return isCollection(node) ? node.getIn(rest, keepScalar) : undefined;\n    }\n    hasAllNullValues(allowScalar) {\n        return this.items.every(node => {\n            if (!isPair(node))\n                return false;\n            const n = node.value;\n            return (n == null ||\n                (allowScalar &&\n                    isScalar(n) &&\n                    n.value == null &&\n                    !n.commentBefore &&\n                    !n.comment &&\n                    !n.tag));\n        });\n    }\n    /**\n     * Checks if the collection includes a value with the key `key`.\n     */\n    hasIn(path) {\n        const [key, ...rest] = path;\n        if (rest.length === 0)\n            return this.has(key);\n        const node = this.get(key, true);\n        return isCollection(node) ? node.hasIn(rest) : false;\n    }\n    /**\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    setIn(path, value) {\n        const [key, ...rest] = path;\n        if (rest.length === 0) {\n            this.set(key, value);\n        }\n        else {\n            const node = this.get(key, true);\n            if (isCollection(node))\n                node.setIn(rest, value);\n            else if (node === undefined && this.schema)\n                this.set(key, collectionFromPath(this.schema, rest, value));\n            else\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n        }\n    }\n}\n\nexport { Collection, collectionFromPath, isEmptyPath };\n","/**\n * Stringifies a comment.\n *\n * Empty comment lines are left empty,\n * lines consisting of a single space are replaced by `#`,\n * and all other lines are prefixed with a `#`.\n */\nconst stringifyComment = (str) => str.replace(/^(?!$)(?: $)?/gm, '#');\nfunction indentComment(comment, indent) {\n    if (/^\\n+$/.test(comment))\n        return comment.substring(1);\n    return indent ? comment.replace(/^(?! *$)/gm, indent) : comment;\n}\nconst lineComment = (str, indent, comment) => str.endsWith('\\n')\n    ? indentComment(comment, indent)\n    : comment.includes('\\n')\n        ? '\\n' + indentComment(comment, indent)\n        : (str.endsWith(' ') ? '' : ' ') + comment;\n\nexport { indentComment, lineComment, stringifyComment };\n","const FOLD_FLOW = 'flow';\nconst FOLD_BLOCK = 'block';\nconst FOLD_QUOTED = 'quoted';\n/**\n * Tries to keep input at up to `lineWidth` characters, splitting only on spaces\n * not followed by newlines or spaces unless `mode` is `'quoted'`. Lines are\n * terminated with `\\n` and started with `indent`.\n */\nfunction foldFlowLines(text, indent, mode = 'flow', { indentAtStart, lineWidth = 80, minContentWidth = 20, onFold, onOverflow } = {}) {\n    if (!lineWidth || lineWidth < 0)\n        return text;\n    if (lineWidth < minContentWidth)\n        minContentWidth = 0;\n    const endStep = Math.max(1 + minContentWidth, 1 + lineWidth - indent.length);\n    if (text.length <= endStep)\n        return text;\n    const folds = [];\n    const escapedFolds = {};\n    let end = lineWidth - indent.length;\n    if (typeof indentAtStart === 'number') {\n        if (indentAtStart > lineWidth - Math.max(2, minContentWidth))\n            folds.push(0);\n        else\n            end = lineWidth - indentAtStart;\n    }\n    let split = undefined;\n    let prev = undefined;\n    let overflow = false;\n    let i = -1;\n    let escStart = -1;\n    let escEnd = -1;\n    if (mode === FOLD_BLOCK) {\n        i = consumeMoreIndentedLines(text, i, indent.length);\n        if (i !== -1)\n            end = i + endStep;\n    }\n    for (let ch; (ch = text[(i += 1)]);) {\n        if (mode === FOLD_QUOTED && ch === '\\\\') {\n            escStart = i;\n            switch (text[i + 1]) {\n                case 'x':\n                    i += 3;\n                    break;\n                case 'u':\n                    i += 5;\n                    break;\n                case 'U':\n                    i += 9;\n                    break;\n                default:\n                    i += 1;\n            }\n            escEnd = i;\n        }\n        if (ch === '\\n') {\n            if (mode === FOLD_BLOCK)\n                i = consumeMoreIndentedLines(text, i, indent.length);\n            end = i + indent.length + endStep;\n            split = undefined;\n        }\n        else {\n            if (ch === ' ' &&\n                prev &&\n                prev !== ' ' &&\n                prev !== '\\n' &&\n                prev !== '\\t') {\n                // space surrounded by non-space can be replaced with newline + indent\n                const next = text[i + 1];\n                if (next && next !== ' ' && next !== '\\n' && next !== '\\t')\n                    split = i;\n            }\n            if (i >= end) {\n                if (split) {\n                    folds.push(split);\n                    end = split + endStep;\n                    split = undefined;\n                }\n                else if (mode === FOLD_QUOTED) {\n                    // white-space collected at end may stretch past lineWidth\n                    while (prev === ' ' || prev === '\\t') {\n                        prev = ch;\n                        ch = text[(i += 1)];\n                        overflow = true;\n                    }\n                    // Account for newline escape, but don't break preceding escape\n                    const j = i > escEnd + 1 ? i - 2 : escStart - 1;\n                    // Bail out if lineWidth & minContentWidth are shorter than an escape string\n                    if (escapedFolds[j])\n                        return text;\n                    folds.push(j);\n                    escapedFolds[j] = true;\n                    end = j + endStep;\n                    split = undefined;\n                }\n                else {\n                    overflow = true;\n                }\n            }\n        }\n        prev = ch;\n    }\n    if (overflow && onOverflow)\n        onOverflow();\n    if (folds.length === 0)\n        return text;\n    if (onFold)\n        onFold();\n    let res = text.slice(0, folds[0]);\n    for (let i = 0; i < folds.length; ++i) {\n        const fold = folds[i];\n        const end = folds[i + 1] || text.length;\n        if (fold === 0)\n            res = `\\n${indent}${text.slice(0, end)}`;\n        else {\n            if (mode === FOLD_QUOTED && escapedFolds[fold])\n                res += `${text[fold]}\\\\`;\n            res += `\\n${indent}${text.slice(fold + 1, end)}`;\n        }\n    }\n    return res;\n}\n/**\n * Presumes `i + 1` is at the start of a line\n * @returns index of last newline in more-indented block\n */\nfunction consumeMoreIndentedLines(text, i, indent) {\n    let end = i;\n    let start = i + 1;\n    let ch = text[start];\n    while (ch === ' ' || ch === '\\t') {\n        if (i < start + indent) {\n            ch = text[++i];\n        }\n        else {\n            do {\n                ch = text[++i];\n            } while (ch && ch !== '\\n');\n            end = i;\n            start = i + 1;\n            ch = text[start];\n        }\n    }\n    return end;\n}\n\nexport { FOLD_BLOCK, FOLD_FLOW, FOLD_QUOTED, foldFlowLines };\n","import { Scalar } from '../nodes/Scalar.js';\nimport { foldFlowLines, FOLD_FLOW, FOLD_QUOTED, FOLD_BLOCK } from './foldFlowLines.js';\n\nconst getFoldOptions = (ctx, isBlock) => ({\n    indentAtStart: isBlock ? ctx.indent.length : ctx.indentAtStart,\n    lineWidth: ctx.options.lineWidth,\n    minContentWidth: ctx.options.minContentWidth\n});\n// Also checks for lines starting with %, as parsing the output as YAML 1.1 will\n// presume that's starting a new document.\nconst containsDocumentMarker = (str) => /^(%|---|\\.\\.\\.)/m.test(str);\nfunction lineLengthOverLimit(str, lineWidth, indentLength) {\n    if (!lineWidth || lineWidth < 0)\n        return false;\n    const limit = lineWidth - indentLength;\n    const strLen = str.length;\n    if (strLen <= limit)\n        return false;\n    for (let i = 0, start = 0; i < strLen; ++i) {\n        if (str[i] === '\\n') {\n            if (i - start > limit)\n                return true;\n            start = i + 1;\n            if (strLen - start <= limit)\n                return false;\n        }\n    }\n    return true;\n}\nfunction doubleQuotedString(value, ctx) {\n    const json = JSON.stringify(value);\n    if (ctx.options.doubleQuotedAsJSON)\n        return json;\n    const { implicitKey } = ctx;\n    const minMultiLineLength = ctx.options.doubleQuotedMinMultiLineLength;\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\n    let str = '';\n    let start = 0;\n    for (let i = 0, ch = json[i]; ch; ch = json[++i]) {\n        if (ch === ' ' && json[i + 1] === '\\\\' && json[i + 2] === 'n') {\n            // space before newline needs to be escaped to not be folded\n            str += json.slice(start, i) + '\\\\ ';\n            i += 1;\n            start = i;\n            ch = '\\\\';\n        }\n        if (ch === '\\\\')\n            switch (json[i + 1]) {\n                case 'u':\n                    {\n                        str += json.slice(start, i);\n                        const code = json.substr(i + 2, 4);\n                        switch (code) {\n                            case '0000':\n                                str += '\\\\0';\n                                break;\n                            case '0007':\n                                str += '\\\\a';\n                                break;\n                            case '000b':\n                                str += '\\\\v';\n                                break;\n                            case '001b':\n                                str += '\\\\e';\n                                break;\n                            case '0085':\n                                str += '\\\\N';\n                                break;\n                            case '00a0':\n                                str += '\\\\_';\n                                break;\n                            case '2028':\n                                str += '\\\\L';\n                                break;\n                            case '2029':\n                                str += '\\\\P';\n                                break;\n                            default:\n                                if (code.substr(0, 2) === '00')\n                                    str += '\\\\x' + code.substr(2);\n                                else\n                                    str += json.substr(i, 6);\n                        }\n                        i += 5;\n                        start = i + 1;\n                    }\n                    break;\n                case 'n':\n                    if (implicitKey ||\n                        json[i + 2] === '\"' ||\n                        json.length < minMultiLineLength) {\n                        i += 1;\n                    }\n                    else {\n                        // folding will eat first newline\n                        str += json.slice(start, i) + '\\n\\n';\n                        while (json[i + 2] === '\\\\' &&\n                            json[i + 3] === 'n' &&\n                            json[i + 4] !== '\"') {\n                            str += '\\n';\n                            i += 2;\n                        }\n                        str += indent;\n                        // space after newline needs to be escaped to not be folded\n                        if (json[i + 2] === ' ')\n                            str += '\\\\';\n                        i += 1;\n                        start = i + 1;\n                    }\n                    break;\n                default:\n                    i += 1;\n            }\n    }\n    str = start ? str + json.slice(start) : json;\n    return implicitKey\n        ? str\n        : foldFlowLines(str, indent, FOLD_QUOTED, getFoldOptions(ctx, false));\n}\nfunction singleQuotedString(value, ctx) {\n    if (ctx.options.singleQuote === false ||\n        (ctx.implicitKey && value.includes('\\n')) ||\n        /[ \\t]\\n|\\n[ \\t]/.test(value) // single quoted string can't have leading or trailing whitespace around newline\n    )\n        return doubleQuotedString(value, ctx);\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\n    const res = \"'\" + value.replace(/'/g, \"''\").replace(/\\n+/g, `$&\\n${indent}`) + \"'\";\n    return ctx.implicitKey\n        ? res\n        : foldFlowLines(res, indent, FOLD_FLOW, getFoldOptions(ctx, false));\n}\nfunction quotedString(value, ctx) {\n    const { singleQuote } = ctx.options;\n    let qs;\n    if (singleQuote === false)\n        qs = doubleQuotedString;\n    else {\n        const hasDouble = value.includes('\"');\n        const hasSingle = value.includes(\"'\");\n        if (hasDouble && !hasSingle)\n            qs = singleQuotedString;\n        else if (hasSingle && !hasDouble)\n            qs = doubleQuotedString;\n        else\n            qs = singleQuote ? singleQuotedString : doubleQuotedString;\n    }\n    return qs(value, ctx);\n}\n// The negative lookbehind avoids a polynomial search,\n// but isn't supported yet on Safari: https://caniuse.com/js-regexp-lookbehind\nlet blockEndNewlines;\ntry {\n    blockEndNewlines = new RegExp('(^|(?<!\\n))\\n+(?!\\n|$)', 'g');\n}\ncatch {\n    blockEndNewlines = /\\n+(?!\\n|$)/g;\n}\nfunction blockString({ comment, type, value }, ctx, onComment, onChompKeep) {\n    const { blockQuote, commentString, lineWidth } = ctx.options;\n    // 1. Block can't end in whitespace unless the last line is non-empty.\n    // 2. Strings consisting of only whitespace are best rendered explicitly.\n    if (!blockQuote || /\\n[\\t ]+$/.test(value)) {\n        return quotedString(value, ctx);\n    }\n    const indent = ctx.indent ||\n        (ctx.forceBlockIndent || containsDocumentMarker(value) ? '  ' : '');\n    const literal = blockQuote === 'literal'\n        ? true\n        : blockQuote === 'folded' || type === Scalar.BLOCK_FOLDED\n            ? false\n            : type === Scalar.BLOCK_LITERAL\n                ? true\n                : !lineLengthOverLimit(value, lineWidth, indent.length);\n    if (!value)\n        return literal ? '|\\n' : '>\\n';\n    // determine chomping from whitespace at value end\n    let chomp;\n    let endStart;\n    for (endStart = value.length; endStart > 0; --endStart) {\n        const ch = value[endStart - 1];\n        if (ch !== '\\n' && ch !== '\\t' && ch !== ' ')\n            break;\n    }\n    let end = value.substring(endStart);\n    const endNlPos = end.indexOf('\\n');\n    if (endNlPos === -1) {\n        chomp = '-'; // strip\n    }\n    else if (value === end || endNlPos !== end.length - 1) {\n        chomp = '+'; // keep\n        if (onChompKeep)\n            onChompKeep();\n    }\n    else {\n        chomp = ''; // clip\n    }\n    if (end) {\n        value = value.slice(0, -end.length);\n        if (end[end.length - 1] === '\\n')\n            end = end.slice(0, -1);\n        end = end.replace(blockEndNewlines, `$&${indent}`);\n    }\n    // determine indent indicator from whitespace at value start\n    let startWithSpace = false;\n    let startEnd;\n    let startNlPos = -1;\n    for (startEnd = 0; startEnd < value.length; ++startEnd) {\n        const ch = value[startEnd];\n        if (ch === ' ')\n            startWithSpace = true;\n        else if (ch === '\\n')\n            startNlPos = startEnd;\n        else\n            break;\n    }\n    let start = value.substring(0, startNlPos < startEnd ? startNlPos + 1 : startEnd);\n    if (start) {\n        value = value.substring(start.length);\n        start = start.replace(/\\n+/g, `$&${indent}`);\n    }\n    const indentSize = indent ? '2' : '1'; // root is at -1\n    // Leading | or > is added later\n    let header = (startWithSpace ? indentSize : '') + chomp;\n    if (comment) {\n        header += ' ' + commentString(comment.replace(/ ?[\\r\\n]+/g, ' '));\n        if (onComment)\n            onComment();\n    }\n    if (!literal) {\n        const foldedValue = value\n            .replace(/\\n+/g, '\\n$&')\n            .replace(/(?:^|\\n)([\\t ].*)(?:([\\n\\t ]*)\\n(?![\\n\\t ]))?/g, '$1$2') // more-indented lines aren't folded\n            //                ^ more-ind. ^ empty     ^ capture next empty lines only at end of indent\n            .replace(/\\n+/g, `$&${indent}`);\n        let literalFallback = false;\n        const foldOptions = getFoldOptions(ctx, true);\n        if (blockQuote !== 'folded' && type !== Scalar.BLOCK_FOLDED) {\n            foldOptions.onOverflow = () => {\n                literalFallback = true;\n            };\n        }\n        const body = foldFlowLines(`${start}${foldedValue}${end}`, indent, FOLD_BLOCK, foldOptions);\n        if (!literalFallback)\n            return `>${header}\\n${indent}${body}`;\n    }\n    value = value.replace(/\\n+/g, `$&${indent}`);\n    return `|${header}\\n${indent}${start}${value}${end}`;\n}\nfunction plainString(item, ctx, onComment, onChompKeep) {\n    const { type, value } = item;\n    const { actualString, implicitKey, indent, indentStep, inFlow } = ctx;\n    if ((implicitKey && value.includes('\\n')) ||\n        (inFlow && /[[\\]{},]/.test(value))) {\n        return quotedString(value, ctx);\n    }\n    if (/^[\\n\\t ,[\\]{}#&*!|>'\"%@`]|^[?-]$|^[?-][ \\t]|[\\n:][ \\t]|[ \\t]\\n|[\\n\\t ]#|[\\n\\t :]$/.test(value)) {\n        // not allowed:\n        // - '-' or '?'\n        // - start with an indicator character (except [?:-]) or /[?-] /\n        // - '\\n ', ': ' or ' \\n' anywhere\n        // - '#' not preceded by a non-space char\n        // - end with ' ' or ':'\n        return implicitKey || inFlow || !value.includes('\\n')\n            ? quotedString(value, ctx)\n            : blockString(item, ctx, onComment, onChompKeep);\n    }\n    if (!implicitKey &&\n        !inFlow &&\n        type !== Scalar.PLAIN &&\n        value.includes('\\n')) {\n        // Where allowed & type not set explicitly, prefer block style for multiline strings\n        return blockString(item, ctx, onComment, onChompKeep);\n    }\n    if (containsDocumentMarker(value)) {\n        if (indent === '') {\n            ctx.forceBlockIndent = true;\n            return blockString(item, ctx, onComment, onChompKeep);\n        }\n        else if (implicitKey && indent === indentStep) {\n            return quotedString(value, ctx);\n        }\n    }\n    const str = value.replace(/\\n+/g, `$&\\n${indent}`);\n    // Verify that output will be parsed as a string, as e.g. plain numbers and\n    // booleans get parsed with those types in v1.2 (e.g. '42', 'true' & '0.9e-3'),\n    // and others in v1.1.\n    if (actualString) {\n        const test = (tag) => tag.default && tag.tag !== 'tag:yaml.org,2002:str' && tag.test?.test(str);\n        const { compat, tags } = ctx.doc.schema;\n        if (tags.some(test) || compat?.some(test))\n            return quotedString(value, ctx);\n    }\n    return implicitKey\n        ? str\n        : foldFlowLines(str, indent, FOLD_FLOW, getFoldOptions(ctx, false));\n}\nfunction stringifyString(item, ctx, onComment, onChompKeep) {\n    const { implicitKey, inFlow } = ctx;\n    const ss = typeof item.value === 'string'\n        ? item\n        : Object.assign({}, item, { value: String(item.value) });\n    let { type } = item;\n    if (type !== Scalar.QUOTE_DOUBLE) {\n        // force double quotes on control characters & unpaired surrogates\n        if (/[\\x00-\\x08\\x0b-\\x1f\\x7f-\\x9f\\u{D800}-\\u{DFFF}]/u.test(ss.value))\n            type = Scalar.QUOTE_DOUBLE;\n    }\n    const _stringify = (_type) => {\n        switch (_type) {\n            case Scalar.BLOCK_FOLDED:\n            case Scalar.BLOCK_LITERAL:\n                return implicitKey || inFlow\n                    ? quotedString(ss.value, ctx) // blocks are not valid inside flow containers\n                    : blockString(ss, ctx, onComment, onChompKeep);\n            case Scalar.QUOTE_DOUBLE:\n                return doubleQuotedString(ss.value, ctx);\n            case Scalar.QUOTE_SINGLE:\n                return singleQuotedString(ss.value, ctx);\n            case Scalar.PLAIN:\n                return plainString(ss, ctx, onComment, onChompKeep);\n            default:\n                return null;\n        }\n    };\n    let res = _stringify(type);\n    if (res === null) {\n        const { defaultKeyType, defaultStringType } = ctx.options;\n        const t = (implicitKey && defaultKeyType) || defaultStringType;\n        res = _stringify(t);\n        if (res === null)\n            throw new Error(`Unsupported default string type ${t}`);\n    }\n    return res;\n}\n\nexport { stringifyString };\n","import { anchorIsValid } from '../doc/anchors.js';\nimport { isPair, isAlias, isNode, isScalar, isCollection } from '../nodes/identity.js';\nimport { stringifyComment } from './stringifyComment.js';\nimport { stringifyString } from './stringifyString.js';\n\nfunction createStringifyContext(doc, options) {\n    const opt = Object.assign({\n        blockQuote: true,\n        commentString: stringifyComment,\n        defaultKeyType: null,\n        defaultStringType: 'PLAIN',\n        directives: null,\n        doubleQuotedAsJSON: false,\n        doubleQuotedMinMultiLineLength: 40,\n        falseStr: 'false',\n        flowCollectionPadding: true,\n        indentSeq: true,\n        lineWidth: 80,\n        minContentWidth: 20,\n        nullStr: 'null',\n        simpleKeys: false,\n        singleQuote: null,\n        trueStr: 'true',\n        verifyAliasOrder: true\n    }, doc.schema.toStringOptions, options);\n    let inFlow;\n    switch (opt.collectionStyle) {\n        case 'block':\n            inFlow = false;\n            break;\n        case 'flow':\n            inFlow = true;\n            break;\n        default:\n            inFlow = null;\n    }\n    return {\n        anchors: new Set(),\n        doc,\n        flowCollectionPadding: opt.flowCollectionPadding ? ' ' : '',\n        indent: '',\n        indentStep: typeof opt.indent === 'number' ? ' '.repeat(opt.indent) : '  ',\n        inFlow,\n        options: opt\n    };\n}\nfunction getTagObject(tags, item) {\n    if (item.tag) {\n        const match = tags.filter(t => t.tag === item.tag);\n        if (match.length > 0)\n            return match.find(t => t.format === item.format) ?? match[0];\n    }\n    let tagObj = undefined;\n    let obj;\n    if (isScalar(item)) {\n        obj = item.value;\n        let match = tags.filter(t => t.identify?.(obj));\n        if (match.length > 1) {\n            const testMatch = match.filter(t => t.test);\n            if (testMatch.length > 0)\n                match = testMatch;\n        }\n        tagObj =\n            match.find(t => t.format === item.format) ?? match.find(t => !t.format);\n    }\n    else {\n        obj = item;\n        tagObj = tags.find(t => t.nodeClass && obj instanceof t.nodeClass);\n    }\n    if (!tagObj) {\n        const name = obj?.constructor?.name ?? (obj === null ? 'null' : typeof obj);\n        throw new Error(`Tag not resolved for ${name} value`);\n    }\n    return tagObj;\n}\n// needs to be called before value stringifier to allow for circular anchor refs\nfunction stringifyProps(node, tagObj, { anchors, doc }) {\n    if (!doc.directives)\n        return '';\n    const props = [];\n    const anchor = (isScalar(node) || isCollection(node)) && node.anchor;\n    if (anchor && anchorIsValid(anchor)) {\n        anchors.add(anchor);\n        props.push(`&${anchor}`);\n    }\n    const tag = node.tag ?? (tagObj.default ? null : tagObj.tag);\n    if (tag)\n        props.push(doc.directives.tagString(tag));\n    return props.join(' ');\n}\nfunction stringify(item, ctx, onComment, onChompKeep) {\n    if (isPair(item))\n        return item.toString(ctx, onComment, onChompKeep);\n    if (isAlias(item)) {\n        if (ctx.doc.directives)\n            return item.toString(ctx);\n        if (ctx.resolvedAliases?.has(item)) {\n            throw new TypeError(`Cannot stringify circular structure without alias nodes`);\n        }\n        else {\n            if (ctx.resolvedAliases)\n                ctx.resolvedAliases.add(item);\n            else\n                ctx.resolvedAliases = new Set([item]);\n            item = item.resolve(ctx.doc);\n        }\n    }\n    let tagObj = undefined;\n    const node = isNode(item)\n        ? item\n        : ctx.doc.createNode(item, { onTagObj: o => (tagObj = o) });\n    tagObj ?? (tagObj = getTagObject(ctx.doc.schema.tags, node));\n    const props = stringifyProps(node, tagObj, ctx);\n    if (props.length > 0)\n        ctx.indentAtStart = (ctx.indentAtStart ?? 0) + props.length + 1;\n    const str = typeof tagObj.stringify === 'function'\n        ? tagObj.stringify(node, ctx, onComment, onChompKeep)\n        : isScalar(node)\n            ? stringifyString(node, ctx, onComment, onChompKeep)\n            : node.toString(ctx, onComment, onChompKeep);\n    if (!props)\n        return str;\n    return isScalar(node) || str[0] === '{' || str[0] === '['\n        ? `${props} ${str}`\n        : `${props}\\n${ctx.indent}${str}`;\n}\n\nexport { createStringifyContext, stringify };\n","function debug(logLevel, ...messages) {\n    if (logLevel === 'debug')\n        console.log(...messages);\n}\nfunction warn(logLevel, warning) {\n    if (logLevel === 'debug' || logLevel === 'warn') {\n        console.warn(warning);\n    }\n}\n\nexport { debug, warn };\n","import { isScalar, isAlias, isSeq, isMap } from '../../nodes/identity.js';\nimport { Scalar } from '../../nodes/Scalar.js';\n\n// If the value associated with a merge key is a single mapping node, each of\n// its key/value pairs is inserted into the current mapping, unless the key\n// already exists in it. If the value associated with the merge key is a\n// sequence, then this sequence is expected to contain mapping nodes and each\n// of these nodes is merged in turn according to its order in the sequence.\n// Keys in mapping nodes earlier in the sequence override keys specified in\n// later mapping nodes. -- http://yaml.org/type/merge.html\nconst MERGE_KEY = '<<';\nconst merge = {\n    identify: value => value === MERGE_KEY ||\n        (typeof value === 'symbol' && value.description === MERGE_KEY),\n    default: 'key',\n    tag: 'tag:yaml.org,2002:merge',\n    test: /^<<$/,\n    resolve: () => Object.assign(new Scalar(Symbol(MERGE_KEY)), {\n        addToJSMap: addMergeToJSMap\n    }),\n    stringify: () => MERGE_KEY\n};\nconst isMergeKey = (ctx, key) => (merge.identify(key) ||\n    (isScalar(key) &&\n        (!key.type || key.type === Scalar.PLAIN) &&\n        merge.identify(key.value))) &&\n    ctx?.doc.schema.tags.some(tag => tag.tag === merge.tag && tag.default);\nfunction addMergeToJSMap(ctx, map, value) {\n    value = ctx && isAlias(value) ? value.resolve(ctx.doc) : value;\n    if (isSeq(value))\n        for (const it of value.items)\n            mergeValue(ctx, map, it);\n    else if (Array.isArray(value))\n        for (const it of value)\n            mergeValue(ctx, map, it);\n    else\n        mergeValue(ctx, map, value);\n}\nfunction mergeValue(ctx, map, value) {\n    const source = ctx && isAlias(value) ? value.resolve(ctx.doc) : value;\n    if (!isMap(source))\n        throw new Error('Merge sources must be maps or map aliases');\n    const srcMap = source.toJSON(null, ctx, Map);\n    for (const [key, value] of srcMap) {\n        if (map instanceof Map) {\n            if (!map.has(key))\n                map.set(key, value);\n        }\n        else if (map instanceof Set) {\n            map.add(key);\n        }\n        else if (!Object.prototype.hasOwnProperty.call(map, key)) {\n            Object.defineProperty(map, key, {\n                value,\n                writable: true,\n                enumerable: true,\n                configurable: true\n            });\n        }\n    }\n    return map;\n}\n\nexport { addMergeToJSMap, isMergeKey, merge };\n","import { warn } from '../log.js';\nimport { isMergeKey, addMergeToJSMap } from '../schema/yaml-1.1/merge.js';\nimport { createStringifyContext } from '../stringify/stringify.js';\nimport { isNode } from './identity.js';\nimport { toJS } from './toJS.js';\n\nfunction addPairToJSMap(ctx, map, { key, value }) {\n    if (isNode(key) && key.addToJSMap)\n        key.addToJSMap(ctx, map, value);\n    // TODO: Should drop this special case for bare << handling\n    else if (isMergeKey(ctx, key))\n        addMergeToJSMap(ctx, map, value);\n    else {\n        const jsKey = toJS(key, '', ctx);\n        if (map instanceof Map) {\n            map.set(jsKey, toJS(value, jsKey, ctx));\n        }\n        else if (map instanceof Set) {\n            map.add(jsKey);\n        }\n        else {\n            const stringKey = stringifyKey(key, jsKey, ctx);\n            const jsValue = toJS(value, stringKey, ctx);\n            if (stringKey in map)\n                Object.defineProperty(map, stringKey, {\n                    value: jsValue,\n                    writable: true,\n                    enumerable: true,\n                    configurable: true\n                });\n            else\n                map[stringKey] = jsValue;\n        }\n    }\n    return map;\n}\nfunction stringifyKey(key, jsKey, ctx) {\n    if (jsKey === null)\n        return '';\n    // eslint-disable-next-line @typescript-eslint/no-base-to-string\n    if (typeof jsKey !== 'object')\n        return String(jsKey);\n    if (isNode(key) && ctx?.doc) {\n        const strCtx = createStringifyContext(ctx.doc, {});\n        strCtx.anchors = new Set();\n        for (const node of ctx.anchors.keys())\n            strCtx.anchors.add(node.anchor);\n        strCtx.inFlow = true;\n        strCtx.inStringifyKey = true;\n        const strKey = key.toString(strCtx);\n        if (!ctx.mapKeyWarned) {\n            let jsonStr = JSON.stringify(strKey);\n            if (jsonStr.length > 40)\n                jsonStr = jsonStr.substring(0, 36) + '...\"';\n            warn(ctx.doc.options.logLevel, `Keys with collection values will be stringified due to JS Object restrictions: ${jsonStr}. Set mapAsMap: true to use object keys.`);\n            ctx.mapKeyWarned = true;\n        }\n        return strKey;\n    }\n    return JSON.stringify(jsKey);\n}\n\nexport { addPairToJSMap };\n","import { createNode } from '../doc/createNode.js';\nimport { stringifyPair } from '../stringify/stringifyPair.js';\nimport { addPairToJSMap } from './addPairToJSMap.js';\nimport { NODE_TYPE, PAIR, isNode } from './identity.js';\n\nfunction createPair(key, value, ctx) {\n    const k = createNode(key, undefined, ctx);\n    const v = createNode(value, undefined, ctx);\n    return new Pair(k, v);\n}\nclass Pair {\n    constructor(key, value = null) {\n        Object.defineProperty(this, NODE_TYPE, { value: PAIR });\n        this.key = key;\n        this.value = value;\n    }\n    clone(schema) {\n        let { key, value } = this;\n        if (isNode(key))\n            key = key.clone(schema);\n        if (isNode(value))\n            value = value.clone(schema);\n        return new Pair(key, value);\n    }\n    toJSON(_, ctx) {\n        const pair = ctx?.mapAsMap ? new Map() : {};\n        return addPairToJSMap(ctx, pair, this);\n    }\n    toString(ctx, onComment, onChompKeep) {\n        return ctx?.doc\n            ? stringifyPair(this, ctx, onComment, onChompKeep)\n            : JSON.stringify(this);\n    }\n}\n\nexport { Pair, createPair };\n","import { isCollection, isNode, isScalar, isSeq } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\nimport { stringify } from './stringify.js';\nimport { lineComment, indentComment } from './stringifyComment.js';\n\nfunction stringifyPair({ key, value }, ctx, onComment, onChompKeep) {\n    const { allNullValues, doc, indent, indentStep, options: { commentString, indentSeq, simpleKeys } } = ctx;\n    let keyComment = (isNode(key) && key.comment) || null;\n    if (simpleKeys) {\n        if (keyComment) {\n            throw new Error('With simple keys, key nodes cannot have comments');\n        }\n        if (isCollection(key) || (!isNode(key) && typeof key === 'object')) {\n            const msg = 'With simple keys, collection cannot be used as a key value';\n            throw new Error(msg);\n        }\n    }\n    let explicitKey = !simpleKeys &&\n        (!key ||\n            (keyComment && value == null && !ctx.inFlow) ||\n            isCollection(key) ||\n            (isScalar(key)\n                ? key.type === Scalar.BLOCK_FOLDED || key.type === Scalar.BLOCK_LITERAL\n                : typeof key === 'object'));\n    ctx = Object.assign({}, ctx, {\n        allNullValues: false,\n        implicitKey: !explicitKey && (simpleKeys || !allNullValues),\n        indent: indent + indentStep\n    });\n    let keyCommentDone = false;\n    let chompKeep = false;\n    let str = stringify(key, ctx, () => (keyCommentDone = true), () => (chompKeep = true));\n    if (!explicitKey && !ctx.inFlow && str.length > 1024) {\n        if (simpleKeys)\n            throw new Error('With simple keys, single line scalar must not span more than 1024 characters');\n        explicitKey = true;\n    }\n    if (ctx.inFlow) {\n        if (allNullValues || value == null) {\n            if (keyCommentDone && onComment)\n                onComment();\n            return str === '' ? '?' : explicitKey ? `? ${str}` : str;\n        }\n    }\n    else if ((allNullValues && !simpleKeys) || (value == null && explicitKey)) {\n        str = `? ${str}`;\n        if (keyComment && !keyCommentDone) {\n            str += lineComment(str, ctx.indent, commentString(keyComment));\n        }\n        else if (chompKeep && onChompKeep)\n            onChompKeep();\n        return str;\n    }\n    if (keyCommentDone)\n        keyComment = null;\n    if (explicitKey) {\n        if (keyComment)\n            str += lineComment(str, ctx.indent, commentString(keyComment));\n        str = `? ${str}\\n${indent}:`;\n    }\n    else {\n        str = `${str}:`;\n        if (keyComment)\n            str += lineComment(str, ctx.indent, commentString(keyComment));\n    }\n    let vsb, vcb, valueComment;\n    if (isNode(value)) {\n        vsb = !!value.spaceBefore;\n        vcb = value.commentBefore;\n        valueComment = value.comment;\n    }\n    else {\n        vsb = false;\n        vcb = null;\n        valueComment = null;\n        if (value && typeof value === 'object')\n            value = doc.createNode(value);\n    }\n    ctx.implicitKey = false;\n    if (!explicitKey && !keyComment && isScalar(value))\n        ctx.indentAtStart = str.length + 1;\n    chompKeep = false;\n    if (!indentSeq &&\n        indentStep.length >= 2 &&\n        !ctx.inFlow &&\n        !explicitKey &&\n        isSeq(value) &&\n        !value.flow &&\n        !value.tag &&\n        !value.anchor) {\n        // If indentSeq === false, consider '- ' as part of indentation where possible\n        ctx.indent = ctx.indent.substring(2);\n    }\n    let valueCommentDone = false;\n    const valueStr = stringify(value, ctx, () => (valueCommentDone = true), () => (chompKeep = true));\n    let ws = ' ';\n    if (keyComment || vsb || vcb) {\n        ws = vsb ? '\\n' : '';\n        if (vcb) {\n            const cs = commentString(vcb);\n            ws += `\\n${indentComment(cs, ctx.indent)}`;\n        }\n        if (valueStr === '' && !ctx.inFlow) {\n            if (ws === '\\n' && valueComment)\n                ws = '\\n\\n';\n        }\n        else {\n            ws += `\\n${ctx.indent}`;\n        }\n    }\n    else if (!explicitKey && isCollection(value)) {\n        const vs0 = valueStr[0];\n        const nl0 = valueStr.indexOf('\\n');\n        const hasNewline = nl0 !== -1;\n        const flow = ctx.inFlow ?? value.flow ?? value.items.length === 0;\n        if (hasNewline || !flow) {\n            let hasPropsLine = false;\n            if (hasNewline && (vs0 === '&' || vs0 === '!')) {\n                let sp0 = valueStr.indexOf(' ');\n                if (vs0 === '&' &&\n                    sp0 !== -1 &&\n                    sp0 < nl0 &&\n                    valueStr[sp0 + 1] === '!') {\n                    sp0 = valueStr.indexOf(' ', sp0 + 1);\n                }\n                if (sp0 === -1 || nl0 < sp0)\n                    hasPropsLine = true;\n            }\n            if (!hasPropsLine)\n                ws = `\\n${ctx.indent}`;\n        }\n    }\n    else if (valueStr === '' || valueStr[0] === '\\n') {\n        ws = '';\n    }\n    str += ws + valueStr;\n    if (ctx.inFlow) {\n        if (valueCommentDone && onComment)\n            onComment();\n    }\n    else if (valueComment && !valueCommentDone) {\n        str += lineComment(str, ctx.indent, commentString(valueComment));\n    }\n    else if (chompKeep && onChompKeep) {\n        onChompKeep();\n    }\n    return str;\n}\n\nexport { stringifyPair };\n","import { isNode, isPair } from '../nodes/identity.js';\nimport { stringify } from './stringify.js';\nimport { lineComment, indentComment } from './stringifyComment.js';\n\nfunction stringifyCollection(collection, ctx, options) {\n    const flow = ctx.inFlow ?? collection.flow;\n    const stringify = flow ? stringifyFlowCollection : stringifyBlockCollection;\n    return stringify(collection, ctx, options);\n}\nfunction stringifyBlockCollection({ comment, items }, ctx, { blockItemPrefix, flowChars, itemIndent, onChompKeep, onComment }) {\n    const { indent, options: { commentString } } = ctx;\n    const itemCtx = Object.assign({}, ctx, { indent: itemIndent, type: null });\n    let chompKeep = false; // flag for the preceding node's status\n    const lines = [];\n    for (let i = 0; i < items.length; ++i) {\n        const item = items[i];\n        let comment = null;\n        if (isNode(item)) {\n            if (!chompKeep && item.spaceBefore)\n                lines.push('');\n            addCommentBefore(ctx, lines, item.commentBefore, chompKeep);\n            if (item.comment)\n                comment = item.comment;\n        }\n        else if (isPair(item)) {\n            const ik = isNode(item.key) ? item.key : null;\n            if (ik) {\n                if (!chompKeep && ik.spaceBefore)\n                    lines.push('');\n                addCommentBefore(ctx, lines, ik.commentBefore, chompKeep);\n            }\n        }\n        chompKeep = false;\n        let str = stringify(item, itemCtx, () => (comment = null), () => (chompKeep = true));\n        if (comment)\n            str += lineComment(str, itemIndent, commentString(comment));\n        if (chompKeep && comment)\n            chompKeep = false;\n        lines.push(blockItemPrefix + str);\n    }\n    let str;\n    if (lines.length === 0) {\n        str = flowChars.start + flowChars.end;\n    }\n    else {\n        str = lines[0];\n        for (let i = 1; i < lines.length; ++i) {\n            const line = lines[i];\n            str += line ? `\\n${indent}${line}` : '\\n';\n        }\n    }\n    if (comment) {\n        str += '\\n' + indentComment(commentString(comment), indent);\n        if (onComment)\n            onComment();\n    }\n    else if (chompKeep && onChompKeep)\n        onChompKeep();\n    return str;\n}\nfunction stringifyFlowCollection({ items }, ctx, { flowChars, itemIndent }) {\n    const { indent, indentStep, flowCollectionPadding: fcPadding, options: { commentString } } = ctx;\n    itemIndent += indentStep;\n    const itemCtx = Object.assign({}, ctx, {\n        indent: itemIndent,\n        inFlow: true,\n        type: null\n    });\n    let reqNewline = false;\n    let linesAtValue = 0;\n    const lines = [];\n    for (let i = 0; i < items.length; ++i) {\n        const item = items[i];\n        let comment = null;\n        if (isNode(item)) {\n            if (item.spaceBefore)\n                lines.push('');\n            addCommentBefore(ctx, lines, item.commentBefore, false);\n            if (item.comment)\n                comment = item.comment;\n        }\n        else if (isPair(item)) {\n            const ik = isNode(item.key) ? item.key : null;\n            if (ik) {\n                if (ik.spaceBefore)\n                    lines.push('');\n                addCommentBefore(ctx, lines, ik.commentBefore, false);\n                if (ik.comment)\n                    reqNewline = true;\n            }\n            const iv = isNode(item.value) ? item.value : null;\n            if (iv) {\n                if (iv.comment)\n                    comment = iv.comment;\n                if (iv.commentBefore)\n                    reqNewline = true;\n            }\n            else if (item.value == null && ik?.comment) {\n                comment = ik.comment;\n            }\n        }\n        if (comment)\n            reqNewline = true;\n        let str = stringify(item, itemCtx, () => (comment = null));\n        if (i < items.length - 1)\n            str += ',';\n        if (comment)\n            str += lineComment(str, itemIndent, commentString(comment));\n        if (!reqNewline && (lines.length > linesAtValue || str.includes('\\n')))\n            reqNewline = true;\n        lines.push(str);\n        linesAtValue = lines.length;\n    }\n    const { start, end } = flowChars;\n    if (lines.length === 0) {\n        return start + end;\n    }\n    else {\n        if (!reqNewline) {\n            const len = lines.reduce((sum, line) => sum + line.length + 2, 2);\n            reqNewline = ctx.options.lineWidth > 0 && len > ctx.options.lineWidth;\n        }\n        if (reqNewline) {\n            let str = start;\n            for (const line of lines)\n                str += line ? `\\n${indentStep}${indent}${line}` : '\\n';\n            return `${str}\\n${indent}${end}`;\n        }\n        else {\n            return `${start}${fcPadding}${lines.join(' ')}${fcPadding}${end}`;\n        }\n    }\n}\nfunction addCommentBefore({ indent, options: { commentString } }, lines, comment, chompKeep) {\n    if (comment && chompKeep)\n        comment = comment.replace(/^\\n+/, '');\n    if (comment) {\n        const ic = indentComment(commentString(comment), indent);\n        lines.push(ic.trimStart()); // Avoid double indent on first line\n    }\n}\n\nexport { stringifyCollection };\n","import { stringifyCollection } from '../stringify/stringifyCollection.js';\nimport { addPairToJSMap } from './addPairToJSMap.js';\nimport { Collection } from './Collection.js';\nimport { MAP, isPair, isScalar } from './identity.js';\nimport { Pair, createPair } from './Pair.js';\nimport { isScalarValue } from './Scalar.js';\n\nfunction findPair(items, key) {\n    const k = isScalar(key) ? key.value : key;\n    for (const it of items) {\n        if (isPair(it)) {\n            if (it.key === key || it.key === k)\n                return it;\n            if (isScalar(it.key) && it.key.value === k)\n                return it;\n        }\n    }\n    return undefined;\n}\nclass YAMLMap extends Collection {\n    static get tagName() {\n        return 'tag:yaml.org,2002:map';\n    }\n    constructor(schema) {\n        super(MAP, schema);\n        this.items = [];\n    }\n    /**\n     * A generic collection parsing method that can be extended\n     * to other node classes that inherit from YAMLMap\n     */\n    static from(schema, obj, ctx) {\n        const { keepUndefined, replacer } = ctx;\n        const map = new this(schema);\n        const add = (key, value) => {\n            if (typeof replacer === 'function')\n                value = replacer.call(obj, key, value);\n            else if (Array.isArray(replacer) && !replacer.includes(key))\n                return;\n            if (value !== undefined || keepUndefined)\n                map.items.push(createPair(key, value, ctx));\n        };\n        if (obj instanceof Map) {\n            for (const [key, value] of obj)\n                add(key, value);\n        }\n        else if (obj && typeof obj === 'object') {\n            for (const key of Object.keys(obj))\n                add(key, obj[key]);\n        }\n        if (typeof schema.sortMapEntries === 'function') {\n            map.items.sort(schema.sortMapEntries);\n        }\n        return map;\n    }\n    /**\n     * Adds a value to the collection.\n     *\n     * @param overwrite - If not set `true`, using a key that is already in the\n     *   collection will throw. Otherwise, overwrites the previous value.\n     */\n    add(pair, overwrite) {\n        let _pair;\n        if (isPair(pair))\n            _pair = pair;\n        else if (!pair || typeof pair !== 'object' || !('key' in pair)) {\n            // In TypeScript, this never happens.\n            _pair = new Pair(pair, pair?.value);\n        }\n        else\n            _pair = new Pair(pair.key, pair.value);\n        const prev = findPair(this.items, _pair.key);\n        const sortEntries = this.schema?.sortMapEntries;\n        if (prev) {\n            if (!overwrite)\n                throw new Error(`Key ${_pair.key} already set`);\n            // For scalars, keep the old node & its comments and anchors\n            if (isScalar(prev.value) && isScalarValue(_pair.value))\n                prev.value.value = _pair.value;\n            else\n                prev.value = _pair.value;\n        }\n        else if (sortEntries) {\n            const i = this.items.findIndex(item => sortEntries(_pair, item) < 0);\n            if (i === -1)\n                this.items.push(_pair);\n            else\n                this.items.splice(i, 0, _pair);\n        }\n        else {\n            this.items.push(_pair);\n        }\n    }\n    delete(key) {\n        const it = findPair(this.items, key);\n        if (!it)\n            return false;\n        const del = this.items.splice(this.items.indexOf(it), 1);\n        return del.length > 0;\n    }\n    get(key, keepScalar) {\n        const it = findPair(this.items, key);\n        const node = it?.value;\n        return (!keepScalar && isScalar(node) ? node.value : node) ?? undefined;\n    }\n    has(key) {\n        return !!findPair(this.items, key);\n    }\n    set(key, value) {\n        this.add(new Pair(key, value), true);\n    }\n    /**\n     * @param ctx - Conversion context, originally set in Document#toJS()\n     * @param {Class} Type - If set, forces the returned collection type\n     * @returns Instance of Type, Map, or Object\n     */\n    toJSON(_, ctx, Type) {\n        const map = Type ? new Type() : ctx?.mapAsMap ? new Map() : {};\n        if (ctx?.onCreate)\n            ctx.onCreate(map);\n        for (const item of this.items)\n            addPairToJSMap(ctx, map, item);\n        return map;\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        for (const item of this.items) {\n            if (!isPair(item))\n                throw new Error(`Map items must all be pairs; found ${JSON.stringify(item)} instead`);\n        }\n        if (!ctx.allNullValues && this.hasAllNullValues(false))\n            ctx = Object.assign({}, ctx, { allNullValues: true });\n        return stringifyCollection(this, ctx, {\n            blockItemPrefix: '',\n            flowChars: { start: '{', end: '}' },\n            itemIndent: ctx.indent || '',\n            onChompKeep,\n            onComment\n        });\n    }\n}\n\nexport { YAMLMap, findPair };\n","import { isMap } from '../../nodes/identity.js';\nimport { YAMLMap } from '../../nodes/YAMLMap.js';\n\nconst map = {\n    collection: 'map',\n    default: true,\n    nodeClass: YAMLMap,\n    tag: 'tag:yaml.org,2002:map',\n    resolve(map, onError) {\n        if (!isMap(map))\n            onError('Expected a mapping for this tag');\n        return map;\n    },\n    createNode: (schema, obj, ctx) => YAMLMap.from(schema, obj, ctx)\n};\n\nexport { map };\n","import { createNode } from '../doc/createNode.js';\nimport { stringifyCollection } from '../stringify/stringifyCollection.js';\nimport { Collection } from './Collection.js';\nimport { SEQ, isScalar } from './identity.js';\nimport { isScalarValue } from './Scalar.js';\nimport { toJS } from './toJS.js';\n\nclass YAMLSeq extends Collection {\n    static get tagName() {\n        return 'tag:yaml.org,2002:seq';\n    }\n    constructor(schema) {\n        super(SEQ, schema);\n        this.items = [];\n    }\n    add(value) {\n        this.items.push(value);\n    }\n    /**\n     * Removes a value from the collection.\n     *\n     * `key` must contain a representation of an integer for this to succeed.\n     * It may be wrapped in a `Scalar`.\n     *\n     * @returns `true` if the item was found and removed.\n     */\n    delete(key) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            return false;\n        const del = this.items.splice(idx, 1);\n        return del.length > 0;\n    }\n    get(key, keepScalar) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            return undefined;\n        const it = this.items[idx];\n        return !keepScalar && isScalar(it) ? it.value : it;\n    }\n    /**\n     * Checks if the collection includes a value with the key `key`.\n     *\n     * `key` must contain a representation of an integer for this to succeed.\n     * It may be wrapped in a `Scalar`.\n     */\n    has(key) {\n        const idx = asItemIndex(key);\n        return typeof idx === 'number' && idx < this.items.length;\n    }\n    /**\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     *\n     * If `key` does not contain a representation of an integer, this will throw.\n     * It may be wrapped in a `Scalar`.\n     */\n    set(key, value) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            throw new Error(`Expected a valid index, not ${key}.`);\n        const prev = this.items[idx];\n        if (isScalar(prev) && isScalarValue(value))\n            prev.value = value;\n        else\n            this.items[idx] = value;\n    }\n    toJSON(_, ctx) {\n        const seq = [];\n        if (ctx?.onCreate)\n            ctx.onCreate(seq);\n        let i = 0;\n        for (const item of this.items)\n            seq.push(toJS(item, String(i++), ctx));\n        return seq;\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        return stringifyCollection(this, ctx, {\n            blockItemPrefix: '- ',\n            flowChars: { start: '[', end: ']' },\n            itemIndent: (ctx.indent || '') + '  ',\n            onChompKeep,\n            onComment\n        });\n    }\n    static from(schema, obj, ctx) {\n        const { replacer } = ctx;\n        const seq = new this(schema);\n        if (obj && Symbol.iterator in Object(obj)) {\n            let i = 0;\n            for (let it of obj) {\n                if (typeof replacer === 'function') {\n                    const key = obj instanceof Set ? it : String(i++);\n                    it = replacer.call(obj, key, it);\n                }\n                seq.items.push(createNode(it, undefined, ctx));\n            }\n        }\n        return seq;\n    }\n}\nfunction asItemIndex(key) {\n    let idx = isScalar(key) ? key.value : key;\n    if (idx && typeof idx === 'string')\n        idx = Number(idx);\n    return typeof idx === 'number' && Number.isInteger(idx) && idx >= 0\n        ? idx\n        : null;\n}\n\nexport { YAMLSeq };\n","import { isSeq } from '../../nodes/identity.js';\nimport { YAMLSeq } from '../../nodes/YAMLSeq.js';\n\nconst seq = {\n    collection: 'seq',\n    default: true,\n    nodeClass: YAMLSeq,\n    tag: 'tag:yaml.org,2002:seq',\n    resolve(seq, onError) {\n        if (!isSeq(seq))\n            onError('Expected a sequence for this tag');\n        return seq;\n    },\n    createNode: (schema, obj, ctx) => YAMLSeq.from(schema, obj, ctx)\n};\n\nexport { seq };\n","import { stringifyString } from '../../stringify/stringifyString.js';\n\nconst string = {\n    identify: value => typeof value === 'string',\n    default: true,\n    tag: 'tag:yaml.org,2002:str',\n    resolve: str => str,\n    stringify(item, ctx, onComment, onChompKeep) {\n        ctx = Object.assign({ actualString: true }, ctx);\n        return stringifyString(item, ctx, onComment, onChompKeep);\n    }\n};\n\nexport { string };\n","import { Scalar } from '../../nodes/Scalar.js';\n\nconst nullTag = {\n    identify: value => value == null,\n    createNode: () => new Scalar(null),\n    default: true,\n    tag: 'tag:yaml.org,2002:null',\n    test: /^(?:~|[Nn]ull|NULL)?$/,\n    resolve: () => new Scalar(null),\n    stringify: ({ source }, ctx) => typeof source === 'string' && nullTag.test.test(source)\n        ? source\n        : ctx.options.nullStr\n};\n\nexport { nullTag };\n","import { Scalar } from '../../nodes/Scalar.js';\n\nconst boolTag = {\n    identify: value => typeof value === 'boolean',\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,\n    resolve: str => new Scalar(str[0] === 't' || str[0] === 'T'),\n    stringify({ source, value }, ctx) {\n        if (source && boolTag.test.test(source)) {\n            const sv = source[0] === 't' || source[0] === 'T';\n            if (value === sv)\n                return source;\n        }\n        return value ? ctx.options.trueStr : ctx.options.falseStr;\n    }\n};\n\nexport { boolTag };\n","function stringifyNumber({ format, minFractionDigits, tag, value }) {\n    if (typeof value === 'bigint')\n        return String(value);\n    const num = typeof value === 'number' ? value : Number(value);\n    if (!isFinite(num))\n        return isNaN(num) ? '.nan' : num < 0 ? '-.inf' : '.inf';\n    let n = Object.is(value, -0) ? '-0' : JSON.stringify(value);\n    if (!format &&\n        minFractionDigits &&\n        (!tag || tag === 'tag:yaml.org,2002:float') &&\n        /^\\d/.test(n)) {\n        let i = n.indexOf('.');\n        if (i < 0) {\n            i = n.length;\n            n += '.';\n        }\n        let d = minFractionDigits - (n.length - i - 1);\n        while (d-- > 0)\n            n += '0';\n    }\n    return n;\n}\n\nexport { stringifyNumber };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst floatNaN = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^(?:[-+]?\\.(?:inf|Inf|INF)|\\.nan|\\.NaN|\\.NAN)$/,\n    resolve: str => str.slice(-3).toLowerCase() === 'nan'\n        ? NaN\n        : str[0] === '-'\n            ? Number.NEGATIVE_INFINITY\n            : Number.POSITIVE_INFINITY,\n    stringify: stringifyNumber\n};\nconst floatExp = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'EXP',\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+(?:\\.[0-9]*)?)[eE][-+]?[0-9]+$/,\n    resolve: str => parseFloat(str),\n    stringify(node) {\n        const num = Number(node.value);\n        return isFinite(num) ? num.toExponential() : stringifyNumber(node);\n    }\n};\nconst float = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+\\.[0-9]*)$/,\n    resolve(str) {\n        const node = new Scalar(parseFloat(str));\n        const dot = str.indexOf('.');\n        if (dot !== -1 && str[str.length - 1] === '0')\n            node.minFractionDigits = str.length - dot - 1;\n        return node;\n    },\n    stringify: stringifyNumber\n};\n\nexport { float, floatExp, floatNaN };\n","import { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst intIdentify = (value) => typeof value === 'bigint' || Number.isInteger(value);\nconst intResolve = (str, offset, radix, { intAsBigInt }) => (intAsBigInt ? BigInt(str) : parseInt(str.substring(offset), radix));\nfunction intStringify(node, radix, prefix) {\n    const { value } = node;\n    if (intIdentify(value) && value >= 0)\n        return prefix + value.toString(radix);\n    return stringifyNumber(node);\n}\nconst intOct = {\n    identify: value => intIdentify(value) && value >= 0,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'OCT',\n    test: /^0o[0-7]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 8, opt),\n    stringify: node => intStringify(node, 8, '0o')\n};\nconst int = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    test: /^[-+]?[0-9]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),\n    stringify: stringifyNumber\n};\nconst intHex = {\n    identify: value => intIdentify(value) && value >= 0,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'HEX',\n    test: /^0x[0-9a-fA-F]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),\n    stringify: node => intStringify(node, 16, '0x')\n};\n\nexport { int, intHex, intOct };\n","import { map } from '../common/map.js';\nimport { nullTag } from '../common/null.js';\nimport { seq } from '../common/seq.js';\nimport { string } from '../common/string.js';\nimport { boolTag } from './bool.js';\nimport { floatNaN, floatExp, float } from './float.js';\nimport { intOct, int, intHex } from './int.js';\n\nconst schema = [\n    map,\n    seq,\n    string,\n    nullTag,\n    boolTag,\n    intOct,\n    int,\n    intHex,\n    floatNaN,\n    floatExp,\n    float\n];\n\nexport { schema };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { map } from '../common/map.js';\nimport { seq } from '../common/seq.js';\n\nfunction intIdentify(value) {\n    return typeof value === 'bigint' || Number.isInteger(value);\n}\nconst stringifyJSON = ({ value }) => JSON.stringify(value);\nconst jsonScalars = [\n    {\n        identify: value => typeof value === 'string',\n        default: true,\n        tag: 'tag:yaml.org,2002:str',\n        resolve: str => str,\n        stringify: stringifyJSON\n    },\n    {\n        identify: value => value == null,\n        createNode: () => new Scalar(null),\n        default: true,\n        tag: 'tag:yaml.org,2002:null',\n        test: /^null$/,\n        resolve: () => null,\n        stringify: stringifyJSON\n    },\n    {\n        identify: value => typeof value === 'boolean',\n        default: true,\n        tag: 'tag:yaml.org,2002:bool',\n        test: /^true$|^false$/,\n        resolve: str => str === 'true',\n        stringify: stringifyJSON\n    },\n    {\n        identify: intIdentify,\n        default: true,\n        tag: 'tag:yaml.org,2002:int',\n        test: /^-?(?:0|[1-9][0-9]*)$/,\n        resolve: (str, _onError, { intAsBigInt }) => intAsBigInt ? BigInt(str) : parseInt(str, 10),\n        stringify: ({ value }) => intIdentify(value) ? value.toString() : JSON.stringify(value)\n    },\n    {\n        identify: value => typeof value === 'number',\n        default: true,\n        tag: 'tag:yaml.org,2002:float',\n        test: /^-?(?:0|[1-9][0-9]*)(?:\\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,\n        resolve: str => parseFloat(str),\n        stringify: stringifyJSON\n    }\n];\nconst jsonError = {\n    default: true,\n    tag: '',\n    test: /^/,\n    resolve(str, onError) {\n        onError(`Unresolved plain scalar ${JSON.stringify(str)}`);\n        return str;\n    }\n};\nconst schema = [map, seq].concat(jsonScalars, jsonError);\n\nexport { schema };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { stringifyString } from '../../stringify/stringifyString.js';\n\nconst binary = {\n    identify: value => value instanceof Uint8Array, // Buffer inherits from Uint8Array\n    default: false,\n    tag: 'tag:yaml.org,2002:binary',\n    /**\n     * Returns a Buffer in node and an Uint8Array in browsers\n     *\n     * To use the resulting buffer as an image, you'll want to do something like:\n     *\n     *   const blob = new Blob([buffer], { type: 'image/jpeg' })\n     *   document.querySelector('#photo').src = URL.createObjectURL(blob)\n     */\n    resolve(src, onError) {\n        if (typeof atob === 'function') {\n            // On IE 11, atob() can't handle newlines\n            const str = atob(src.replace(/[\\n\\r]/g, ''));\n            const buffer = new Uint8Array(str.length);\n            for (let i = 0; i < str.length; ++i)\n                buffer[i] = str.charCodeAt(i);\n            return buffer;\n        }\n        else {\n            onError('This environment does not support reading binary tags; either Buffer or atob is required');\n            return src;\n        }\n    },\n    stringify({ comment, type, value }, ctx, onComment, onChompKeep) {\n        if (!value)\n            return '';\n        const buf = value; // checked earlier by binary.identify()\n        let str;\n        if (typeof btoa === 'function') {\n            let s = '';\n            for (let i = 0; i < buf.length; ++i)\n                s += String.fromCharCode(buf[i]);\n            str = btoa(s);\n        }\n        else {\n            throw new Error('This environment does not support writing binary tags; either Buffer or btoa is required');\n        }\n        type ?? (type = Scalar.BLOCK_LITERAL);\n        if (type !== Scalar.QUOTE_DOUBLE) {\n            const lineWidth = Math.max(ctx.options.lineWidth - ctx.indent.length, ctx.options.minContentWidth);\n            const n = Math.ceil(str.length / lineWidth);\n            const lines = new Array(n);\n            for (let i = 0, o = 0; i < n; ++i, o += lineWidth) {\n                lines[i] = str.substr(o, lineWidth);\n            }\n            str = lines.join(type === Scalar.BLOCK_LITERAL ? '\\n' : ' ');\n        }\n        return stringifyString({ comment, type, value: str }, ctx, onComment, onChompKeep);\n    }\n};\n\nexport { binary };\n","import { isSeq, isPair, isMap } from '../../nodes/identity.js';\nimport { createPair, Pair } from '../../nodes/Pair.js';\nimport { Scalar } from '../../nodes/Scalar.js';\nimport { YAMLSeq } from '../../nodes/YAMLSeq.js';\n\nfunction resolvePairs(seq, onError) {\n    if (isSeq(seq)) {\n        for (let i = 0; i < seq.items.length; ++i) {\n            let item = seq.items[i];\n            if (isPair(item))\n                continue;\n            else if (isMap(item)) {\n                if (item.items.length > 1)\n                    onError('Each pair must have its own sequence indicator');\n                const pair = item.items[0] || new Pair(new Scalar(null));\n                if (item.commentBefore)\n                    pair.key.commentBefore = pair.key.commentBefore\n                        ? `${item.commentBefore}\\n${pair.key.commentBefore}`\n                        : item.commentBefore;\n                if (item.comment) {\n                    const cn = pair.value ?? pair.key;\n                    cn.comment = cn.comment\n                        ? `${item.comment}\\n${cn.comment}`\n                        : item.comment;\n                }\n                item = pair;\n            }\n            seq.items[i] = isPair(item) ? item : new Pair(item);\n        }\n    }\n    else\n        onError('Expected a sequence for this tag');\n    return seq;\n}\nfunction createPairs(schema, iterable, ctx) {\n    const { replacer } = ctx;\n    const pairs = new YAMLSeq(schema);\n    pairs.tag = 'tag:yaml.org,2002:pairs';\n    let i = 0;\n    if (iterable && Symbol.iterator in Object(iterable))\n        for (let it of iterable) {\n            if (typeof replacer === 'function')\n                it = replacer.call(iterable, String(i++), it);\n            let key, value;\n            if (Array.isArray(it)) {\n                if (it.length === 2) {\n                    key = it[0];\n                    value = it[1];\n                }\n                else\n                    throw new TypeError(`Expected [key, value] tuple: ${it}`);\n            }\n            else if (it && it instanceof Object) {\n                const keys = Object.keys(it);\n                if (keys.length === 1) {\n                    key = keys[0];\n                    value = it[key];\n                }\n                else {\n                    throw new TypeError(`Expected tuple with one key, not ${keys.length} keys`);\n                }\n            }\n            else {\n                key = it;\n            }\n            pairs.items.push(createPair(key, value, ctx));\n        }\n    return pairs;\n}\nconst pairs = {\n    collection: 'seq',\n    default: false,\n    tag: 'tag:yaml.org,2002:pairs',\n    resolve: resolvePairs,\n    createNode: createPairs\n};\n\nexport { createPairs, pairs, resolvePairs };\n","import { isScalar, isPair } from '../../nodes/identity.js';\nimport { toJS } from '../../nodes/toJS.js';\nimport { YAMLMap } from '../../nodes/YAMLMap.js';\nimport { YAMLSeq } from '../../nodes/YAMLSeq.js';\nimport { resolvePairs, createPairs } from './pairs.js';\n\nclass YAMLOMap extends YAMLSeq {\n    constructor() {\n        super();\n        this.add = YAMLMap.prototype.add.bind(this);\n        this.delete = YAMLMap.prototype.delete.bind(this);\n        this.get = YAMLMap.prototype.get.bind(this);\n        this.has = YAMLMap.prototype.has.bind(this);\n        this.set = YAMLMap.prototype.set.bind(this);\n        this.tag = YAMLOMap.tag;\n    }\n    /**\n     * If `ctx` is given, the return type is actually `Map<unknown, unknown>`,\n     * but TypeScript won't allow widening the signature of a child method.\n     */\n    toJSON(_, ctx) {\n        if (!ctx)\n            return super.toJSON(_);\n        const map = new Map();\n        if (ctx?.onCreate)\n            ctx.onCreate(map);\n        for (const pair of this.items) {\n            let key, value;\n            if (isPair(pair)) {\n                key = toJS(pair.key, '', ctx);\n                value = toJS(pair.value, key, ctx);\n            }\n            else {\n                key = toJS(pair, '', ctx);\n            }\n            if (map.has(key))\n                throw new Error('Ordered maps must not include duplicate keys');\n            map.set(key, value);\n        }\n        return map;\n    }\n    static from(schema, iterable, ctx) {\n        const pairs = createPairs(schema, iterable, ctx);\n        const omap = new this();\n        omap.items = pairs.items;\n        return omap;\n    }\n}\nYAMLOMap.tag = 'tag:yaml.org,2002:omap';\nconst omap = {\n    collection: 'seq',\n    identify: value => value instanceof Map,\n    nodeClass: YAMLOMap,\n    default: false,\n    tag: 'tag:yaml.org,2002:omap',\n    resolve(seq, onError) {\n        const pairs = resolvePairs(seq, onError);\n        const seenKeys = [];\n        for (const { key } of pairs.items) {\n            if (isScalar(key)) {\n                if (seenKeys.includes(key.value)) {\n                    onError(`Ordered maps must not include duplicate keys: ${key.value}`);\n                }\n                else {\n                    seenKeys.push(key.value);\n                }\n            }\n        }\n        return Object.assign(new YAMLOMap(), pairs);\n    },\n    createNode: (schema, iterable, ctx) => YAMLOMap.from(schema, iterable, ctx)\n};\n\nexport { YAMLOMap, omap };\n","import { Scalar } from '../../nodes/Scalar.js';\n\nfunction boolStringify({ value, source }, ctx) {\n    const boolObj = value ? trueTag : falseTag;\n    if (source && boolObj.test.test(source))\n        return source;\n    return value ? ctx.options.trueStr : ctx.options.falseStr;\n}\nconst trueTag = {\n    identify: value => value === true,\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,\n    resolve: () => new Scalar(true),\n    stringify: boolStringify\n};\nconst falseTag = {\n    identify: value => value === false,\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,\n    resolve: () => new Scalar(false),\n    stringify: boolStringify\n};\n\nexport { falseTag, trueTag };\n","import { Scalar } from '../../nodes/Scalar.js';\nimport { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst floatNaN = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^(?:[-+]?\\.(?:inf|Inf|INF)|\\.nan|\\.NaN|\\.NAN)$/,\n    resolve: (str) => str.slice(-3).toLowerCase() === 'nan'\n        ? NaN\n        : str[0] === '-'\n            ? Number.NEGATIVE_INFINITY\n            : Number.POSITIVE_INFINITY,\n    stringify: stringifyNumber\n};\nconst floatExp = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'EXP',\n    test: /^[-+]?(?:[0-9][0-9_]*)?(?:\\.[0-9_]*)?[eE][-+]?[0-9]+$/,\n    resolve: (str) => parseFloat(str.replace(/_/g, '')),\n    stringify(node) {\n        const num = Number(node.value);\n        return isFinite(num) ? num.toExponential() : stringifyNumber(node);\n    }\n};\nconst float = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^[-+]?(?:[0-9][0-9_]*)?\\.[0-9_]*$/,\n    resolve(str) {\n        const node = new Scalar(parseFloat(str.replace(/_/g, '')));\n        const dot = str.indexOf('.');\n        if (dot !== -1) {\n            const f = str.substring(dot + 1).replace(/_/g, '');\n            if (f[f.length - 1] === '0')\n                node.minFractionDigits = f.length;\n        }\n        return node;\n    },\n    stringify: stringifyNumber\n};\n\nexport { float, floatExp, floatNaN };\n","import { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\nconst intIdentify = (value) => typeof value === 'bigint' || Number.isInteger(value);\nfunction intResolve(str, offset, radix, { intAsBigInt }) {\n    const sign = str[0];\n    if (sign === '-' || sign === '+')\n        offset += 1;\n    str = str.substring(offset).replace(/_/g, '');\n    if (intAsBigInt) {\n        switch (radix) {\n            case 2:\n                str = `0b${str}`;\n                break;\n            case 8:\n                str = `0o${str}`;\n                break;\n            case 16:\n                str = `0x${str}`;\n                break;\n        }\n        const n = BigInt(str);\n        return sign === '-' ? BigInt(-1) * n : n;\n    }\n    const n = parseInt(str, radix);\n    return sign === '-' ? -1 * n : n;\n}\nfunction intStringify(node, radix, prefix) {\n    const { value } = node;\n    if (intIdentify(value)) {\n        const str = value.toString(radix);\n        return value < 0 ? '-' + prefix + str.substr(1) : prefix + str;\n    }\n    return stringifyNumber(node);\n}\nconst intBin = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'BIN',\n    test: /^[-+]?0b[0-1_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 2, opt),\n    stringify: node => intStringify(node, 2, '0b')\n};\nconst intOct = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'OCT',\n    test: /^[-+]?0[0-7_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 1, 8, opt),\n    stringify: node => intStringify(node, 8, '0')\n};\nconst int = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    test: /^[-+]?[0-9][0-9_]*$/,\n    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),\n    stringify: stringifyNumber\n};\nconst intHex = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'HEX',\n    test: /^[-+]?0x[0-9a-fA-F_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),\n    stringify: node => intStringify(node, 16, '0x')\n};\n\nexport { int, intBin, intHex, intOct };\n","import { isMap, isPair, isScalar } from '../../nodes/identity.js';\nimport { Pair, createPair } from '../../nodes/Pair.js';\nimport { YAMLMap, findPair } from '../../nodes/YAMLMap.js';\n\nclass YAMLSet extends YAMLMap {\n    constructor(schema) {\n        super(schema);\n        this.tag = YAMLSet.tag;\n    }\n    add(key) {\n        let pair;\n        if (isPair(key))\n            pair = key;\n        else if (key &&\n            typeof key === 'object' &&\n            'key' in key &&\n            'value' in key &&\n            key.value === null)\n            pair = new Pair(key.key, null);\n        else\n            pair = new Pair(key, null);\n        const prev = findPair(this.items, pair.key);\n        if (!prev)\n            this.items.push(pair);\n    }\n    /**\n     * If `keepPair` is `true`, returns the Pair matching `key`.\n     * Otherwise, returns the value of that Pair's key.\n     */\n    get(key, keepPair) {\n        const pair = findPair(this.items, key);\n        return !keepPair && isPair(pair)\n            ? isScalar(pair.key)\n                ? pair.key.value\n                : pair.key\n            : pair;\n    }\n    set(key, value) {\n        if (typeof value !== 'boolean')\n            throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof value}`);\n        const prev = findPair(this.items, key);\n        if (prev && !value) {\n            this.items.splice(this.items.indexOf(prev), 1);\n        }\n        else if (!prev && value) {\n            this.items.push(new Pair(key));\n        }\n    }\n    toJSON(_, ctx) {\n        return super.toJSON(_, ctx, Set);\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        if (this.hasAllNullValues(true))\n            return super.toString(Object.assign({}, ctx, { allNullValues: true }), onComment, onChompKeep);\n        else\n            throw new Error('Set items must all have null values');\n    }\n    static from(schema, iterable, ctx) {\n        const { replacer } = ctx;\n        const set = new this(schema);\n        if (iterable && Symbol.iterator in Object(iterable))\n            for (let value of iterable) {\n                if (typeof replacer === 'function')\n                    value = replacer.call(iterable, value, value);\n                set.items.push(createPair(value, null, ctx));\n            }\n        return set;\n    }\n}\nYAMLSet.tag = 'tag:yaml.org,2002:set';\nconst set = {\n    collection: 'map',\n    identify: value => value instanceof Set,\n    nodeClass: YAMLSet,\n    default: false,\n    tag: 'tag:yaml.org,2002:set',\n    createNode: (schema, iterable, ctx) => YAMLSet.from(schema, iterable, ctx),\n    resolve(map, onError) {\n        if (isMap(map)) {\n            if (map.hasAllNullValues(true))\n                return Object.assign(new YAMLSet(), map);\n            else\n                onError('Set items must all have null values');\n        }\n        else\n            onError('Expected a mapping for this tag');\n        return map;\n    }\n};\n\nexport { YAMLSet, set };\n","import { stringifyNumber } from '../../stringify/stringifyNumber.js';\n\n/** Internal types handle bigint as number, because TS can't figure it out. */\nfunction parseSexagesimal(str, asBigInt) {\n    const sign = str[0];\n    const parts = sign === '-' || sign === '+' ? str.substring(1) : str;\n    const num = (n) => asBigInt ? BigInt(n) : Number(n);\n    const res = parts\n        .replace(/_/g, '')\n        .split(':')\n        .reduce((res, p) => res * num(60) + num(p), num(0));\n    return (sign === '-' ? num(-1) * res : res);\n}\n/**\n * hhhh:mm:ss.sss\n *\n * Internal types handle bigint as number, because TS can't figure it out.\n */\nfunction stringifySexagesimal(node) {\n    let { value } = node;\n    let num = (n) => n;\n    if (typeof value === 'bigint')\n        num = n => BigInt(n);\n    else if (isNaN(value) || !isFinite(value))\n        return stringifyNumber(node);\n    let sign = '';\n    if (value < 0) {\n        sign = '-';\n        value *= num(-1);\n    }\n    const _60 = num(60);\n    const parts = [value % _60]; // seconds, including ms\n    if (value < 60) {\n        parts.unshift(0); // at least one : is required\n    }\n    else {\n        value = (value - parts[0]) / _60;\n        parts.unshift(value % _60); // minutes\n        if (value >= 60) {\n            value = (value - parts[0]) / _60;\n            parts.unshift(value); // hours\n        }\n    }\n    return (sign +\n        parts\n            .map(n => String(n).padStart(2, '0'))\n            .join(':')\n            .replace(/000000\\d*$/, '') // % 60 may introduce error\n    );\n}\nconst intTime = {\n    identify: value => typeof value === 'bigint' || Number.isInteger(value),\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'TIME',\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,\n    resolve: (str, _onError, { intAsBigInt }) => parseSexagesimal(str, intAsBigInt),\n    stringify: stringifySexagesimal\n};\nconst floatTime = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'TIME',\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*$/,\n    resolve: str => parseSexagesimal(str, false),\n    stringify: stringifySexagesimal\n};\nconst timestamp = {\n    identify: value => value instanceof Date,\n    default: true,\n    tag: 'tag:yaml.org,2002:timestamp',\n    // If the time zone is omitted, the timestamp is assumed to be specified in UTC. The time part\n    // may be omitted altogether, resulting in a date format. In such a case, the time part is\n    // assumed to be 00:00:00Z (start of day, UTC).\n    test: RegExp('^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})' + // YYYY-Mm-Dd\n        '(?:' + // time is optional\n        '(?:t|T|[ \\\\t]+)' + // t | T | whitespace\n        '([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\\\.[0-9]+)?)' + // Hh:Mm:Ss(.ss)?\n        '(?:[ \\\\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?' + // Z | +5 | -03:30\n        ')?$'),\n    resolve(str) {\n        const match = str.match(timestamp.test);\n        if (!match)\n            throw new Error('!!timestamp expects a date, starting with yyyy-mm-dd');\n        const [, year, month, day, hour, minute, second] = match.map(Number);\n        const millisec = match[7] ? Number((match[7] + '00').substr(1, 3)) : 0;\n        let date = Date.UTC(year, month - 1, day, hour || 0, minute || 0, second || 0, millisec);\n        const tz = match[8];\n        if (tz && tz !== 'Z') {\n            let d = parseSexagesimal(tz, false);\n            if (Math.abs(d) < 30)\n                d *= 60;\n            date -= 60000 * d;\n        }\n        return new Date(date);\n    },\n    stringify: ({ value }) => value?.toISOString().replace(/(T00:00:00)?\\.000Z$/, '') ?? ''\n};\n\nexport { floatTime, intTime, timestamp };\n","import { map } from '../common/map.js';\nimport { nullTag } from '../common/null.js';\nimport { seq } from '../common/seq.js';\nimport { string } from '../common/string.js';\nimport { binary } from './binary.js';\nimport { trueTag, falseTag } from './bool.js';\nimport { floatNaN, floatExp, float } from './float.js';\nimport { intBin, intOct, int, intHex } from './int.js';\nimport { merge } from './merge.js';\nimport { omap } from './omap.js';\nimport { pairs } from './pairs.js';\nimport { set } from './set.js';\nimport { intTime, floatTime, timestamp } from './timestamp.js';\n\nconst schema = [\n    map,\n    seq,\n    string,\n    nullTag,\n    trueTag,\n    falseTag,\n    intBin,\n    intOct,\n    int,\n    intHex,\n    floatNaN,\n    floatExp,\n    float,\n    binary,\n    merge,\n    omap,\n    pairs,\n    set,\n    intTime,\n    floatTime,\n    timestamp\n];\n\nexport { schema };\n","import { map } from './common/map.js';\nimport { nullTag } from './common/null.js';\nimport { seq } from './common/seq.js';\nimport { string } from './common/string.js';\nimport { boolTag } from './core/bool.js';\nimport { floatNaN, floatExp, float } from './core/float.js';\nimport { intOct, intHex, int } from './core/int.js';\nimport { schema } from './core/schema.js';\nimport { schema as schema$1 } from './json/schema.js';\nimport { binary } from './yaml-1.1/binary.js';\nimport { merge } from './yaml-1.1/merge.js';\nimport { omap } from './yaml-1.1/omap.js';\nimport { pairs } from './yaml-1.1/pairs.js';\nimport { schema as schema$2 } from './yaml-1.1/schema.js';\nimport { set } from './yaml-1.1/set.js';\nimport { timestamp, intTime, floatTime } from './yaml-1.1/timestamp.js';\n\nconst schemas = new Map([\n    ['core', schema],\n    ['failsafe', [map, seq, string]],\n    ['json', schema$1],\n    ['yaml11', schema$2],\n    ['yaml-1.1', schema$2]\n]);\nconst tagsByName = {\n    binary,\n    bool: boolTag,\n    float,\n    floatExp,\n    floatNaN,\n    floatTime,\n    int,\n    intHex,\n    intOct,\n    intTime,\n    map,\n    merge,\n    null: nullTag,\n    omap,\n    pairs,\n    seq,\n    set,\n    timestamp\n};\nconst coreKnownTags = {\n    'tag:yaml.org,2002:binary': binary,\n    'tag:yaml.org,2002:merge': merge,\n    'tag:yaml.org,2002:omap': omap,\n    'tag:yaml.org,2002:pairs': pairs,\n    'tag:yaml.org,2002:set': set,\n    'tag:yaml.org,2002:timestamp': timestamp\n};\nfunction getTags(customTags, schemaName, addMergeTag) {\n    const schemaTags = schemas.get(schemaName);\n    if (schemaTags && !customTags) {\n        return addMergeTag && !schemaTags.includes(merge)\n            ? schemaTags.concat(merge)\n            : schemaTags.slice();\n    }\n    let tags = schemaTags;\n    if (!tags) {\n        if (Array.isArray(customTags))\n            tags = [];\n        else {\n            const keys = Array.from(schemas.keys())\n                .filter(key => key !== 'yaml11')\n                .map(key => JSON.stringify(key))\n                .join(', ');\n            throw new Error(`Unknown schema \"${schemaName}\"; use one of ${keys} or define customTags array`);\n        }\n    }\n    if (Array.isArray(customTags)) {\n        for (const tag of customTags)\n            tags = tags.concat(tag);\n    }\n    else if (typeof customTags === 'function') {\n        tags = customTags(tags.slice());\n    }\n    if (addMergeTag)\n        tags = tags.concat(merge);\n    return tags.reduce((tags, tag) => {\n        const tagObj = typeof tag === 'string' ? tagsByName[tag] : tag;\n        if (!tagObj) {\n            const tagName = JSON.stringify(tag);\n            const keys = Object.keys(tagsByName)\n                .map(key => JSON.stringify(key))\n                .join(', ');\n            throw new Error(`Unknown custom tag ${tagName}; use one of ${keys}`);\n        }\n        if (!tags.includes(tagObj))\n            tags.push(tagObj);\n        return tags;\n    }, []);\n}\n\nexport { coreKnownTags, getTags };\n","import { MAP, SCALAR, SEQ } from '../nodes/identity.js';\nimport { map } from './common/map.js';\nimport { seq } from './common/seq.js';\nimport { string } from './common/string.js';\nimport { getTags, coreKnownTags } from './tags.js';\n\nconst sortMapEntriesByKey = (a, b) => a.key < b.key ? -1 : a.key > b.key ? 1 : 0;\nclass Schema {\n    constructor({ compat, customTags, merge, resolveKnownTags, schema, sortMapEntries, toStringDefaults }) {\n        this.compat = Array.isArray(compat)\n            ? getTags(compat, 'compat')\n            : compat\n                ? getTags(null, compat)\n                : null;\n        this.name = (typeof schema === 'string' && schema) || 'core';\n        this.knownTags = resolveKnownTags ? coreKnownTags : {};\n        this.tags = getTags(customTags, this.name, merge);\n        this.toStringOptions = toStringDefaults ?? null;\n        Object.defineProperty(this, MAP, { value: map });\n        Object.defineProperty(this, SCALAR, { value: string });\n        Object.defineProperty(this, SEQ, { value: seq });\n        // Used by createMap()\n        this.sortMapEntries =\n            typeof sortMapEntries === 'function'\n                ? sortMapEntries\n                : sortMapEntries === true\n                    ? sortMapEntriesByKey\n                    : null;\n    }\n    clone() {\n        const copy = Object.create(Schema.prototype, Object.getOwnPropertyDescriptors(this));\n        copy.tags = this.tags.slice();\n        return copy;\n    }\n}\n\nexport { Schema };\n","import { Alias } from '../nodes/Alias.js';\nimport { isEmptyPath, collectionFromPath } from '../nodes/Collection.js';\nimport { NODE_TYPE, DOC, isNode, isCollection, isScalar } from '../nodes/identity.js';\nimport { Pair } from '../nodes/Pair.js';\nimport { toJS } from '../nodes/toJS.js';\nimport { Schema } from '../schema/Schema.js';\nimport { stringifyDocument } from '../stringify/stringifyDocument.js';\nimport { anchorNames, findNewAnchor, createNodeAnchors } from './anchors.js';\nimport { applyReviver } from './applyReviver.js';\nimport { createNode } from './createNode.js';\nimport { Directives } from './directives.js';\n\nclass Document {\n    constructor(value, replacer, options) {\n        /** A comment before this Document */\n        this.commentBefore = null;\n        /** A comment immediately after this Document */\n        this.comment = null;\n        /** Errors encountered during parsing. */\n        this.errors = [];\n        /** Warnings encountered during parsing. */\n        this.warnings = [];\n        Object.defineProperty(this, NODE_TYPE, { value: DOC });\n        let _replacer = null;\n        if (typeof replacer === 'function' || Array.isArray(replacer)) {\n            _replacer = replacer;\n        }\n        else if (options === undefined && replacer) {\n            options = replacer;\n            replacer = undefined;\n        }\n        const opt = Object.assign({\n            intAsBigInt: false,\n            keepSourceTokens: false,\n            logLevel: 'warn',\n            prettyErrors: true,\n            strict: true,\n            stringKeys: false,\n            uniqueKeys: true,\n            version: '1.2'\n        }, options);\n        this.options = opt;\n        let { version } = opt;\n        if (options?._directives) {\n            this.directives = options._directives.atDocument();\n            if (this.directives.yaml.explicit)\n                version = this.directives.yaml.version;\n        }\n        else\n            this.directives = new Directives({ version });\n        this.setSchema(version, options);\n        // @ts-expect-error We can't really know that this matches Contents.\n        this.contents =\n            value === undefined ? null : this.createNode(value, _replacer, options);\n    }\n    /**\n     * Create a deep copy of this Document and its contents.\n     *\n     * Custom Node values that inherit from `Object` still refer to their original instances.\n     */\n    clone() {\n        const copy = Object.create(Document.prototype, {\n            [NODE_TYPE]: { value: DOC }\n        });\n        copy.commentBefore = this.commentBefore;\n        copy.comment = this.comment;\n        copy.errors = this.errors.slice();\n        copy.warnings = this.warnings.slice();\n        copy.options = Object.assign({}, this.options);\n        if (this.directives)\n            copy.directives = this.directives.clone();\n        copy.schema = this.schema.clone();\n        // @ts-expect-error We can't really know that this matches Contents.\n        copy.contents = isNode(this.contents)\n            ? this.contents.clone(copy.schema)\n            : this.contents;\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /** Adds a value to the document. */\n    add(value) {\n        if (assertCollection(this.contents))\n            this.contents.add(value);\n    }\n    /** Adds a value to the document. */\n    addIn(path, value) {\n        if (assertCollection(this.contents))\n            this.contents.addIn(path, value);\n    }\n    /**\n     * Create a new `Alias` node, ensuring that the target `node` has the required anchor.\n     *\n     * If `node` already has an anchor, `name` is ignored.\n     * Otherwise, the `node.anchor` value will be set to `name`,\n     * or if an anchor with that name is already present in the document,\n     * `name` will be used as a prefix for a new unique anchor.\n     * If `name` is undefined, the generated anchor will use 'a' as a prefix.\n     */\n    createAlias(node, name) {\n        if (!node.anchor) {\n            const prev = anchorNames(this);\n            node.anchor =\n                // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n                !name || prev.has(name) ? findNewAnchor(name || 'a', prev) : name;\n        }\n        return new Alias(node.anchor);\n    }\n    createNode(value, replacer, options) {\n        let _replacer = undefined;\n        if (typeof replacer === 'function') {\n            value = replacer.call({ '': value }, '', value);\n            _replacer = replacer;\n        }\n        else if (Array.isArray(replacer)) {\n            const keyToStr = (v) => typeof v === 'number' || v instanceof String || v instanceof Number;\n            const asStr = replacer.filter(keyToStr).map(String);\n            if (asStr.length > 0)\n                replacer = replacer.concat(asStr);\n            _replacer = replacer;\n        }\n        else if (options === undefined && replacer) {\n            options = replacer;\n            replacer = undefined;\n        }\n        const { aliasDuplicateObjects, anchorPrefix, flow, keepUndefined, onTagObj, tag } = options ?? {};\n        const { onAnchor, setAnchors, sourceObjects } = createNodeAnchors(this, \n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        anchorPrefix || 'a');\n        const ctx = {\n            aliasDuplicateObjects: aliasDuplicateObjects ?? true,\n            keepUndefined: keepUndefined ?? false,\n            onAnchor,\n            onTagObj,\n            replacer: _replacer,\n            schema: this.schema,\n            sourceObjects\n        };\n        const node = createNode(value, tag, ctx);\n        if (flow && isCollection(node))\n            node.flow = true;\n        setAnchors();\n        return node;\n    }\n    /**\n     * Convert a key and a value into a `Pair` using the current schema,\n     * recursively wrapping all values as `Scalar` or `Collection` nodes.\n     */\n    createPair(key, value, options = {}) {\n        const k = this.createNode(key, null, options);\n        const v = this.createNode(value, null, options);\n        return new Pair(k, v);\n    }\n    /**\n     * Removes a value from the document.\n     * @returns `true` if the item was found and removed.\n     */\n    delete(key) {\n        return assertCollection(this.contents) ? this.contents.delete(key) : false;\n    }\n    /**\n     * Removes a value from the document.\n     * @returns `true` if the item was found and removed.\n     */\n    deleteIn(path) {\n        if (isEmptyPath(path)) {\n            if (this.contents == null)\n                return false;\n            // @ts-expect-error Presumed impossible if Strict extends false\n            this.contents = null;\n            return true;\n        }\n        return assertCollection(this.contents)\n            ? this.contents.deleteIn(path)\n            : false;\n    }\n    /**\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    get(key, keepScalar) {\n        return isCollection(this.contents)\n            ? this.contents.get(key, keepScalar)\n            : undefined;\n    }\n    /**\n     * Returns item at `path`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    getIn(path, keepScalar) {\n        if (isEmptyPath(path))\n            return !keepScalar && isScalar(this.contents)\n                ? this.contents.value\n                : this.contents;\n        return isCollection(this.contents)\n            ? this.contents.getIn(path, keepScalar)\n            : undefined;\n    }\n    /**\n     * Checks if the document includes a value with the key `key`.\n     */\n    has(key) {\n        return isCollection(this.contents) ? this.contents.has(key) : false;\n    }\n    /**\n     * Checks if the document includes a value at `path`.\n     */\n    hasIn(path) {\n        if (isEmptyPath(path))\n            return this.contents !== undefined;\n        return isCollection(this.contents) ? this.contents.hasIn(path) : false;\n    }\n    /**\n     * Sets a value in this document. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    set(key, value) {\n        if (this.contents == null) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = collectionFromPath(this.schema, [key], value);\n        }\n        else if (assertCollection(this.contents)) {\n            this.contents.set(key, value);\n        }\n    }\n    /**\n     * Sets a value in this document. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    setIn(path, value) {\n        if (isEmptyPath(path)) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = value;\n        }\n        else if (this.contents == null) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = collectionFromPath(this.schema, Array.from(path), value);\n        }\n        else if (assertCollection(this.contents)) {\n            this.contents.setIn(path, value);\n        }\n    }\n    /**\n     * Change the YAML version and schema used by the document.\n     * A `null` version disables support for directives, explicit tags, anchors, and aliases.\n     * It also requires the `schema` option to be given as a `Schema` instance value.\n     *\n     * Overrides all previously set schema options.\n     */\n    setSchema(version, options = {}) {\n        if (typeof version === 'number')\n            version = String(version);\n        let opt;\n        switch (version) {\n            case '1.1':\n                if (this.directives)\n                    this.directives.yaml.version = '1.1';\n                else\n                    this.directives = new Directives({ version: '1.1' });\n                opt = { resolveKnownTags: false, schema: 'yaml-1.1' };\n                break;\n            case '1.2':\n            case 'next':\n                if (this.directives)\n                    this.directives.yaml.version = version;\n                else\n                    this.directives = new Directives({ version });\n                opt = { resolveKnownTags: true, schema: 'core' };\n                break;\n            case null:\n                if (this.directives)\n                    delete this.directives;\n                opt = null;\n                break;\n            default: {\n                const sv = JSON.stringify(version);\n                throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${sv}`);\n            }\n        }\n        // Not using `instanceof Schema` to allow for duck typing\n        if (options.schema instanceof Object)\n            this.schema = options.schema;\n        else if (opt)\n            this.schema = new Schema(Object.assign(opt, options));\n        else\n            throw new Error(`With a null YAML version, the { schema: Schema } option is required`);\n    }\n    // json & jsonArg are only used from toJSON()\n    toJS({ json, jsonArg, mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {\n        const ctx = {\n            anchors: new Map(),\n            doc: this,\n            keep: !json,\n            mapAsMap: mapAsMap === true,\n            mapKeyWarned: false,\n            maxAliasCount: typeof maxAliasCount === 'number' ? maxAliasCount : 100\n        };\n        const res = toJS(this.contents, jsonArg ?? '', ctx);\n        if (typeof onAnchor === 'function')\n            for (const { count, res } of ctx.anchors.values())\n                onAnchor(res, count);\n        return typeof reviver === 'function'\n            ? applyReviver(reviver, { '': res }, '', res)\n            : res;\n    }\n    /**\n     * A JSON representation of the document `contents`.\n     *\n     * @param jsonArg Used by `JSON.stringify` to indicate the array index or\n     *   property name.\n     */\n    toJSON(jsonArg, onAnchor) {\n        return this.toJS({ json: true, jsonArg, mapAsMap: false, onAnchor });\n    }\n    /** A YAML representation of the document. */\n    toString(options = {}) {\n        if (this.errors.length > 0)\n            throw new Error('Document with errors cannot be stringified');\n        if ('indent' in options &&\n            (!Number.isInteger(options.indent) || Number(options.indent) <= 0)) {\n            const s = JSON.stringify(options.indent);\n            throw new Error(`\"indent\" option must be a positive integer, not ${s}`);\n        }\n        return stringifyDocument(this, options);\n    }\n}\nfunction assertCollection(contents) {\n    if (isCollection(contents))\n        return true;\n    throw new Error('Expected a YAML collection as document contents');\n}\n\nexport { Document };\n","import { isNode } from '../nodes/identity.js';\nimport { createStringifyContext, stringify } from './stringify.js';\nimport { indentComment, lineComment } from './stringifyComment.js';\n\nfunction stringifyDocument(doc, options) {\n    const lines = [];\n    let hasDirectives = options.directives === true;\n    if (options.directives !== false && doc.directives) {\n        const dir = doc.directives.toString(doc);\n        if (dir) {\n            lines.push(dir);\n            hasDirectives = true;\n        }\n        else if (doc.directives.docStart)\n            hasDirectives = true;\n    }\n    if (hasDirectives)\n        lines.push('---');\n    const ctx = createStringifyContext(doc, options);\n    const { commentString } = ctx.options;\n    if (doc.commentBefore) {\n        if (lines.length !== 1)\n            lines.unshift('');\n        const cs = commentString(doc.commentBefore);\n        lines.unshift(indentComment(cs, ''));\n    }\n    let chompKeep = false;\n    let contentComment = null;\n    if (doc.contents) {\n        if (isNode(doc.contents)) {\n            if (doc.contents.spaceBefore && hasDirectives)\n                lines.push('');\n            if (doc.contents.commentBefore) {\n                const cs = commentString(doc.contents.commentBefore);\n                lines.push(indentComment(cs, ''));\n            }\n            // top-level block scalars need to be indented if followed by a comment\n            ctx.forceBlockIndent = !!doc.comment;\n            contentComment = doc.contents.comment;\n        }\n        const onChompKeep = contentComment ? undefined : () => (chompKeep = true);\n        let body = stringify(doc.contents, ctx, () => (contentComment = null), onChompKeep);\n        if (contentComment)\n            body += lineComment(body, '', commentString(contentComment));\n        if ((body[0] === '|' || body[0] === '>') &&\n            lines[lines.length - 1] === '---') {\n            // Top-level block scalars with a preceding doc marker ought to use the\n            // same line for their header.\n            lines[lines.length - 1] = `--- ${body}`;\n        }\n        else\n            lines.push(body);\n    }\n    else {\n        lines.push(stringify(doc.contents, ctx));\n    }\n    if (doc.directives?.docEnd) {\n        if (doc.comment) {\n            const cs = commentString(doc.comment);\n            if (cs.includes('\\n')) {\n                lines.push('...');\n                lines.push(indentComment(cs, ''));\n            }\n            else {\n                lines.push(`... ${cs}`);\n            }\n        }\n        else {\n            lines.push('...');\n        }\n    }\n    else {\n        let dc = doc.comment;\n        if (dc && chompKeep)\n            dc = dc.replace(/^\\n+/, '');\n        if (dc) {\n            if ((!chompKeep || contentComment) && lines[lines.length - 1] !== '')\n                lines.push('');\n            lines.push(indentComment(commentString(dc), ''));\n        }\n    }\n    return lines.join('\\n') + '\\n';\n}\n\nexport { stringifyDocument };\n","class YAMLError extends Error {\n    constructor(name, pos, code, message) {\n        super();\n        this.name = name;\n        this.code = code;\n        this.message = message;\n        this.pos = pos;\n    }\n}\nclass YAMLParseError extends YAMLError {\n    constructor(pos, code, message) {\n        super('YAMLParseError', pos, code, message);\n    }\n}\nclass YAMLWarning extends YAMLError {\n    constructor(pos, code, message) {\n        super('YAMLWarning', pos, code, message);\n    }\n}\nconst prettifyError = (src, lc) => (error) => {\n    if (error.pos[0] === -1)\n        return;\n    error.linePos = error.pos.map(pos => lc.linePos(pos));\n    const { line, col } = error.linePos[0];\n    error.message += ` at line ${line}, column ${col}`;\n    let ci = col - 1;\n    let lineStr = src\n        .substring(lc.lineStarts[line - 1], lc.lineStarts[line])\n        .replace(/[\\n\\r]+$/, '');\n    // Trim to max 80 chars, keeping col position near the middle\n    if (ci >= 60 && lineStr.length > 80) {\n        const trimStart = Math.min(ci - 39, lineStr.length - 79);\n        lineStr = '' + lineStr.substring(trimStart);\n        ci -= trimStart - 1;\n    }\n    if (lineStr.length > 80)\n        lineStr = lineStr.substring(0, 79) + '';\n    // Include previous line in context if pointing at line start\n    if (line > 1 && /^ *$/.test(lineStr.substring(0, ci))) {\n        // Regexp won't match if start is trimmed\n        let prev = src.substring(lc.lineStarts[line - 2], lc.lineStarts[line - 1]);\n        if (prev.length > 80)\n            prev = prev.substring(0, 79) + '\\n';\n        lineStr = prev + lineStr;\n    }\n    if (/[^ ]/.test(lineStr)) {\n        let count = 1;\n        const end = error.linePos[1];\n        if (end?.line === line && end.col > col) {\n            count = Math.max(1, Math.min(end.col - col, 80 - ci));\n        }\n        const pointer = ' '.repeat(ci) + '^'.repeat(count);\n        error.message += `:\\n\\n${lineStr}\\n${pointer}\\n`;\n    }\n};\n\nexport { YAMLError, YAMLParseError, YAMLWarning, prettifyError };\n","function resolveProps(tokens, { flow, indicator, next, offset, onError, parentIndent, startOnNewline }) {\n    let spaceBefore = false;\n    let atNewline = startOnNewline;\n    let hasSpace = startOnNewline;\n    let comment = '';\n    let commentSep = '';\n    let hasNewline = false;\n    let reqSpace = false;\n    let tab = null;\n    let anchor = null;\n    let tag = null;\n    let newlineAfterProp = null;\n    let comma = null;\n    let found = null;\n    let start = null;\n    for (const token of tokens) {\n        if (reqSpace) {\n            if (token.type !== 'space' &&\n                token.type !== 'newline' &&\n                token.type !== 'comma')\n                onError(token.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\n            reqSpace = false;\n        }\n        if (tab) {\n            if (atNewline && token.type !== 'comment' && token.type !== 'newline') {\n                onError(tab, 'TAB_AS_INDENT', 'Tabs are not allowed as indentation');\n            }\n            tab = null;\n        }\n        switch (token.type) {\n            case 'space':\n                // At the doc level, tabs at line start may be parsed\n                // as leading white space rather than indentation.\n                // In a flow collection, only the parser handles indent.\n                if (!flow &&\n                    (indicator !== 'doc-start' || next?.type !== 'flow-collection') &&\n                    token.source.includes('\\t')) {\n                    tab = token;\n                }\n                hasSpace = true;\n                break;\n            case 'comment': {\n                if (!hasSpace)\n                    onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\n                const cb = token.source.substring(1) || ' ';\n                if (!comment)\n                    comment = cb;\n                else\n                    comment += commentSep + cb;\n                commentSep = '';\n                atNewline = false;\n                break;\n            }\n            case 'newline':\n                if (atNewline) {\n                    if (comment)\n                        comment += token.source;\n                    else if (!found || indicator !== 'seq-item-ind')\n                        spaceBefore = true;\n                }\n                else\n                    commentSep += token.source;\n                atNewline = true;\n                hasNewline = true;\n                if (anchor || tag)\n                    newlineAfterProp = token;\n                hasSpace = true;\n                break;\n            case 'anchor':\n                if (anchor)\n                    onError(token, 'MULTIPLE_ANCHORS', 'A node can have at most one anchor');\n                if (token.source.endsWith(':'))\n                    onError(token.offset + token.source.length - 1, 'BAD_ALIAS', 'Anchor ending in : is ambiguous', true);\n                anchor = token;\n                start ?? (start = token.offset);\n                atNewline = false;\n                hasSpace = false;\n                reqSpace = true;\n                break;\n            case 'tag': {\n                if (tag)\n                    onError(token, 'MULTIPLE_TAGS', 'A node can have at most one tag');\n                tag = token;\n                start ?? (start = token.offset);\n                atNewline = false;\n                hasSpace = false;\n                reqSpace = true;\n                break;\n            }\n            case indicator:\n                // Could here handle preceding comments differently\n                if (anchor || tag)\n                    onError(token, 'BAD_PROP_ORDER', `Anchors and tags must be after the ${token.source} indicator`);\n                if (found)\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.source} in ${flow ?? 'collection'}`);\n                found = token;\n                atNewline =\n                    indicator === 'seq-item-ind' || indicator === 'explicit-key-ind';\n                hasSpace = false;\n                break;\n            case 'comma':\n                if (flow) {\n                    if (comma)\n                        onError(token, 'UNEXPECTED_TOKEN', `Unexpected , in ${flow}`);\n                    comma = token;\n                    atNewline = false;\n                    hasSpace = false;\n                    break;\n                }\n            // else fallthrough\n            default:\n                onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.type} token`);\n                atNewline = false;\n                hasSpace = false;\n        }\n    }\n    const last = tokens[tokens.length - 1];\n    const end = last ? last.offset + last.source.length : offset;\n    if (reqSpace &&\n        next &&\n        next.type !== 'space' &&\n        next.type !== 'newline' &&\n        next.type !== 'comma' &&\n        (next.type !== 'scalar' || next.source !== '')) {\n        onError(next.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\n    }\n    if (tab &&\n        ((atNewline && tab.indent <= parentIndent) ||\n            next?.type === 'block-map' ||\n            next?.type === 'block-seq'))\n        onError(tab, 'TAB_AS_INDENT', 'Tabs are not allowed as indentation');\n    return {\n        comma,\n        found,\n        spaceBefore,\n        comment,\n        hasNewline,\n        anchor,\n        tag,\n        newlineAfterProp,\n        end,\n        start: start ?? end\n    };\n}\n\nexport { resolveProps };\n","function containsNewline(key) {\n    if (!key)\n        return null;\n    switch (key.type) {\n        case 'alias':\n        case 'scalar':\n        case 'double-quoted-scalar':\n        case 'single-quoted-scalar':\n            if (key.source.includes('\\n'))\n                return true;\n            if (key.end)\n                for (const st of key.end)\n                    if (st.type === 'newline')\n                        return true;\n            return false;\n        case 'flow-collection':\n            for (const it of key.items) {\n                for (const st of it.start)\n                    if (st.type === 'newline')\n                        return true;\n                if (it.sep)\n                    for (const st of it.sep)\n                        if (st.type === 'newline')\n                            return true;\n                if (containsNewline(it.key) || containsNewline(it.value))\n                    return true;\n            }\n            return false;\n        default:\n            return true;\n    }\n}\n\nexport { containsNewline };\n","import { containsNewline } from './util-contains-newline.js';\n\nfunction flowIndentCheck(indent, fc, onError) {\n    if (fc?.type === 'flow-collection') {\n        const end = fc.end[0];\n        if (end.indent === indent &&\n            (end.source === ']' || end.source === '}') &&\n            containsNewline(fc)) {\n            const msg = 'Flow end indicator should be more indented than parent';\n            onError(end, 'BAD_INDENT', msg, true);\n        }\n    }\n}\n\nexport { flowIndentCheck };\n","import { isScalar } from '../nodes/identity.js';\n\nfunction mapIncludes(ctx, items, search) {\n    const { uniqueKeys } = ctx.options;\n    if (uniqueKeys === false)\n        return false;\n    const isEqual = typeof uniqueKeys === 'function'\n        ? uniqueKeys\n        : (a, b) => a === b || (isScalar(a) && isScalar(b) && a.value === b.value);\n    return items.some(pair => isEqual(pair.key, search));\n}\n\nexport { mapIncludes };\n","import { Pair } from '../nodes/Pair.js';\nimport { YAMLMap } from '../nodes/YAMLMap.js';\nimport { resolveProps } from './resolve-props.js';\nimport { containsNewline } from './util-contains-newline.js';\nimport { flowIndentCheck } from './util-flow-indent-check.js';\nimport { mapIncludes } from './util-map-includes.js';\n\nconst startColMsg = 'All mapping items must start at the same column';\nfunction resolveBlockMap({ composeNode, composeEmptyNode }, ctx, bm, onError, tag) {\n    const NodeClass = tag?.nodeClass ?? YAMLMap;\n    const map = new NodeClass(ctx.schema);\n    if (ctx.atRoot)\n        ctx.atRoot = false;\n    let offset = bm.offset;\n    let commentEnd = null;\n    for (const collItem of bm.items) {\n        const { start, key, sep, value } = collItem;\n        // key properties\n        const keyProps = resolveProps(start, {\n            indicator: 'explicit-key-ind',\n            next: key ?? sep?.[0],\n            offset,\n            onError,\n            parentIndent: bm.indent,\n            startOnNewline: true\n        });\n        const implicitKey = !keyProps.found;\n        if (implicitKey) {\n            if (key) {\n                if (key.type === 'block-seq')\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'A block sequence may not be used as an implicit map key');\n                else if ('indent' in key && key.indent !== bm.indent)\n                    onError(offset, 'BAD_INDENT', startColMsg);\n            }\n            if (!keyProps.anchor && !keyProps.tag && !sep) {\n                commentEnd = keyProps.end;\n                if (keyProps.comment) {\n                    if (map.comment)\n                        map.comment += '\\n' + keyProps.comment;\n                    else\n                        map.comment = keyProps.comment;\n                }\n                continue;\n            }\n            if (keyProps.newlineAfterProp || containsNewline(key)) {\n                onError(key ?? start[start.length - 1], 'MULTILINE_IMPLICIT_KEY', 'Implicit keys need to be on a single line');\n            }\n        }\n        else if (keyProps.found?.indent !== bm.indent) {\n            onError(offset, 'BAD_INDENT', startColMsg);\n        }\n        // key value\n        ctx.atKey = true;\n        const keyStart = keyProps.end;\n        const keyNode = key\n            ? composeNode(ctx, key, keyProps, onError)\n            : composeEmptyNode(ctx, keyStart, start, null, keyProps, onError);\n        if (ctx.schema.compat)\n            flowIndentCheck(bm.indent, key, onError);\n        ctx.atKey = false;\n        if (mapIncludes(ctx, map.items, keyNode))\n            onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\n        // value properties\n        const valueProps = resolveProps(sep ?? [], {\n            indicator: 'map-value-ind',\n            next: value,\n            offset: keyNode.range[2],\n            onError,\n            parentIndent: bm.indent,\n            startOnNewline: !key || key.type === 'block-scalar'\n        });\n        offset = valueProps.end;\n        if (valueProps.found) {\n            if (implicitKey) {\n                if (value?.type === 'block-map' && !valueProps.hasNewline)\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'Nested mappings are not allowed in compact mappings');\n                if (ctx.options.strict &&\n                    keyProps.start < valueProps.found.offset - 1024)\n                    onError(keyNode.range, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit block mapping key');\n            }\n            // value value\n            const valueNode = value\n                ? composeNode(ctx, value, valueProps, onError)\n                : composeEmptyNode(ctx, offset, sep, null, valueProps, onError);\n            if (ctx.schema.compat)\n                flowIndentCheck(bm.indent, value, onError);\n            offset = valueNode.range[2];\n            const pair = new Pair(keyNode, valueNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            map.items.push(pair);\n        }\n        else {\n            // key with no value\n            if (implicitKey)\n                onError(keyNode.range, 'MISSING_CHAR', 'Implicit map keys need to be followed by map values');\n            if (valueProps.comment) {\n                if (keyNode.comment)\n                    keyNode.comment += '\\n' + valueProps.comment;\n                else\n                    keyNode.comment = valueProps.comment;\n            }\n            const pair = new Pair(keyNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            map.items.push(pair);\n        }\n    }\n    if (commentEnd && commentEnd < offset)\n        onError(commentEnd, 'IMPOSSIBLE', 'Map comment with trailing content');\n    map.range = [bm.offset, offset, commentEnd ?? offset];\n    return map;\n}\n\nexport { resolveBlockMap };\n","function resolveEnd(end, offset, reqSpace, onError) {\n    let comment = '';\n    if (end) {\n        let hasSpace = false;\n        let sep = '';\n        for (const token of end) {\n            const { source, type } = token;\n            switch (type) {\n                case 'space':\n                    hasSpace = true;\n                    break;\n                case 'comment': {\n                    if (reqSpace && !hasSpace)\n                        onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\n                    const cb = source.substring(1) || ' ';\n                    if (!comment)\n                        comment = cb;\n                    else\n                        comment += sep + cb;\n                    sep = '';\n                    break;\n                }\n                case 'newline':\n                    if (comment)\n                        sep += source;\n                    hasSpace = true;\n                    break;\n                default:\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${type} at node end`);\n            }\n            offset += source.length;\n        }\n    }\n    return { comment, offset };\n}\n\nexport { resolveEnd };\n","import { isPair } from '../nodes/identity.js';\nimport { Pair } from '../nodes/Pair.js';\nimport { YAMLMap } from '../nodes/YAMLMap.js';\nimport { YAMLSeq } from '../nodes/YAMLSeq.js';\nimport { resolveEnd } from './resolve-end.js';\nimport { resolveProps } from './resolve-props.js';\nimport { containsNewline } from './util-contains-newline.js';\nimport { mapIncludes } from './util-map-includes.js';\n\nconst blockMsg = 'Block collections are not allowed within flow collections';\nconst isBlock = (token) => token && (token.type === 'block-map' || token.type === 'block-seq');\nfunction resolveFlowCollection({ composeNode, composeEmptyNode }, ctx, fc, onError, tag) {\n    const isMap = fc.start.source === '{';\n    const fcName = isMap ? 'flow map' : 'flow sequence';\n    const NodeClass = (tag?.nodeClass ?? (isMap ? YAMLMap : YAMLSeq));\n    const coll = new NodeClass(ctx.schema);\n    coll.flow = true;\n    const atRoot = ctx.atRoot;\n    if (atRoot)\n        ctx.atRoot = false;\n    if (ctx.atKey)\n        ctx.atKey = false;\n    let offset = fc.offset + fc.start.source.length;\n    for (let i = 0; i < fc.items.length; ++i) {\n        const collItem = fc.items[i];\n        const { start, key, sep, value } = collItem;\n        const props = resolveProps(start, {\n            flow: fcName,\n            indicator: 'explicit-key-ind',\n            next: key ?? sep?.[0],\n            offset,\n            onError,\n            parentIndent: fc.indent,\n            startOnNewline: false\n        });\n        if (!props.found) {\n            if (!props.anchor && !props.tag && !sep && !value) {\n                if (i === 0 && props.comma)\n                    onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\n                else if (i < fc.items.length - 1)\n                    onError(props.start, 'UNEXPECTED_TOKEN', `Unexpected empty item in ${fcName}`);\n                if (props.comment) {\n                    if (coll.comment)\n                        coll.comment += '\\n' + props.comment;\n                    else\n                        coll.comment = props.comment;\n                }\n                offset = props.end;\n                continue;\n            }\n            if (!isMap && ctx.options.strict && containsNewline(key))\n                onError(key, // checked by containsNewline()\n                'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\n        }\n        if (i === 0) {\n            if (props.comma)\n                onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\n        }\n        else {\n            if (!props.comma)\n                onError(props.start, 'MISSING_CHAR', `Missing , between ${fcName} items`);\n            if (props.comment) {\n                let prevItemComment = '';\n                loop: for (const st of start) {\n                    switch (st.type) {\n                        case 'comma':\n                        case 'space':\n                            break;\n                        case 'comment':\n                            prevItemComment = st.source.substring(1);\n                            break loop;\n                        default:\n                            break loop;\n                    }\n                }\n                if (prevItemComment) {\n                    let prev = coll.items[coll.items.length - 1];\n                    if (isPair(prev))\n                        prev = prev.value ?? prev.key;\n                    if (prev.comment)\n                        prev.comment += '\\n' + prevItemComment;\n                    else\n                        prev.comment = prevItemComment;\n                    props.comment = props.comment.substring(prevItemComment.length + 1);\n                }\n            }\n        }\n        if (!isMap && !sep && !props.found) {\n            // item is a value in a seq\n            //  key & sep are empty, start does not include ? or :\n            const valueNode = value\n                ? composeNode(ctx, value, props, onError)\n                : composeEmptyNode(ctx, props.end, sep, null, props, onError);\n            coll.items.push(valueNode);\n            offset = valueNode.range[2];\n            if (isBlock(value))\n                onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\n        }\n        else {\n            // item is a key+value pair\n            // key value\n            ctx.atKey = true;\n            const keyStart = props.end;\n            const keyNode = key\n                ? composeNode(ctx, key, props, onError)\n                : composeEmptyNode(ctx, keyStart, start, null, props, onError);\n            if (isBlock(key))\n                onError(keyNode.range, 'BLOCK_IN_FLOW', blockMsg);\n            ctx.atKey = false;\n            // value properties\n            const valueProps = resolveProps(sep ?? [], {\n                flow: fcName,\n                indicator: 'map-value-ind',\n                next: value,\n                offset: keyNode.range[2],\n                onError,\n                parentIndent: fc.indent,\n                startOnNewline: false\n            });\n            if (valueProps.found) {\n                if (!isMap && !props.found && ctx.options.strict) {\n                    if (sep)\n                        for (const st of sep) {\n                            if (st === valueProps.found)\n                                break;\n                            if (st.type === 'newline') {\n                                onError(st, 'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\n                                break;\n                            }\n                        }\n                    if (props.start < valueProps.found.offset - 1024)\n                        onError(valueProps.found, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit flow sequence key');\n                }\n            }\n            else if (value) {\n                if ('source' in value && value.source?.[0] === ':')\n                    onError(value, 'MISSING_CHAR', `Missing space after : in ${fcName}`);\n                else\n                    onError(valueProps.start, 'MISSING_CHAR', `Missing , or : between ${fcName} items`);\n            }\n            // value value\n            const valueNode = value\n                ? composeNode(ctx, value, valueProps, onError)\n                : valueProps.found\n                    ? composeEmptyNode(ctx, valueProps.end, sep, null, valueProps, onError)\n                    : null;\n            if (valueNode) {\n                if (isBlock(value))\n                    onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\n            }\n            else if (valueProps.comment) {\n                if (keyNode.comment)\n                    keyNode.comment += '\\n' + valueProps.comment;\n                else\n                    keyNode.comment = valueProps.comment;\n            }\n            const pair = new Pair(keyNode, valueNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            if (isMap) {\n                const map = coll;\n                if (mapIncludes(ctx, map.items, keyNode))\n                    onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\n                map.items.push(pair);\n            }\n            else {\n                const map = new YAMLMap(ctx.schema);\n                map.flow = true;\n                map.items.push(pair);\n                const endRange = (valueNode ?? keyNode).range;\n                map.range = [keyNode.range[0], endRange[1], endRange[2]];\n                coll.items.push(map);\n            }\n            offset = valueNode ? valueNode.range[2] : valueProps.end;\n        }\n    }\n    const expectedEnd = isMap ? '}' : ']';\n    const [ce, ...ee] = fc.end;\n    let cePos = offset;\n    if (ce?.source === expectedEnd)\n        cePos = ce.offset + ce.source.length;\n    else {\n        const name = fcName[0].toUpperCase() + fcName.substring(1);\n        const msg = atRoot\n            ? `${name} must end with a ${expectedEnd}`\n            : `${name} in block collection must be sufficiently indented and end with a ${expectedEnd}`;\n        onError(offset, atRoot ? 'MISSING_CHAR' : 'BAD_INDENT', msg);\n        if (ce && ce.source.length !== 1)\n            ee.unshift(ce);\n    }\n    if (ee.length > 0) {\n        const end = resolveEnd(ee, cePos, ctx.options.strict, onError);\n        if (end.comment) {\n            if (coll.comment)\n                coll.comment += '\\n' + end.comment;\n            else\n                coll.comment = end.comment;\n        }\n        coll.range = [fc.offset, cePos, end.offset];\n    }\n    else {\n        coll.range = [fc.offset, cePos, cePos];\n    }\n    return coll;\n}\n\nexport { resolveFlowCollection };\n","import { isNode } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\nimport { YAMLMap } from '../nodes/YAMLMap.js';\nimport { YAMLSeq } from '../nodes/YAMLSeq.js';\nimport { resolveBlockMap } from './resolve-block-map.js';\nimport { resolveBlockSeq } from './resolve-block-seq.js';\nimport { resolveFlowCollection } from './resolve-flow-collection.js';\n\nfunction resolveCollection(CN, ctx, token, onError, tagName, tag) {\n    const coll = token.type === 'block-map'\n        ? resolveBlockMap(CN, ctx, token, onError, tag)\n        : token.type === 'block-seq'\n            ? resolveBlockSeq(CN, ctx, token, onError, tag)\n            : resolveFlowCollection(CN, ctx, token, onError, tag);\n    const Coll = coll.constructor;\n    // If we got a tagName matching the class, or the tag name is '!',\n    // then use the tagName from the node class used to create it.\n    if (tagName === '!' || tagName === Coll.tagName) {\n        coll.tag = Coll.tagName;\n        return coll;\n    }\n    if (tagName)\n        coll.tag = tagName;\n    return coll;\n}\nfunction composeCollection(CN, ctx, token, props, onError) {\n    const tagToken = props.tag;\n    const tagName = !tagToken\n        ? null\n        : ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg));\n    if (token.type === 'block-seq') {\n        const { anchor, newlineAfterProp: nl } = props;\n        const lastProp = anchor && tagToken\n            ? anchor.offset > tagToken.offset\n                ? anchor\n                : tagToken\n            : (anchor ?? tagToken);\n        if (lastProp && (!nl || nl.offset < lastProp.offset)) {\n            const message = 'Missing newline after block sequence props';\n            onError(lastProp, 'MISSING_CHAR', message);\n        }\n    }\n    const expType = token.type === 'block-map'\n        ? 'map'\n        : token.type === 'block-seq'\n            ? 'seq'\n            : token.start.source === '{'\n                ? 'map'\n                : 'seq';\n    // shortcut: check if it's a generic YAMLMap or YAMLSeq\n    // before jumping into the custom tag logic.\n    if (!tagToken ||\n        !tagName ||\n        tagName === '!' ||\n        (tagName === YAMLMap.tagName && expType === 'map') ||\n        (tagName === YAMLSeq.tagName && expType === 'seq')) {\n        return resolveCollection(CN, ctx, token, onError, tagName);\n    }\n    let tag = ctx.schema.tags.find(t => t.tag === tagName && t.collection === expType);\n    if (!tag) {\n        const kt = ctx.schema.knownTags[tagName];\n        if (kt?.collection === expType) {\n            ctx.schema.tags.push(Object.assign({}, kt, { default: false }));\n            tag = kt;\n        }\n        else {\n            if (kt) {\n                onError(tagToken, 'BAD_COLLECTION_TYPE', `${kt.tag} used for ${expType} collection, but expects ${kt.collection ?? 'scalar'}`, true);\n            }\n            else {\n                onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, true);\n            }\n            return resolveCollection(CN, ctx, token, onError, tagName);\n        }\n    }\n    const coll = resolveCollection(CN, ctx, token, onError, tagName, tag);\n    const res = tag.resolve?.(coll, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg), ctx.options) ?? coll;\n    const node = isNode(res)\n        ? res\n        : new Scalar(res);\n    node.range = coll.range;\n    node.tag = tagName;\n    if (tag?.format)\n        node.format = tag.format;\n    return node;\n}\n\nexport { composeCollection };\n","import { YAMLSeq } from '../nodes/YAMLSeq.js';\nimport { resolveProps } from './resolve-props.js';\nimport { flowIndentCheck } from './util-flow-indent-check.js';\n\nfunction resolveBlockSeq({ composeNode, composeEmptyNode }, ctx, bs, onError, tag) {\n    const NodeClass = tag?.nodeClass ?? YAMLSeq;\n    const seq = new NodeClass(ctx.schema);\n    if (ctx.atRoot)\n        ctx.atRoot = false;\n    if (ctx.atKey)\n        ctx.atKey = false;\n    let offset = bs.offset;\n    let commentEnd = null;\n    for (const { start, value } of bs.items) {\n        const props = resolveProps(start, {\n            indicator: 'seq-item-ind',\n            next: value,\n            offset,\n            onError,\n            parentIndent: bs.indent,\n            startOnNewline: true\n        });\n        if (!props.found) {\n            if (props.anchor || props.tag || value) {\n                if (value?.type === 'block-seq')\n                    onError(props.end, 'BAD_INDENT', 'All sequence items must start at the same column');\n                else\n                    onError(offset, 'MISSING_CHAR', 'Sequence item without - indicator');\n            }\n            else {\n                commentEnd = props.end;\n                if (props.comment)\n                    seq.comment = props.comment;\n                continue;\n            }\n        }\n        const node = value\n            ? composeNode(ctx, value, props, onError)\n            : composeEmptyNode(ctx, props.end, start, null, props, onError);\n        if (ctx.schema.compat)\n            flowIndentCheck(bs.indent, value, onError);\n        offset = node.range[2];\n        seq.items.push(node);\n    }\n    seq.range = [bs.offset, offset, commentEnd ?? offset];\n    return seq;\n}\n\nexport { resolveBlockSeq };\n","import { Scalar } from '../nodes/Scalar.js';\n\nfunction resolveBlockScalar(ctx, scalar, onError) {\n    const start = scalar.offset;\n    const header = parseBlockScalarHeader(scalar, ctx.options.strict, onError);\n    if (!header)\n        return { value: '', type: null, comment: '', range: [start, start, start] };\n    const type = header.mode === '>' ? Scalar.BLOCK_FOLDED : Scalar.BLOCK_LITERAL;\n    const lines = scalar.source ? splitLines(scalar.source) : [];\n    // determine the end of content & start of chomping\n    let chompStart = lines.length;\n    for (let i = lines.length - 1; i >= 0; --i) {\n        const content = lines[i][1];\n        if (content === '' || content === '\\r')\n            chompStart = i;\n        else\n            break;\n    }\n    // shortcut for empty contents\n    if (chompStart === 0) {\n        const value = header.chomp === '+' && lines.length > 0\n            ? '\\n'.repeat(Math.max(1, lines.length - 1))\n            : '';\n        let end = start + header.length;\n        if (scalar.source)\n            end += scalar.source.length;\n        return { value, type, comment: header.comment, range: [start, end, end] };\n    }\n    // find the indentation level to trim from start\n    let trimIndent = scalar.indent + header.indent;\n    let offset = scalar.offset + header.length;\n    let contentStart = 0;\n    for (let i = 0; i < chompStart; ++i) {\n        const [indent, content] = lines[i];\n        if (content === '' || content === '\\r') {\n            if (header.indent === 0 && indent.length > trimIndent)\n                trimIndent = indent.length;\n        }\n        else {\n            if (indent.length < trimIndent) {\n                const message = 'Block scalars with more-indented leading empty lines must use an explicit indentation indicator';\n                onError(offset + indent.length, 'MISSING_CHAR', message);\n            }\n            if (header.indent === 0)\n                trimIndent = indent.length;\n            contentStart = i;\n            if (trimIndent === 0 && !ctx.atRoot) {\n                const message = 'Block scalar values in collections must be indented';\n                onError(offset, 'BAD_INDENT', message);\n            }\n            break;\n        }\n        offset += indent.length + content.length + 1;\n    }\n    // include trailing more-indented empty lines in content\n    for (let i = lines.length - 1; i >= chompStart; --i) {\n        if (lines[i][0].length > trimIndent)\n            chompStart = i + 1;\n    }\n    let value = '';\n    let sep = '';\n    let prevMoreIndented = false;\n    // leading whitespace is kept intact\n    for (let i = 0; i < contentStart; ++i)\n        value += lines[i][0].slice(trimIndent) + '\\n';\n    for (let i = contentStart; i < chompStart; ++i) {\n        let [indent, content] = lines[i];\n        offset += indent.length + content.length + 1;\n        const crlf = content[content.length - 1] === '\\r';\n        if (crlf)\n            content = content.slice(0, -1);\n        /* istanbul ignore if already caught in lexer */\n        if (content && indent.length < trimIndent) {\n            const src = header.indent\n                ? 'explicit indentation indicator'\n                : 'first line';\n            const message = `Block scalar lines must not be less indented than their ${src}`;\n            onError(offset - content.length - (crlf ? 2 : 1), 'BAD_INDENT', message);\n            indent = '';\n        }\n        if (type === Scalar.BLOCK_LITERAL) {\n            value += sep + indent.slice(trimIndent) + content;\n            sep = '\\n';\n        }\n        else if (indent.length > trimIndent || content[0] === '\\t') {\n            // more-indented content within a folded block\n            if (sep === ' ')\n                sep = '\\n';\n            else if (!prevMoreIndented && sep === '\\n')\n                sep = '\\n\\n';\n            value += sep + indent.slice(trimIndent) + content;\n            sep = '\\n';\n            prevMoreIndented = true;\n        }\n        else if (content === '') {\n            // empty line\n            if (sep === '\\n')\n                value += '\\n';\n            else\n                sep = '\\n';\n        }\n        else {\n            value += sep + content;\n            sep = ' ';\n            prevMoreIndented = false;\n        }\n    }\n    switch (header.chomp) {\n        case '-':\n            break;\n        case '+':\n            for (let i = chompStart; i < lines.length; ++i)\n                value += '\\n' + lines[i][0].slice(trimIndent);\n            if (value[value.length - 1] !== '\\n')\n                value += '\\n';\n            break;\n        default:\n            value += '\\n';\n    }\n    const end = start + header.length + scalar.source.length;\n    return { value, type, comment: header.comment, range: [start, end, end] };\n}\nfunction parseBlockScalarHeader({ offset, props }, strict, onError) {\n    /* istanbul ignore if should not happen */\n    if (props[0].type !== 'block-scalar-header') {\n        onError(props[0], 'IMPOSSIBLE', 'Block scalar header not found');\n        return null;\n    }\n    const { source } = props[0];\n    const mode = source[0];\n    let indent = 0;\n    let chomp = '';\n    let error = -1;\n    for (let i = 1; i < source.length; ++i) {\n        const ch = source[i];\n        if (!chomp && (ch === '-' || ch === '+'))\n            chomp = ch;\n        else {\n            const n = Number(ch);\n            if (!indent && n)\n                indent = n;\n            else if (error === -1)\n                error = offset + i;\n        }\n    }\n    if (error !== -1)\n        onError(error, 'UNEXPECTED_TOKEN', `Block scalar header includes extra characters: ${source}`);\n    let hasSpace = false;\n    let comment = '';\n    let length = source.length;\n    for (let i = 1; i < props.length; ++i) {\n        const token = props[i];\n        switch (token.type) {\n            case 'space':\n                hasSpace = true;\n            // fallthrough\n            case 'newline':\n                length += token.source.length;\n                break;\n            case 'comment':\n                if (strict && !hasSpace) {\n                    const message = 'Comments must be separated from other tokens by white space characters';\n                    onError(token, 'MISSING_CHAR', message);\n                }\n                length += token.source.length;\n                comment = token.source.substring(1);\n                break;\n            case 'error':\n                onError(token, 'UNEXPECTED_TOKEN', token.message);\n                length += token.source.length;\n                break;\n            /* istanbul ignore next should not happen */\n            default: {\n                const message = `Unexpected token in block scalar header: ${token.type}`;\n                onError(token, 'UNEXPECTED_TOKEN', message);\n                const ts = token.source;\n                if (ts && typeof ts === 'string')\n                    length += ts.length;\n            }\n        }\n    }\n    return { mode, indent, chomp, comment, length };\n}\n/** @returns Array of lines split up as `[indent, content]` */\nfunction splitLines(source) {\n    const split = source.split(/\\n( *)/);\n    const first = split[0];\n    const m = first.match(/^( *)/);\n    const line0 = m?.[1]\n        ? [m[1], first.slice(m[1].length)]\n        : ['', first];\n    const lines = [line0];\n    for (let i = 1; i < split.length; i += 2)\n        lines.push([split[i], split[i + 1]]);\n    return lines;\n}\n\nexport { resolveBlockScalar };\n","import { Scalar } from '../nodes/Scalar.js';\nimport { resolveEnd } from './resolve-end.js';\n\nfunction resolveFlowScalar(scalar, strict, onError) {\n    const { offset, type, source, end } = scalar;\n    let _type;\n    let value;\n    const _onError = (rel, code, msg) => onError(offset + rel, code, msg);\n    switch (type) {\n        case 'scalar':\n            _type = Scalar.PLAIN;\n            value = plainValue(source, _onError);\n            break;\n        case 'single-quoted-scalar':\n            _type = Scalar.QUOTE_SINGLE;\n            value = singleQuotedValue(source, _onError);\n            break;\n        case 'double-quoted-scalar':\n            _type = Scalar.QUOTE_DOUBLE;\n            value = doubleQuotedValue(source, _onError);\n            break;\n        /* istanbul ignore next should not happen */\n        default:\n            onError(scalar, 'UNEXPECTED_TOKEN', `Expected a flow scalar value, but found: ${type}`);\n            return {\n                value: '',\n                type: null,\n                comment: '',\n                range: [offset, offset + source.length, offset + source.length]\n            };\n    }\n    const valueEnd = offset + source.length;\n    const re = resolveEnd(end, valueEnd, strict, onError);\n    return {\n        value,\n        type: _type,\n        comment: re.comment,\n        range: [offset, valueEnd, re.offset]\n    };\n}\nfunction plainValue(source, onError) {\n    let badChar = '';\n    switch (source[0]) {\n        /* istanbul ignore next should not happen */\n        case '\\t':\n            badChar = 'a tab character';\n            break;\n        case ',':\n            badChar = 'flow indicator character ,';\n            break;\n        case '%':\n            badChar = 'directive indicator character %';\n            break;\n        case '|':\n        case '>': {\n            badChar = `block scalar indicator ${source[0]}`;\n            break;\n        }\n        case '@':\n        case '`': {\n            badChar = `reserved character ${source[0]}`;\n            break;\n        }\n    }\n    if (badChar)\n        onError(0, 'BAD_SCALAR_START', `Plain value cannot start with ${badChar}`);\n    return foldLines(source);\n}\nfunction singleQuotedValue(source, onError) {\n    if (source[source.length - 1] !== \"'\" || source.length === 1)\n        onError(source.length, 'MISSING_CHAR', \"Missing closing 'quote\");\n    return foldLines(source.slice(1, -1)).replace(/''/g, \"'\");\n}\nfunction foldLines(source) {\n    /**\n     * The negative lookbehind here and in the `re` RegExp is to\n     * prevent causing a polynomial search time in certain cases.\n     *\n     * The try-catch is for Safari, which doesn't support this yet:\n     * https://caniuse.com/js-regexp-lookbehind\n     */\n    let first, line;\n    try {\n        first = new RegExp('(.*?)(?<![ \\t])[ \\t]*\\r?\\n', 'sy');\n        line = new RegExp('[ \\t]*(.*?)(?:(?<![ \\t])[ \\t]*)?\\r?\\n', 'sy');\n    }\n    catch {\n        first = /(.*?)[ \\t]*\\r?\\n/sy;\n        line = /[ \\t]*(.*?)[ \\t]*\\r?\\n/sy;\n    }\n    let match = first.exec(source);\n    if (!match)\n        return source;\n    let res = match[1];\n    let sep = ' ';\n    let pos = first.lastIndex;\n    line.lastIndex = pos;\n    while ((match = line.exec(source))) {\n        if (match[1] === '') {\n            if (sep === '\\n')\n                res += sep;\n            else\n                sep = '\\n';\n        }\n        else {\n            res += sep + match[1];\n            sep = ' ';\n        }\n        pos = line.lastIndex;\n    }\n    const last = /[ \\t]*(.*)/sy;\n    last.lastIndex = pos;\n    match = last.exec(source);\n    return res + sep + (match?.[1] ?? '');\n}\nfunction doubleQuotedValue(source, onError) {\n    let res = '';\n    for (let i = 1; i < source.length - 1; ++i) {\n        const ch = source[i];\n        if (ch === '\\r' && source[i + 1] === '\\n')\n            continue;\n        if (ch === '\\n') {\n            const { fold, offset } = foldNewline(source, i);\n            res += fold;\n            i = offset;\n        }\n        else if (ch === '\\\\') {\n            let next = source[++i];\n            const cc = escapeCodes[next];\n            if (cc)\n                res += cc;\n            else if (next === '\\n') {\n                // skip escaped newlines, but still trim the following line\n                next = source[i + 1];\n                while (next === ' ' || next === '\\t')\n                    next = source[++i + 1];\n            }\n            else if (next === '\\r' && source[i + 1] === '\\n') {\n                // skip escaped CRLF newlines, but still trim the following line\n                next = source[++i + 1];\n                while (next === ' ' || next === '\\t')\n                    next = source[++i + 1];\n            }\n            else if (next === 'x' || next === 'u' || next === 'U') {\n                const length = { x: 2, u: 4, U: 8 }[next];\n                res += parseCharCode(source, i + 1, length, onError);\n                i += length;\n            }\n            else {\n                const raw = source.substr(i - 1, 2);\n                onError(i - 1, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\n                res += raw;\n            }\n        }\n        else if (ch === ' ' || ch === '\\t') {\n            // trim trailing whitespace\n            const wsStart = i;\n            let next = source[i + 1];\n            while (next === ' ' || next === '\\t')\n                next = source[++i + 1];\n            if (next !== '\\n' && !(next === '\\r' && source[i + 2] === '\\n'))\n                res += i > wsStart ? source.slice(wsStart, i + 1) : ch;\n        }\n        else {\n            res += ch;\n        }\n    }\n    if (source[source.length - 1] !== '\"' || source.length === 1)\n        onError(source.length, 'MISSING_CHAR', 'Missing closing \"quote');\n    return res;\n}\n/**\n * Fold a single newline into a space, multiple newlines to N - 1 newlines.\n * Presumes `source[offset] === '\\n'`\n */\nfunction foldNewline(source, offset) {\n    let fold = '';\n    let ch = source[offset + 1];\n    while (ch === ' ' || ch === '\\t' || ch === '\\n' || ch === '\\r') {\n        if (ch === '\\r' && source[offset + 2] !== '\\n')\n            break;\n        if (ch === '\\n')\n            fold += '\\n';\n        offset += 1;\n        ch = source[offset + 1];\n    }\n    if (!fold)\n        fold = ' ';\n    return { fold, offset };\n}\nconst escapeCodes = {\n    '0': '\\0', // null character\n    a: '\\x07', // bell character\n    b: '\\b', // backspace\n    e: '\\x1b', // escape character\n    f: '\\f', // form feed\n    n: '\\n', // line feed\n    r: '\\r', // carriage return\n    t: '\\t', // horizontal tab\n    v: '\\v', // vertical tab\n    N: '\\u0085', // Unicode next line\n    _: '\\u00a0', // Unicode non-breaking space\n    L: '\\u2028', // Unicode line separator\n    P: '\\u2029', // Unicode paragraph separator\n    ' ': ' ',\n    '\"': '\"',\n    '/': '/',\n    '\\\\': '\\\\',\n    '\\t': '\\t'\n};\nfunction parseCharCode(source, offset, length, onError) {\n    const cc = source.substr(offset, length);\n    const ok = cc.length === length && /^[0-9a-fA-F]+$/.test(cc);\n    const code = ok ? parseInt(cc, 16) : NaN;\n    if (isNaN(code)) {\n        const raw = source.substr(offset - 2, length + 2);\n        onError(offset - 2, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\n        return raw;\n    }\n    return String.fromCodePoint(code);\n}\n\nexport { resolveFlowScalar };\n","import { isScalar, SCALAR } from '../nodes/identity.js';\nimport { Scalar } from '../nodes/Scalar.js';\nimport { resolveBlockScalar } from './resolve-block-scalar.js';\nimport { resolveFlowScalar } from './resolve-flow-scalar.js';\n\nfunction composeScalar(ctx, token, tagToken, onError) {\n    const { value, type, comment, range } = token.type === 'block-scalar'\n        ? resolveBlockScalar(ctx, token, onError)\n        : resolveFlowScalar(token, ctx.options.strict, onError);\n    const tagName = tagToken\n        ? ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg))\n        : null;\n    let tag;\n    if (ctx.options.stringKeys && ctx.atKey) {\n        tag = ctx.schema[SCALAR];\n    }\n    else if (tagName)\n        tag = findScalarTagByName(ctx.schema, value, tagName, tagToken, onError);\n    else if (token.type === 'scalar')\n        tag = findScalarTagByTest(ctx, value, token, onError);\n    else\n        tag = ctx.schema[SCALAR];\n    let scalar;\n    try {\n        const res = tag.resolve(value, msg => onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg), ctx.options);\n        scalar = isScalar(res) ? res : new Scalar(res);\n    }\n    catch (error) {\n        const msg = error instanceof Error ? error.message : String(error);\n        onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg);\n        scalar = new Scalar(value);\n    }\n    scalar.range = range;\n    scalar.source = value;\n    if (type)\n        scalar.type = type;\n    if (tagName)\n        scalar.tag = tagName;\n    if (tag.format)\n        scalar.format = tag.format;\n    if (comment)\n        scalar.comment = comment;\n    return scalar;\n}\nfunction findScalarTagByName(schema, value, tagName, tagToken, onError) {\n    if (tagName === '!')\n        return schema[SCALAR]; // non-specific tag\n    const matchWithTest = [];\n    for (const tag of schema.tags) {\n        if (!tag.collection && tag.tag === tagName) {\n            if (tag.default && tag.test)\n                matchWithTest.push(tag);\n            else\n                return tag;\n        }\n    }\n    for (const tag of matchWithTest)\n        if (tag.test?.test(value))\n            return tag;\n    const kt = schema.knownTags[tagName];\n    if (kt && !kt.collection) {\n        // Ensure that the known tag is available for stringifying,\n        // but does not get used by default.\n        schema.tags.push(Object.assign({}, kt, { default: false, test: undefined }));\n        return kt;\n    }\n    onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, tagName !== 'tag:yaml.org,2002:str');\n    return schema[SCALAR];\n}\nfunction findScalarTagByTest({ atKey, directives, schema }, value, token, onError) {\n    const tag = schema.tags.find(tag => (tag.default === true || (atKey && tag.default === 'key')) &&\n        tag.test?.test(value)) || schema[SCALAR];\n    if (schema.compat) {\n        const compat = schema.compat.find(tag => tag.default && tag.test?.test(value)) ??\n            schema[SCALAR];\n        if (tag.tag !== compat.tag) {\n            const ts = directives.tagString(tag.tag);\n            const cs = directives.tagString(compat.tag);\n            const msg = `Value may be parsed as either ${ts} or ${cs}`;\n            onError(token, 'TAG_RESOLVE_FAILED', msg, true);\n        }\n    }\n    return tag;\n}\n\nexport { composeScalar };\n","function emptyScalarPosition(offset, before, pos) {\n    if (before) {\n        pos ?? (pos = before.length);\n        for (let i = pos - 1; i >= 0; --i) {\n            let st = before[i];\n            switch (st.type) {\n                case 'space':\n                case 'comment':\n                case 'newline':\n                    offset -= st.source.length;\n                    continue;\n            }\n            // Technically, an empty scalar is immediately after the last non-empty\n            // node, but it's more useful to place it after any whitespace.\n            st = before[++i];\n            while (st?.type === 'space') {\n                offset += st.source.length;\n                st = before[++i];\n            }\n            break;\n        }\n    }\n    return offset;\n}\n\nexport { emptyScalarPosition };\n","import { Alias } from '../nodes/Alias.js';\nimport { isScalar } from '../nodes/identity.js';\nimport { composeCollection } from './compose-collection.js';\nimport { composeScalar } from './compose-scalar.js';\nimport { resolveEnd } from './resolve-end.js';\nimport { emptyScalarPosition } from './util-empty-scalar-position.js';\n\nconst CN = { composeNode, composeEmptyNode };\nfunction composeNode(ctx, token, props, onError) {\n    const atKey = ctx.atKey;\n    const { spaceBefore, comment, anchor, tag } = props;\n    let node;\n    let isSrcToken = true;\n    switch (token.type) {\n        case 'alias':\n            node = composeAlias(ctx, token, onError);\n            if (anchor || tag)\n                onError(token, 'ALIAS_PROPS', 'An alias node must not specify any properties');\n            break;\n        case 'scalar':\n        case 'single-quoted-scalar':\n        case 'double-quoted-scalar':\n        case 'block-scalar':\n            node = composeScalar(ctx, token, tag, onError);\n            if (anchor)\n                node.anchor = anchor.source.substring(1);\n            break;\n        case 'block-map':\n        case 'block-seq':\n        case 'flow-collection':\n            node = composeCollection(CN, ctx, token, props, onError);\n            if (anchor)\n                node.anchor = anchor.source.substring(1);\n            break;\n        default: {\n            const message = token.type === 'error'\n                ? token.message\n                : `Unsupported token (type: ${token.type})`;\n            onError(token, 'UNEXPECTED_TOKEN', message);\n            node = composeEmptyNode(ctx, token.offset, undefined, null, props, onError);\n            isSrcToken = false;\n        }\n    }\n    if (anchor && node.anchor === '')\n        onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\n    if (atKey &&\n        ctx.options.stringKeys &&\n        (!isScalar(node) ||\n            typeof node.value !== 'string' ||\n            (node.tag && node.tag !== 'tag:yaml.org,2002:str'))) {\n        const msg = 'With stringKeys, all keys must be strings';\n        onError(tag ?? token, 'NON_STRING_KEY', msg);\n    }\n    if (spaceBefore)\n        node.spaceBefore = true;\n    if (comment) {\n        if (token.type === 'scalar' && token.source === '')\n            node.comment = comment;\n        else\n            node.commentBefore = comment;\n    }\n    // @ts-expect-error Type checking misses meaning of isSrcToken\n    if (ctx.options.keepSourceTokens && isSrcToken)\n        node.srcToken = token;\n    return node;\n}\nfunction composeEmptyNode(ctx, offset, before, pos, { spaceBefore, comment, anchor, tag, end }, onError) {\n    const token = {\n        type: 'scalar',\n        offset: emptyScalarPosition(offset, before, pos),\n        indent: -1,\n        source: ''\n    };\n    const node = composeScalar(ctx, token, tag, onError);\n    if (anchor) {\n        node.anchor = anchor.source.substring(1);\n        if (node.anchor === '')\n            onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\n    }\n    if (spaceBefore)\n        node.spaceBefore = true;\n    if (comment) {\n        node.comment = comment;\n        node.range[2] = end;\n    }\n    return node;\n}\nfunction composeAlias({ options }, { offset, source, end }, onError) {\n    const alias = new Alias(source.substring(1));\n    if (alias.source === '')\n        onError(offset, 'BAD_ALIAS', 'Alias cannot be an empty string');\n    if (alias.source.endsWith(':'))\n        onError(offset + source.length - 1, 'BAD_ALIAS', 'Alias ending in : is ambiguous', true);\n    const valueEnd = offset + source.length;\n    const re = resolveEnd(end, valueEnd, options.strict, onError);\n    alias.range = [offset, valueEnd, re.offset];\n    if (re.comment)\n        alias.comment = re.comment;\n    return alias;\n}\n\nexport { composeEmptyNode, composeNode };\n","import { Directives } from '../doc/directives.js';\nimport { Document } from '../doc/Document.js';\nimport { YAMLWarning, YAMLParseError } from '../errors.js';\nimport { isCollection, isPair } from '../nodes/identity.js';\nimport { composeDoc } from './compose-doc.js';\nimport { resolveEnd } from './resolve-end.js';\n\nfunction getErrorPos(src) {\n    if (typeof src === 'number')\n        return [src, src + 1];\n    if (Array.isArray(src))\n        return src.length === 2 ? src : [src[0], src[1]];\n    const { offset, source } = src;\n    return [offset, offset + (typeof source === 'string' ? source.length : 1)];\n}\nfunction parsePrelude(prelude) {\n    let comment = '';\n    let atComment = false;\n    let afterEmptyLine = false;\n    for (let i = 0; i < prelude.length; ++i) {\n        const source = prelude[i];\n        switch (source[0]) {\n            case '#':\n                comment +=\n                    (comment === '' ? '' : afterEmptyLine ? '\\n\\n' : '\\n') +\n                        (source.substring(1) || ' ');\n                atComment = true;\n                afterEmptyLine = false;\n                break;\n            case '%':\n                if (prelude[i + 1]?.[0] !== '#')\n                    i += 1;\n                atComment = false;\n                break;\n            default:\n                // This may be wrong after doc-end, but in that case it doesn't matter\n                if (!atComment)\n                    afterEmptyLine = true;\n                atComment = false;\n        }\n    }\n    return { comment, afterEmptyLine };\n}\n/**\n * Compose a stream of CST nodes into a stream of YAML Documents.\n *\n * ```ts\n * import { Composer, Parser } from 'yaml'\n *\n * const src: string = ...\n * const tokens = new Parser().parse(src)\n * const docs = new Composer().compose(tokens)\n * ```\n */\nclass Composer {\n    constructor(options = {}) {\n        this.doc = null;\n        this.atDirectives = false;\n        this.prelude = [];\n        this.errors = [];\n        this.warnings = [];\n        this.onError = (source, code, message, warning) => {\n            const pos = getErrorPos(source);\n            if (warning)\n                this.warnings.push(new YAMLWarning(pos, code, message));\n            else\n                this.errors.push(new YAMLParseError(pos, code, message));\n        };\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        this.directives = new Directives({ version: options.version || '1.2' });\n        this.options = options;\n    }\n    decorate(doc, afterDoc) {\n        const { comment, afterEmptyLine } = parsePrelude(this.prelude);\n        //console.log({ dc: doc.comment, prelude, comment })\n        if (comment) {\n            const dc = doc.contents;\n            if (afterDoc) {\n                doc.comment = doc.comment ? `${doc.comment}\\n${comment}` : comment;\n            }\n            else if (afterEmptyLine || doc.directives.docStart || !dc) {\n                doc.commentBefore = comment;\n            }\n            else if (isCollection(dc) && !dc.flow && dc.items.length > 0) {\n                let it = dc.items[0];\n                if (isPair(it))\n                    it = it.key;\n                const cb = it.commentBefore;\n                it.commentBefore = cb ? `${comment}\\n${cb}` : comment;\n            }\n            else {\n                const cb = dc.commentBefore;\n                dc.commentBefore = cb ? `${comment}\\n${cb}` : comment;\n            }\n        }\n        if (afterDoc) {\n            Array.prototype.push.apply(doc.errors, this.errors);\n            Array.prototype.push.apply(doc.warnings, this.warnings);\n        }\n        else {\n            doc.errors = this.errors;\n            doc.warnings = this.warnings;\n        }\n        this.prelude = [];\n        this.errors = [];\n        this.warnings = [];\n    }\n    /**\n     * Current stream status information.\n     *\n     * Mostly useful at the end of input for an empty stream.\n     */\n    streamInfo() {\n        return {\n            comment: parsePrelude(this.prelude).comment,\n            directives: this.directives,\n            errors: this.errors,\n            warnings: this.warnings\n        };\n    }\n    /**\n     * Compose tokens into documents.\n     *\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\n     */\n    *compose(tokens, forceDoc = false, endOffset = -1) {\n        for (const token of tokens)\n            yield* this.next(token);\n        yield* this.end(forceDoc, endOffset);\n    }\n    /** Advance the composer by one CST token. */\n    *next(token) {\n        switch (token.type) {\n            case 'directive':\n                this.directives.add(token.source, (offset, message, warning) => {\n                    const pos = getErrorPos(token);\n                    pos[0] += offset;\n                    this.onError(pos, 'BAD_DIRECTIVE', message, warning);\n                });\n                this.prelude.push(token.source);\n                this.atDirectives = true;\n                break;\n            case 'document': {\n                const doc = composeDoc(this.options, this.directives, token, this.onError);\n                if (this.atDirectives && !doc.directives.docStart)\n                    this.onError(token, 'MISSING_CHAR', 'Missing directives-end/doc-start indicator line');\n                this.decorate(doc, false);\n                if (this.doc)\n                    yield this.doc;\n                this.doc = doc;\n                this.atDirectives = false;\n                break;\n            }\n            case 'byte-order-mark':\n            case 'space':\n                break;\n            case 'comment':\n            case 'newline':\n                this.prelude.push(token.source);\n                break;\n            case 'error': {\n                const msg = token.source\n                    ? `${token.message}: ${JSON.stringify(token.source)}`\n                    : token.message;\n                const error = new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg);\n                if (this.atDirectives || !this.doc)\n                    this.errors.push(error);\n                else\n                    this.doc.errors.push(error);\n                break;\n            }\n            case 'doc-end': {\n                if (!this.doc) {\n                    const msg = 'Unexpected doc-end without preceding document';\n                    this.errors.push(new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg));\n                    break;\n                }\n                this.doc.directives.docEnd = true;\n                const end = resolveEnd(token.end, token.offset + token.source.length, this.doc.options.strict, this.onError);\n                this.decorate(this.doc, true);\n                if (end.comment) {\n                    const dc = this.doc.comment;\n                    this.doc.comment = dc ? `${dc}\\n${end.comment}` : end.comment;\n                }\n                this.doc.range[2] = end.offset;\n                break;\n            }\n            default:\n                this.errors.push(new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', `Unsupported token ${token.type}`));\n        }\n    }\n    /**\n     * Call at end of input to yield any remaining document.\n     *\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\n     */\n    *end(forceDoc = false, endOffset = -1) {\n        if (this.doc) {\n            this.decorate(this.doc, true);\n            yield this.doc;\n            this.doc = null;\n        }\n        else if (forceDoc) {\n            const opts = Object.assign({ _directives: this.directives }, this.options);\n            const doc = new Document(undefined, opts);\n            if (this.atDirectives)\n                this.onError(endOffset, 'MISSING_CHAR', 'Missing directives-end indicator line');\n            doc.range = [0, endOffset, endOffset];\n            this.decorate(doc, false);\n            yield doc;\n        }\n    }\n}\n\nexport { Composer };\n","import { Document } from '../doc/Document.js';\nimport { composeNode, composeEmptyNode } from './compose-node.js';\nimport { resolveEnd } from './resolve-end.js';\nimport { resolveProps } from './resolve-props.js';\n\nfunction composeDoc(options, directives, { offset, start, value, end }, onError) {\n    const opts = Object.assign({ _directives: directives }, options);\n    const doc = new Document(undefined, opts);\n    const ctx = {\n        atKey: false,\n        atRoot: true,\n        directives: doc.directives,\n        options: doc.options,\n        schema: doc.schema\n    };\n    const props = resolveProps(start, {\n        indicator: 'doc-start',\n        next: value ?? end?.[0],\n        offset,\n        onError,\n        parentIndent: 0,\n        startOnNewline: true\n    });\n    if (props.found) {\n        doc.directives.docStart = true;\n        if (value &&\n            (value.type === 'block-map' || value.type === 'block-seq') &&\n            !props.hasNewline)\n            onError(props.end, 'MISSING_CHAR', 'Block collection cannot start on same line with directives-end marker');\n    }\n    // @ts-expect-error If Contents is set, let's trust the user\n    doc.contents = value\n        ? composeNode(ctx, value, props, onError)\n        : composeEmptyNode(ctx, props.end, start, null, props, onError);\n    const contentEnd = doc.contents.range[2];\n    const re = resolveEnd(end, contentEnd, false, onError);\n    if (re.comment)\n        doc.comment = re.comment;\n    doc.range = [offset, contentEnd, re.offset];\n    return doc;\n}\n\nexport { composeDoc };\n","import { resolveBlockScalar } from '../compose/resolve-block-scalar.js';\nimport { resolveFlowScalar } from '../compose/resolve-flow-scalar.js';\nimport { YAMLParseError } from '../errors.js';\nimport { stringifyString } from '../stringify/stringifyString.js';\n\nfunction resolveAsScalar(token, strict = true, onError) {\n    if (token) {\n        const _onError = (pos, code, message) => {\n            const offset = typeof pos === 'number' ? pos : Array.isArray(pos) ? pos[0] : pos.offset;\n            if (onError)\n                onError(offset, code, message);\n            else\n                throw new YAMLParseError([offset, offset + 1], code, message);\n        };\n        switch (token.type) {\n            case 'scalar':\n            case 'single-quoted-scalar':\n            case 'double-quoted-scalar':\n                return resolveFlowScalar(token, strict, _onError);\n            case 'block-scalar':\n                return resolveBlockScalar({ options: { strict } }, token, _onError);\n        }\n    }\n    return null;\n}\n/**\n * Create a new scalar token with `value`\n *\n * Values that represent an actual string but may be parsed as a different type should use a `type` other than `'PLAIN'`,\n * as this function does not support any schema operations and won't check for such conflicts.\n *\n * @param value The string representation of the value, which will have its content properly indented.\n * @param context.end Comments and whitespace after the end of the value, or after the block scalar header. If undefined, a newline will be added.\n * @param context.implicitKey Being within an implicit key may affect the resolved type of the token's value.\n * @param context.indent The indent level of the token.\n * @param context.inFlow Is this scalar within a flow collection? This may affect the resolved type of the token's value.\n * @param context.offset The offset position of the token.\n * @param context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `'PLAIN'`.\n */\nfunction createScalarToken(value, context) {\n    const { implicitKey = false, indent, inFlow = false, offset = -1, type = 'PLAIN' } = context;\n    const source = stringifyString({ type, value }, {\n        implicitKey,\n        indent: indent > 0 ? ' '.repeat(indent) : '',\n        inFlow,\n        options: { blockQuote: true, lineWidth: -1 }\n    });\n    const end = context.end ?? [\n        { type: 'newline', offset: -1, indent, source: '\\n' }\n    ];\n    switch (source[0]) {\n        case '|':\n        case '>': {\n            const he = source.indexOf('\\n');\n            const head = source.substring(0, he);\n            const body = source.substring(he + 1) + '\\n';\n            const props = [\n                { type: 'block-scalar-header', offset, indent, source: head }\n            ];\n            if (!addEndtoBlockProps(props, end))\n                props.push({ type: 'newline', offset: -1, indent, source: '\\n' });\n            return { type: 'block-scalar', offset, indent, props, source: body };\n        }\n        case '\"':\n            return { type: 'double-quoted-scalar', offset, indent, source, end };\n        case \"'\":\n            return { type: 'single-quoted-scalar', offset, indent, source, end };\n        default:\n            return { type: 'scalar', offset, indent, source, end };\n    }\n}\n/**\n * Set the value of `token` to the given string `value`, overwriting any previous contents and type that it may have.\n *\n * Best efforts are made to retain any comments previously associated with the `token`,\n * though all contents within a collection's `items` will be overwritten.\n *\n * Values that represent an actual string but may be parsed as a different type should use a `type` other than `'PLAIN'`,\n * as this function does not support any schema operations and won't check for such conflicts.\n *\n * @param token Any token. If it does not include an `indent` value, the value will be stringified as if it were an implicit key.\n * @param value The string representation of the value, which will have its content properly indented.\n * @param context.afterKey In most cases, values after a key should have an additional level of indentation.\n * @param context.implicitKey Being within an implicit key may affect the resolved type of the token's value.\n * @param context.inFlow Being within a flow collection may affect the resolved type of the token's value.\n * @param context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `'PLAIN'`.\n */\nfunction setScalarValue(token, value, context = {}) {\n    let { afterKey = false, implicitKey = false, inFlow = false, type } = context;\n    let indent = 'indent' in token ? token.indent : null;\n    if (afterKey && typeof indent === 'number')\n        indent += 2;\n    if (!type)\n        switch (token.type) {\n            case 'single-quoted-scalar':\n                type = 'QUOTE_SINGLE';\n                break;\n            case 'double-quoted-scalar':\n                type = 'QUOTE_DOUBLE';\n                break;\n            case 'block-scalar': {\n                const header = token.props[0];\n                if (header.type !== 'block-scalar-header')\n                    throw new Error('Invalid block scalar header');\n                type = header.source[0] === '>' ? 'BLOCK_FOLDED' : 'BLOCK_LITERAL';\n                break;\n            }\n            default:\n                type = 'PLAIN';\n        }\n    const source = stringifyString({ type, value }, {\n        implicitKey: implicitKey || indent === null,\n        indent: indent !== null && indent > 0 ? ' '.repeat(indent) : '',\n        inFlow,\n        options: { blockQuote: true, lineWidth: -1 }\n    });\n    switch (source[0]) {\n        case '|':\n        case '>':\n            setBlockScalarValue(token, source);\n            break;\n        case '\"':\n            setFlowScalarValue(token, source, 'double-quoted-scalar');\n            break;\n        case \"'\":\n            setFlowScalarValue(token, source, 'single-quoted-scalar');\n            break;\n        default:\n            setFlowScalarValue(token, source, 'scalar');\n    }\n}\nfunction setBlockScalarValue(token, source) {\n    const he = source.indexOf('\\n');\n    const head = source.substring(0, he);\n    const body = source.substring(he + 1) + '\\n';\n    if (token.type === 'block-scalar') {\n        const header = token.props[0];\n        if (header.type !== 'block-scalar-header')\n            throw new Error('Invalid block scalar header');\n        header.source = head;\n        token.source = body;\n    }\n    else {\n        const { offset } = token;\n        const indent = 'indent' in token ? token.indent : -1;\n        const props = [\n            { type: 'block-scalar-header', offset, indent, source: head }\n        ];\n        if (!addEndtoBlockProps(props, 'end' in token ? token.end : undefined))\n            props.push({ type: 'newline', offset: -1, indent, source: '\\n' });\n        for (const key of Object.keys(token))\n            if (key !== 'type' && key !== 'offset')\n                delete token[key];\n        Object.assign(token, { type: 'block-scalar', indent, props, source: body });\n    }\n}\n/** @returns `true` if last token is a newline */\nfunction addEndtoBlockProps(props, end) {\n    if (end)\n        for (const st of end)\n            switch (st.type) {\n                case 'space':\n                case 'comment':\n                    props.push(st);\n                    break;\n                case 'newline':\n                    props.push(st);\n                    return true;\n            }\n    return false;\n}\nfunction setFlowScalarValue(token, source, type) {\n    switch (token.type) {\n        case 'scalar':\n        case 'double-quoted-scalar':\n        case 'single-quoted-scalar':\n            token.type = type;\n            token.source = source;\n            break;\n        case 'block-scalar': {\n            const end = token.props.slice(1);\n            let oa = source.length;\n            if (token.props[0].type === 'block-scalar-header')\n                oa -= token.props[0].source.length;\n            for (const tok of end)\n                tok.offset += oa;\n            delete token.props;\n            Object.assign(token, { type, source, end });\n            break;\n        }\n        case 'block-map':\n        case 'block-seq': {\n            const offset = token.offset + source.length;\n            const nl = { type: 'newline', offset, indent: token.indent, source: '\\n' };\n            delete token.items;\n            Object.assign(token, { type, source, end: [nl] });\n            break;\n        }\n        default: {\n            const indent = 'indent' in token ? token.indent : -1;\n            const end = 'end' in token && Array.isArray(token.end)\n                ? token.end.filter(st => st.type === 'space' ||\n                    st.type === 'comment' ||\n                    st.type === 'newline')\n                : [];\n            for (const key of Object.keys(token))\n                if (key !== 'type' && key !== 'offset')\n                    delete token[key];\n            Object.assign(token, { type, indent, source, end });\n        }\n    }\n}\n\nexport { createScalarToken, resolveAsScalar, setScalarValue };\n","/**\n * Stringify a CST document, token, or collection item\n *\n * Fair warning: This applies no validation whatsoever, and\n * simply concatenates the sources in their logical order.\n */\nconst stringify = (cst) => 'type' in cst ? stringifyToken(cst) : stringifyItem(cst);\nfunction stringifyToken(token) {\n    switch (token.type) {\n        case 'block-scalar': {\n            let res = '';\n            for (const tok of token.props)\n                res += stringifyToken(tok);\n            return res + token.source;\n        }\n        case 'block-map':\n        case 'block-seq': {\n            let res = '';\n            for (const item of token.items)\n                res += stringifyItem(item);\n            return res;\n        }\n        case 'flow-collection': {\n            let res = token.start.source;\n            for (const item of token.items)\n                res += stringifyItem(item);\n            for (const st of token.end)\n                res += st.source;\n            return res;\n        }\n        case 'document': {\n            let res = stringifyItem(token);\n            if (token.end)\n                for (const st of token.end)\n                    res += st.source;\n            return res;\n        }\n        default: {\n            let res = token.source;\n            if ('end' in token && token.end)\n                for (const st of token.end)\n                    res += st.source;\n            return res;\n        }\n    }\n}\nfunction stringifyItem({ start, key, sep, value }) {\n    let res = '';\n    for (const st of start)\n        res += st.source;\n    if (key)\n        res += stringifyToken(key);\n    if (sep)\n        for (const st of sep)\n            res += st.source;\n    if (value)\n        res += stringifyToken(value);\n    return res;\n}\n\nexport { stringify };\n","const BREAK = Symbol('break visit');\nconst SKIP = Symbol('skip children');\nconst REMOVE = Symbol('remove item');\n/**\n * Apply a visitor to a CST document or item.\n *\n * Walks through the tree (depth-first) starting from the root, calling a\n * `visitor` function with two arguments when entering each item:\n *   - `item`: The current item, which included the following members:\n *     - `start: SourceToken[]`  Source tokens before the key or value,\n *       possibly including its anchor or tag.\n *     - `key?: Token | null`  Set for pair values. May then be `null`, if\n *       the key before the `:` separator is empty.\n *     - `sep?: SourceToken[]`  Source tokens between the key and the value,\n *       which should include the `:` map value indicator if `value` is set.\n *     - `value?: Token`  The value of a sequence item, or of a map pair.\n *   - `path`: The steps from the root to the current node, as an array of\n *     `['key' | 'value', number]` tuples.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this token, continue with\n *      next sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current item, then continue with the next one\n *   - `number`: Set the index of the next step. This is useful especially if\n *     the index of the current token has changed.\n *   - `function`: Define the next visitor for this item. After the original\n *     visitor is called on item entry, next visitors are called after handling\n *     a non-empty `key` and when exiting the item.\n */\nfunction visit(cst, visitor) {\n    if ('type' in cst && cst.type === 'document')\n        cst = { start: cst.start, value: cst.value };\n    _visit(Object.freeze([]), cst, visitor);\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisit.BREAK = BREAK;\n/** Do not visit the children of the current item */\nvisit.SKIP = SKIP;\n/** Remove the current item */\nvisit.REMOVE = REMOVE;\n/** Find the item at `path` from `cst` as the root */\nvisit.itemAtPath = (cst, path) => {\n    let item = cst;\n    for (const [field, index] of path) {\n        const tok = item?.[field];\n        if (tok && 'items' in tok) {\n            item = tok.items[index];\n        }\n        else\n            return undefined;\n    }\n    return item;\n};\n/**\n * Get the immediate parent collection of the item at `path` from `cst` as the root.\n *\n * Throws an error if the collection is not found, which should never happen if the item itself exists.\n */\nvisit.parentCollection = (cst, path) => {\n    const parent = visit.itemAtPath(cst, path.slice(0, -1));\n    const field = path[path.length - 1][0];\n    const coll = parent?.[field];\n    if (coll && 'items' in coll)\n        return coll;\n    throw new Error('Parent collection not found');\n};\nfunction _visit(path, item, visitor) {\n    let ctrl = visitor(item, path);\n    if (typeof ctrl === 'symbol')\n        return ctrl;\n    for (const field of ['key', 'value']) {\n        const token = item[field];\n        if (token && 'items' in token) {\n            for (let i = 0; i < token.items.length; ++i) {\n                const ci = _visit(Object.freeze(path.concat([[field, i]])), token.items[i], visitor);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    token.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n            if (typeof ctrl === 'function' && field === 'key')\n                ctrl = ctrl(item, path);\n        }\n    }\n    return typeof ctrl === 'function' ? ctrl(item, path) : ctrl;\n}\n\nexport { visit };\n","export { createScalarToken, resolveAsScalar, setScalarValue } from './cst-scalar.js';\nexport { stringify } from './cst-stringify.js';\nexport { visit } from './cst-visit.js';\n\n/** The byte order mark */\nconst BOM = '\\u{FEFF}';\n/** Start of doc-mode */\nconst DOCUMENT = '\\x02'; // C0: Start of Text\n/** Unexpected end of flow-mode */\nconst FLOW_END = '\\x18'; // C0: Cancel\n/** Next token is a scalar value */\nconst SCALAR = '\\x1f'; // C0: Unit Separator\n/** @returns `true` if `token` is a flow or block collection */\nconst isCollection = (token) => !!token && 'items' in token;\n/** @returns `true` if `token` is a flow or block scalar; not an alias */\nconst isScalar = (token) => !!token &&\n    (token.type === 'scalar' ||\n        token.type === 'single-quoted-scalar' ||\n        token.type === 'double-quoted-scalar' ||\n        token.type === 'block-scalar');\n/* istanbul ignore next */\n/** Get a printable representation of a lexer token */\nfunction prettyToken(token) {\n    switch (token) {\n        case BOM:\n            return '<BOM>';\n        case DOCUMENT:\n            return '<DOC>';\n        case FLOW_END:\n            return '<FLOW_END>';\n        case SCALAR:\n            return '<SCALAR>';\n        default:\n            return JSON.stringify(token);\n    }\n}\n/** Identify the type of a lexer token. May return `null` for unknown tokens. */\nfunction tokenType(source) {\n    switch (source) {\n        case BOM:\n            return 'byte-order-mark';\n        case DOCUMENT:\n            return 'doc-mode';\n        case FLOW_END:\n            return 'flow-error-end';\n        case SCALAR:\n            return 'scalar';\n        case '---':\n            return 'doc-start';\n        case '...':\n            return 'doc-end';\n        case '':\n        case '\\n':\n        case '\\r\\n':\n            return 'newline';\n        case '-':\n            return 'seq-item-ind';\n        case '?':\n            return 'explicit-key-ind';\n        case ':':\n            return 'map-value-ind';\n        case '{':\n            return 'flow-map-start';\n        case '}':\n            return 'flow-map-end';\n        case '[':\n            return 'flow-seq-start';\n        case ']':\n            return 'flow-seq-end';\n        case ',':\n            return 'comma';\n    }\n    switch (source[0]) {\n        case ' ':\n        case '\\t':\n            return 'space';\n        case '#':\n            return 'comment';\n        case '%':\n            return 'directive-line';\n        case '*':\n            return 'alias';\n        case '&':\n            return 'anchor';\n        case '!':\n            return 'tag';\n        case \"'\":\n            return 'single-quoted-scalar';\n        case '\"':\n            return 'double-quoted-scalar';\n        case '|':\n        case '>':\n            return 'block-scalar-header';\n    }\n    return null;\n}\n\nexport { BOM, DOCUMENT, FLOW_END, SCALAR, isCollection, isScalar, prettyToken, tokenType };\n","import { BOM, DOCUMENT, FLOW_END, SCALAR } from './cst.js';\n\n/*\nSTART -> stream\n\nstream\n  directive -> line-end -> stream\n  indent + line-end -> stream\n  [else] -> line-start\n\nline-end\n  comment -> line-end\n  newline -> .\n  input-end -> END\n\nline-start\n  doc-start -> doc\n  doc-end -> stream\n  [else] -> indent -> block-start\n\nblock-start\n  seq-item-start -> block-start\n  explicit-key-start -> block-start\n  map-value-start -> block-start\n  [else] -> doc\n\ndoc\n  line-end -> line-start\n  spaces -> doc\n  anchor -> doc\n  tag -> doc\n  flow-start -> flow -> doc\n  flow-end -> error -> doc\n  seq-item-start -> error -> doc\n  explicit-key-start -> error -> doc\n  map-value-start -> doc\n  alias -> doc\n  quote-start -> quoted-scalar -> doc\n  block-scalar-header -> line-end -> block-scalar(min) -> line-start\n  [else] -> plain-scalar(false, min) -> doc\n\nflow\n  line-end -> flow\n  spaces -> flow\n  anchor -> flow\n  tag -> flow\n  flow-start -> flow -> flow\n  flow-end -> .\n  seq-item-start -> error -> flow\n  explicit-key-start -> flow\n  map-value-start -> flow\n  alias -> flow\n  quote-start -> quoted-scalar -> flow\n  comma -> flow\n  [else] -> plain-scalar(true, 0) -> flow\n\nquoted-scalar\n  quote-end -> .\n  [else] -> quoted-scalar\n\nblock-scalar(min)\n  newline + peek(indent < min) -> .\n  [else] -> block-scalar(min)\n\nplain-scalar(is-flow, min)\n  scalar-end(is-flow) -> .\n  peek(newline + (indent < min)) -> .\n  [else] -> plain-scalar(min)\n*/\nfunction isEmpty(ch) {\n    switch (ch) {\n        case undefined:\n        case ' ':\n        case '\\n':\n        case '\\r':\n        case '\\t':\n            return true;\n        default:\n            return false;\n    }\n}\nconst hexDigits = new Set('0123456789ABCDEFabcdef');\nconst tagChars = new Set(\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()\");\nconst flowIndicatorChars = new Set(',[]{}');\nconst invalidAnchorChars = new Set(' ,[]{}\\n\\r\\t');\nconst isNotAnchorChar = (ch) => !ch || invalidAnchorChars.has(ch);\n/**\n * Splits an input string into lexical tokens, i.e. smaller strings that are\n * easily identifiable by `tokens.tokenType()`.\n *\n * Lexing starts always in a \"stream\" context. Incomplete input may be buffered\n * until a complete token can be emitted.\n *\n * In addition to slices of the original input, the following control characters\n * may also be emitted:\n *\n * - `\\x02` (Start of Text): A document starts with the next token\n * - `\\x18` (Cancel): Unexpected end of flow-mode (indicates an error)\n * - `\\x1f` (Unit Separator): Next token is a scalar value\n * - `\\u{FEFF}` (Byte order mark): Emitted separately outside documents\n */\nclass Lexer {\n    constructor() {\n        /**\n         * Flag indicating whether the end of the current buffer marks the end of\n         * all input\n         */\n        this.atEnd = false;\n        /**\n         * Explicit indent set in block scalar header, as an offset from the current\n         * minimum indent, so e.g. set to 1 from a header `|2+`. Set to -1 if not\n         * explicitly set.\n         */\n        this.blockScalarIndent = -1;\n        /**\n         * Block scalars that include a + (keep) chomping indicator in their header\n         * include trailing empty lines, which are otherwise excluded from the\n         * scalar's contents.\n         */\n        this.blockScalarKeep = false;\n        /** Current input */\n        this.buffer = '';\n        /**\n         * Flag noting whether the map value indicator : can immediately follow this\n         * node within a flow context.\n         */\n        this.flowKey = false;\n        /** Count of surrounding flow collection levels. */\n        this.flowLevel = 0;\n        /**\n         * Minimum level of indentation required for next lines to be parsed as a\n         * part of the current scalar value.\n         */\n        this.indentNext = 0;\n        /** Indentation level of the current line. */\n        this.indentValue = 0;\n        /** Position of the next \\n character. */\n        this.lineEndPos = null;\n        /** Stores the state of the lexer if reaching the end of incpomplete input */\n        this.next = null;\n        /** A pointer to `buffer`; the current position of the lexer. */\n        this.pos = 0;\n    }\n    /**\n     * Generate YAML tokens from the `source` string. If `incomplete`,\n     * a part of the last line may be left as a buffer for the next call.\n     *\n     * @returns A generator of lexical tokens\n     */\n    *lex(source, incomplete = false) {\n        if (source) {\n            if (typeof source !== 'string')\n                throw TypeError('source is not a string');\n            this.buffer = this.buffer ? this.buffer + source : source;\n            this.lineEndPos = null;\n        }\n        this.atEnd = !incomplete;\n        let next = this.next ?? 'stream';\n        while (next && (incomplete || this.hasChars(1)))\n            next = yield* this.parseNext(next);\n    }\n    atLineEnd() {\n        let i = this.pos;\n        let ch = this.buffer[i];\n        while (ch === ' ' || ch === '\\t')\n            ch = this.buffer[++i];\n        if (!ch || ch === '#' || ch === '\\n')\n            return true;\n        if (ch === '\\r')\n            return this.buffer[i + 1] === '\\n';\n        return false;\n    }\n    charAt(n) {\n        return this.buffer[this.pos + n];\n    }\n    continueScalar(offset) {\n        let ch = this.buffer[offset];\n        if (this.indentNext > 0) {\n            let indent = 0;\n            while (ch === ' ')\n                ch = this.buffer[++indent + offset];\n            if (ch === '\\r') {\n                const next = this.buffer[indent + offset + 1];\n                if (next === '\\n' || (!next && !this.atEnd))\n                    return offset + indent + 1;\n            }\n            return ch === '\\n' || indent >= this.indentNext || (!ch && !this.atEnd)\n                ? offset + indent\n                : -1;\n        }\n        if (ch === '-' || ch === '.') {\n            const dt = this.buffer.substr(offset, 3);\n            if ((dt === '---' || dt === '...') && isEmpty(this.buffer[offset + 3]))\n                return -1;\n        }\n        return offset;\n    }\n    getLine() {\n        let end = this.lineEndPos;\n        if (typeof end !== 'number' || (end !== -1 && end < this.pos)) {\n            end = this.buffer.indexOf('\\n', this.pos);\n            this.lineEndPos = end;\n        }\n        if (end === -1)\n            return this.atEnd ? this.buffer.substring(this.pos) : null;\n        if (this.buffer[end - 1] === '\\r')\n            end -= 1;\n        return this.buffer.substring(this.pos, end);\n    }\n    hasChars(n) {\n        return this.pos + n <= this.buffer.length;\n    }\n    setNext(state) {\n        this.buffer = this.buffer.substring(this.pos);\n        this.pos = 0;\n        this.lineEndPos = null;\n        this.next = state;\n        return null;\n    }\n    peek(n) {\n        return this.buffer.substr(this.pos, n);\n    }\n    *parseNext(next) {\n        switch (next) {\n            case 'stream':\n                return yield* this.parseStream();\n            case 'line-start':\n                return yield* this.parseLineStart();\n            case 'block-start':\n                return yield* this.parseBlockStart();\n            case 'doc':\n                return yield* this.parseDocument();\n            case 'flow':\n                return yield* this.parseFlowCollection();\n            case 'quoted-scalar':\n                return yield* this.parseQuotedScalar();\n            case 'block-scalar':\n                return yield* this.parseBlockScalar();\n            case 'plain-scalar':\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseStream() {\n        let line = this.getLine();\n        if (line === null)\n            return this.setNext('stream');\n        if (line[0] === BOM) {\n            yield* this.pushCount(1);\n            line = line.substring(1);\n        }\n        if (line[0] === '%') {\n            let dirEnd = line.length;\n            let cs = line.indexOf('#');\n            while (cs !== -1) {\n                const ch = line[cs - 1];\n                if (ch === ' ' || ch === '\\t') {\n                    dirEnd = cs - 1;\n                    break;\n                }\n                else {\n                    cs = line.indexOf('#', cs + 1);\n                }\n            }\n            while (true) {\n                const ch = line[dirEnd - 1];\n                if (ch === ' ' || ch === '\\t')\n                    dirEnd -= 1;\n                else\n                    break;\n            }\n            const n = (yield* this.pushCount(dirEnd)) + (yield* this.pushSpaces(true));\n            yield* this.pushCount(line.length - n); // possible comment\n            this.pushNewline();\n            return 'stream';\n        }\n        if (this.atLineEnd()) {\n            const sp = yield* this.pushSpaces(true);\n            yield* this.pushCount(line.length - sp);\n            yield* this.pushNewline();\n            return 'stream';\n        }\n        yield DOCUMENT;\n        return yield* this.parseLineStart();\n    }\n    *parseLineStart() {\n        const ch = this.charAt(0);\n        if (!ch && !this.atEnd)\n            return this.setNext('line-start');\n        if (ch === '-' || ch === '.') {\n            if (!this.atEnd && !this.hasChars(4))\n                return this.setNext('line-start');\n            const s = this.peek(3);\n            if ((s === '---' || s === '...') && isEmpty(this.charAt(3))) {\n                yield* this.pushCount(3);\n                this.indentValue = 0;\n                this.indentNext = 0;\n                return s === '---' ? 'doc' : 'stream';\n            }\n        }\n        this.indentValue = yield* this.pushSpaces(false);\n        if (this.indentNext > this.indentValue && !isEmpty(this.charAt(1)))\n            this.indentNext = this.indentValue;\n        return yield* this.parseBlockStart();\n    }\n    *parseBlockStart() {\n        const [ch0, ch1] = this.peek(2);\n        if (!ch1 && !this.atEnd)\n            return this.setNext('block-start');\n        if ((ch0 === '-' || ch0 === '?' || ch0 === ':') && isEmpty(ch1)) {\n            const n = (yield* this.pushCount(1)) + (yield* this.pushSpaces(true));\n            this.indentNext = this.indentValue + 1;\n            this.indentValue += n;\n            return yield* this.parseBlockStart();\n        }\n        return 'doc';\n    }\n    *parseDocument() {\n        yield* this.pushSpaces(true);\n        const line = this.getLine();\n        if (line === null)\n            return this.setNext('doc');\n        let n = yield* this.pushIndicators();\n        switch (line[n]) {\n            case '#':\n                yield* this.pushCount(line.length - n);\n            // fallthrough\n            case undefined:\n                yield* this.pushNewline();\n                return yield* this.parseLineStart();\n            case '{':\n            case '[':\n                yield* this.pushCount(1);\n                this.flowKey = false;\n                this.flowLevel = 1;\n                return 'flow';\n            case '}':\n            case ']':\n                // this is an error\n                yield* this.pushCount(1);\n                return 'doc';\n            case '*':\n                yield* this.pushUntil(isNotAnchorChar);\n                return 'doc';\n            case '\"':\n            case \"'\":\n                return yield* this.parseQuotedScalar();\n            case '|':\n            case '>':\n                n += yield* this.parseBlockScalarHeader();\n                n += yield* this.pushSpaces(true);\n                yield* this.pushCount(line.length - n);\n                yield* this.pushNewline();\n                return yield* this.parseBlockScalar();\n            default:\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseFlowCollection() {\n        let nl, sp;\n        let indent = -1;\n        do {\n            nl = yield* this.pushNewline();\n            if (nl > 0) {\n                sp = yield* this.pushSpaces(false);\n                this.indentValue = indent = sp;\n            }\n            else {\n                sp = 0;\n            }\n            sp += yield* this.pushSpaces(true);\n        } while (nl + sp > 0);\n        const line = this.getLine();\n        if (line === null)\n            return this.setNext('flow');\n        if ((indent !== -1 && indent < this.indentNext && line[0] !== '#') ||\n            (indent === 0 &&\n                (line.startsWith('---') || line.startsWith('...')) &&\n                isEmpty(line[3]))) {\n            // Allowing for the terminal ] or } at the same (rather than greater)\n            // indent level as the initial [ or { is technically invalid, but\n            // failing here would be surprising to users.\n            const atFlowEndMarker = indent === this.indentNext - 1 &&\n                this.flowLevel === 1 &&\n                (line[0] === ']' || line[0] === '}');\n            if (!atFlowEndMarker) {\n                // this is an error\n                this.flowLevel = 0;\n                yield FLOW_END;\n                return yield* this.parseLineStart();\n            }\n        }\n        let n = 0;\n        while (line[n] === ',') {\n            n += yield* this.pushCount(1);\n            n += yield* this.pushSpaces(true);\n            this.flowKey = false;\n        }\n        n += yield* this.pushIndicators();\n        switch (line[n]) {\n            case undefined:\n                return 'flow';\n            case '#':\n                yield* this.pushCount(line.length - n);\n                return 'flow';\n            case '{':\n            case '[':\n                yield* this.pushCount(1);\n                this.flowKey = false;\n                this.flowLevel += 1;\n                return 'flow';\n            case '}':\n            case ']':\n                yield* this.pushCount(1);\n                this.flowKey = true;\n                this.flowLevel -= 1;\n                return this.flowLevel ? 'flow' : 'doc';\n            case '*':\n                yield* this.pushUntil(isNotAnchorChar);\n                return 'flow';\n            case '\"':\n            case \"'\":\n                this.flowKey = true;\n                return yield* this.parseQuotedScalar();\n            case ':': {\n                const next = this.charAt(1);\n                if (this.flowKey || isEmpty(next) || next === ',') {\n                    this.flowKey = false;\n                    yield* this.pushCount(1);\n                    yield* this.pushSpaces(true);\n                    return 'flow';\n                }\n            }\n            // fallthrough\n            default:\n                this.flowKey = false;\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseQuotedScalar() {\n        const quote = this.charAt(0);\n        let end = this.buffer.indexOf(quote, this.pos + 1);\n        if (quote === \"'\") {\n            while (end !== -1 && this.buffer[end + 1] === \"'\")\n                end = this.buffer.indexOf(\"'\", end + 2);\n        }\n        else {\n            // double-quote\n            while (end !== -1) {\n                let n = 0;\n                while (this.buffer[end - 1 - n] === '\\\\')\n                    n += 1;\n                if (n % 2 === 0)\n                    break;\n                end = this.buffer.indexOf('\"', end + 1);\n            }\n        }\n        // Only looking for newlines within the quotes\n        const qb = this.buffer.substring(0, end);\n        let nl = qb.indexOf('\\n', this.pos);\n        if (nl !== -1) {\n            while (nl !== -1) {\n                const cs = this.continueScalar(nl + 1);\n                if (cs === -1)\n                    break;\n                nl = qb.indexOf('\\n', cs);\n            }\n            if (nl !== -1) {\n                // this is an error caused by an unexpected unindent\n                end = nl - (qb[nl - 1] === '\\r' ? 2 : 1);\n            }\n        }\n        if (end === -1) {\n            if (!this.atEnd)\n                return this.setNext('quoted-scalar');\n            end = this.buffer.length;\n        }\n        yield* this.pushToIndex(end + 1, false);\n        return this.flowLevel ? 'flow' : 'doc';\n    }\n    *parseBlockScalarHeader() {\n        this.blockScalarIndent = -1;\n        this.blockScalarKeep = false;\n        let i = this.pos;\n        while (true) {\n            const ch = this.buffer[++i];\n            if (ch === '+')\n                this.blockScalarKeep = true;\n            else if (ch > '0' && ch <= '9')\n                this.blockScalarIndent = Number(ch) - 1;\n            else if (ch !== '-')\n                break;\n        }\n        return yield* this.pushUntil(ch => isEmpty(ch) || ch === '#');\n    }\n    *parseBlockScalar() {\n        let nl = this.pos - 1; // may be -1 if this.pos === 0\n        let indent = 0;\n        let ch;\n        loop: for (let i = this.pos; (ch = this.buffer[i]); ++i) {\n            switch (ch) {\n                case ' ':\n                    indent += 1;\n                    break;\n                case '\\n':\n                    nl = i;\n                    indent = 0;\n                    break;\n                case '\\r': {\n                    const next = this.buffer[i + 1];\n                    if (!next && !this.atEnd)\n                        return this.setNext('block-scalar');\n                    if (next === '\\n')\n                        break;\n                } // fallthrough\n                default:\n                    break loop;\n            }\n        }\n        if (!ch && !this.atEnd)\n            return this.setNext('block-scalar');\n        if (indent >= this.indentNext) {\n            if (this.blockScalarIndent === -1)\n                this.indentNext = indent;\n            else {\n                this.indentNext =\n                    this.blockScalarIndent + (this.indentNext === 0 ? 1 : this.indentNext);\n            }\n            do {\n                const cs = this.continueScalar(nl + 1);\n                if (cs === -1)\n                    break;\n                nl = this.buffer.indexOf('\\n', cs);\n            } while (nl !== -1);\n            if (nl === -1) {\n                if (!this.atEnd)\n                    return this.setNext('block-scalar');\n                nl = this.buffer.length;\n            }\n        }\n        // Trailing insufficiently indented tabs are invalid.\n        // To catch that during parsing, we include them in the block scalar value.\n        let i = nl + 1;\n        ch = this.buffer[i];\n        while (ch === ' ')\n            ch = this.buffer[++i];\n        if (ch === '\\t') {\n            while (ch === '\\t' || ch === ' ' || ch === '\\r' || ch === '\\n')\n                ch = this.buffer[++i];\n            nl = i - 1;\n        }\n        else if (!this.blockScalarKeep) {\n            do {\n                let i = nl - 1;\n                let ch = this.buffer[i];\n                if (ch === '\\r')\n                    ch = this.buffer[--i];\n                const lastChar = i; // Drop the line if last char not more indented\n                while (ch === ' ')\n                    ch = this.buffer[--i];\n                if (ch === '\\n' && i >= this.pos && i + 1 + indent > lastChar)\n                    nl = i;\n                else\n                    break;\n            } while (true);\n        }\n        yield SCALAR;\n        yield* this.pushToIndex(nl + 1, true);\n        return yield* this.parseLineStart();\n    }\n    *parsePlainScalar() {\n        const inFlow = this.flowLevel > 0;\n        let end = this.pos - 1;\n        let i = this.pos - 1;\n        let ch;\n        while ((ch = this.buffer[++i])) {\n            if (ch === ':') {\n                const next = this.buffer[i + 1];\n                if (isEmpty(next) || (inFlow && flowIndicatorChars.has(next)))\n                    break;\n                end = i;\n            }\n            else if (isEmpty(ch)) {\n                let next = this.buffer[i + 1];\n                if (ch === '\\r') {\n                    if (next === '\\n') {\n                        i += 1;\n                        ch = '\\n';\n                        next = this.buffer[i + 1];\n                    }\n                    else\n                        end = i;\n                }\n                if (next === '#' || (inFlow && flowIndicatorChars.has(next)))\n                    break;\n                if (ch === '\\n') {\n                    const cs = this.continueScalar(i + 1);\n                    if (cs === -1)\n                        break;\n                    i = Math.max(i, cs - 2); // to advance, but still account for ' #'\n                }\n            }\n            else {\n                if (inFlow && flowIndicatorChars.has(ch))\n                    break;\n                end = i;\n            }\n        }\n        if (!ch && !this.atEnd)\n            return this.setNext('plain-scalar');\n        yield SCALAR;\n        yield* this.pushToIndex(end + 1, true);\n        return inFlow ? 'flow' : 'doc';\n    }\n    *pushCount(n) {\n        if (n > 0) {\n            yield this.buffer.substr(this.pos, n);\n            this.pos += n;\n            return n;\n        }\n        return 0;\n    }\n    *pushToIndex(i, allowEmpty) {\n        const s = this.buffer.slice(this.pos, i);\n        if (s) {\n            yield s;\n            this.pos += s.length;\n            return s.length;\n        }\n        else if (allowEmpty)\n            yield '';\n        return 0;\n    }\n    *pushIndicators() {\n        switch (this.charAt(0)) {\n            case '!':\n                return ((yield* this.pushTag()) +\n                    (yield* this.pushSpaces(true)) +\n                    (yield* this.pushIndicators()));\n            case '&':\n                return ((yield* this.pushUntil(isNotAnchorChar)) +\n                    (yield* this.pushSpaces(true)) +\n                    (yield* this.pushIndicators()));\n            case '-': // this is an error\n            case '?': // this is an error outside flow collections\n            case ':': {\n                const inFlow = this.flowLevel > 0;\n                const ch1 = this.charAt(1);\n                if (isEmpty(ch1) || (inFlow && flowIndicatorChars.has(ch1))) {\n                    if (!inFlow)\n                        this.indentNext = this.indentValue + 1;\n                    else if (this.flowKey)\n                        this.flowKey = false;\n                    return ((yield* this.pushCount(1)) +\n                        (yield* this.pushSpaces(true)) +\n                        (yield* this.pushIndicators()));\n                }\n            }\n        }\n        return 0;\n    }\n    *pushTag() {\n        if (this.charAt(1) === '<') {\n            let i = this.pos + 2;\n            let ch = this.buffer[i];\n            while (!isEmpty(ch) && ch !== '>')\n                ch = this.buffer[++i];\n            return yield* this.pushToIndex(ch === '>' ? i + 1 : i, false);\n        }\n        else {\n            let i = this.pos + 1;\n            let ch = this.buffer[i];\n            while (ch) {\n                if (tagChars.has(ch))\n                    ch = this.buffer[++i];\n                else if (ch === '%' &&\n                    hexDigits.has(this.buffer[i + 1]) &&\n                    hexDigits.has(this.buffer[i + 2])) {\n                    ch = this.buffer[(i += 3)];\n                }\n                else\n                    break;\n            }\n            return yield* this.pushToIndex(i, false);\n        }\n    }\n    *pushNewline() {\n        const ch = this.buffer[this.pos];\n        if (ch === '\\n')\n            return yield* this.pushCount(1);\n        else if (ch === '\\r' && this.charAt(1) === '\\n')\n            return yield* this.pushCount(2);\n        else\n            return 0;\n    }\n    *pushSpaces(allowTabs) {\n        let i = this.pos - 1;\n        let ch;\n        do {\n            ch = this.buffer[++i];\n        } while (ch === ' ' || (allowTabs && ch === '\\t'));\n        const n = i - this.pos;\n        if (n > 0) {\n            yield this.buffer.substr(this.pos, n);\n            this.pos = i;\n        }\n        return n;\n    }\n    *pushUntil(test) {\n        let i = this.pos;\n        let ch = this.buffer[i];\n        while (!test(ch))\n            ch = this.buffer[++i];\n        return yield* this.pushToIndex(i, false);\n    }\n}\n\nexport { Lexer };\n","/**\n * Tracks newlines during parsing in order to provide an efficient API for\n * determining the one-indexed `{ line, col }` position for any offset\n * within the input.\n */\nclass LineCounter {\n    constructor() {\n        this.lineStarts = [];\n        /**\n         * Should be called in ascending order. Otherwise, call\n         * `lineCounter.lineStarts.sort()` before calling `linePos()`.\n         */\n        this.addNewLine = (offset) => this.lineStarts.push(offset);\n        /**\n         * Performs a binary search and returns the 1-indexed { line, col }\n         * position of `offset`. If `line === 0`, `addNewLine` has never been\n         * called or `offset` is before the first known newline.\n         */\n        this.linePos = (offset) => {\n            let low = 0;\n            let high = this.lineStarts.length;\n            while (low < high) {\n                const mid = (low + high) >> 1; // Math.floor((low + high) / 2)\n                if (this.lineStarts[mid] < offset)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            if (this.lineStarts[low] === offset)\n                return { line: low + 1, col: 1 };\n            if (low === 0)\n                return { line: 0, col: offset };\n            const start = this.lineStarts[low - 1];\n            return { line: low, col: offset - start + 1 };\n        };\n    }\n}\n\nexport { LineCounter };\n","import { tokenType } from './cst.js';\nimport { Lexer } from './lexer.js';\n\nfunction includesToken(list, type) {\n    for (let i = 0; i < list.length; ++i)\n        if (list[i].type === type)\n            return true;\n    return false;\n}\nfunction findNonEmptyIndex(list) {\n    for (let i = 0; i < list.length; ++i) {\n        switch (list[i].type) {\n            case 'space':\n            case 'comment':\n            case 'newline':\n                break;\n            default:\n                return i;\n        }\n    }\n    return -1;\n}\nfunction isFlowToken(token) {\n    switch (token?.type) {\n        case 'alias':\n        case 'scalar':\n        case 'single-quoted-scalar':\n        case 'double-quoted-scalar':\n        case 'flow-collection':\n            return true;\n        default:\n            return false;\n    }\n}\nfunction getPrevProps(parent) {\n    switch (parent.type) {\n        case 'document':\n            return parent.start;\n        case 'block-map': {\n            const it = parent.items[parent.items.length - 1];\n            return it.sep ?? it.start;\n        }\n        case 'block-seq':\n            return parent.items[parent.items.length - 1].start;\n        /* istanbul ignore next should not happen */\n        default:\n            return [];\n    }\n}\n/** Note: May modify input array */\nfunction getFirstKeyStartProps(prev) {\n    if (prev.length === 0)\n        return [];\n    let i = prev.length;\n    loop: while (--i >= 0) {\n        switch (prev[i].type) {\n            case 'doc-start':\n            case 'explicit-key-ind':\n            case 'map-value-ind':\n            case 'seq-item-ind':\n            case 'newline':\n                break loop;\n        }\n    }\n    while (prev[++i]?.type === 'space') {\n        /* loop */\n    }\n    return prev.splice(i, prev.length);\n}\nfunction fixFlowSeqItems(fc) {\n    if (fc.start.type === 'flow-seq-start') {\n        for (const it of fc.items) {\n            if (it.sep &&\n                !it.value &&\n                !includesToken(it.start, 'explicit-key-ind') &&\n                !includesToken(it.sep, 'map-value-ind')) {\n                if (it.key)\n                    it.value = it.key;\n                delete it.key;\n                if (isFlowToken(it.value)) {\n                    if (it.value.end)\n                        Array.prototype.push.apply(it.value.end, it.sep);\n                    else\n                        it.value.end = it.sep;\n                }\n                else\n                    Array.prototype.push.apply(it.start, it.sep);\n                delete it.sep;\n            }\n        }\n    }\n}\n/**\n * A YAML concrete syntax tree (CST) parser\n *\n * ```ts\n * const src: string = ...\n * for (const token of new Parser().parse(src)) {\n *   // token: Token\n * }\n * ```\n *\n * To use the parser with a user-provided lexer:\n *\n * ```ts\n * function* parse(source: string, lexer: Lexer) {\n *   const parser = new Parser()\n *   for (const lexeme of lexer.lex(source))\n *     yield* parser.next(lexeme)\n *   yield* parser.end()\n * }\n *\n * const src: string = ...\n * const lexer = new Lexer()\n * for (const token of parse(src, lexer)) {\n *   // token: Token\n * }\n * ```\n */\nclass Parser {\n    /**\n     * @param onNewLine - If defined, called separately with the start position of\n     *   each new line (in `parse()`, including the start of input).\n     */\n    constructor(onNewLine) {\n        /** If true, space and sequence indicators count as indentation */\n        this.atNewLine = true;\n        /** If true, next token is a scalar value */\n        this.atScalar = false;\n        /** Current indentation level */\n        this.indent = 0;\n        /** Current offset since the start of parsing */\n        this.offset = 0;\n        /** On the same line with a block map key */\n        this.onKeyLine = false;\n        /** Top indicates the node that's currently being built */\n        this.stack = [];\n        /** The source of the current token, set in parse() */\n        this.source = '';\n        /** The type of the current token, set in parse() */\n        this.type = '';\n        // Must be defined after `next()`\n        this.lexer = new Lexer();\n        this.onNewLine = onNewLine;\n    }\n    /**\n     * Parse `source` as a YAML stream.\n     * If `incomplete`, a part of the last line may be left as a buffer for the next call.\n     *\n     * Errors are not thrown, but yielded as `{ type: 'error', message }` tokens.\n     *\n     * @returns A generator of tokens representing each directive, document, and other structure.\n     */\n    *parse(source, incomplete = false) {\n        if (this.onNewLine && this.offset === 0)\n            this.onNewLine(0);\n        for (const lexeme of this.lexer.lex(source, incomplete))\n            yield* this.next(lexeme);\n        if (!incomplete)\n            yield* this.end();\n    }\n    /**\n     * Advance the parser by the `source` of one lexical token.\n     */\n    *next(source) {\n        this.source = source;\n        if (this.atScalar) {\n            this.atScalar = false;\n            yield* this.step();\n            this.offset += source.length;\n            return;\n        }\n        const type = tokenType(source);\n        if (!type) {\n            const message = `Not a YAML token: ${source}`;\n            yield* this.pop({ type: 'error', offset: this.offset, message, source });\n            this.offset += source.length;\n        }\n        else if (type === 'scalar') {\n            this.atNewLine = false;\n            this.atScalar = true;\n            this.type = 'scalar';\n        }\n        else {\n            this.type = type;\n            yield* this.step();\n            switch (type) {\n                case 'newline':\n                    this.atNewLine = true;\n                    this.indent = 0;\n                    if (this.onNewLine)\n                        this.onNewLine(this.offset + source.length);\n                    break;\n                case 'space':\n                    if (this.atNewLine && source[0] === ' ')\n                        this.indent += source.length;\n                    break;\n                case 'explicit-key-ind':\n                case 'map-value-ind':\n                case 'seq-item-ind':\n                    if (this.atNewLine)\n                        this.indent += source.length;\n                    break;\n                case 'doc-mode':\n                case 'flow-error-end':\n                    return;\n                default:\n                    this.atNewLine = false;\n            }\n            this.offset += source.length;\n        }\n    }\n    /** Call at end of input to push out any remaining constructions */\n    *end() {\n        while (this.stack.length > 0)\n            yield* this.pop();\n    }\n    get sourceToken() {\n        const st = {\n            type: this.type,\n            offset: this.offset,\n            indent: this.indent,\n            source: this.source\n        };\n        return st;\n    }\n    *step() {\n        const top = this.peek(1);\n        if (this.type === 'doc-end' && top?.type !== 'doc-end') {\n            while (this.stack.length > 0)\n                yield* this.pop();\n            this.stack.push({\n                type: 'doc-end',\n                offset: this.offset,\n                source: this.source\n            });\n            return;\n        }\n        if (!top)\n            return yield* this.stream();\n        switch (top.type) {\n            case 'document':\n                return yield* this.document(top);\n            case 'alias':\n            case 'scalar':\n            case 'single-quoted-scalar':\n            case 'double-quoted-scalar':\n                return yield* this.scalar(top);\n            case 'block-scalar':\n                return yield* this.blockScalar(top);\n            case 'block-map':\n                return yield* this.blockMap(top);\n            case 'block-seq':\n                return yield* this.blockSequence(top);\n            case 'flow-collection':\n                return yield* this.flowCollection(top);\n            case 'doc-end':\n                return yield* this.documentEnd(top);\n        }\n        /* istanbul ignore next should not happen */\n        yield* this.pop();\n    }\n    peek(n) {\n        return this.stack[this.stack.length - n];\n    }\n    *pop(error) {\n        const token = error ?? this.stack.pop();\n        /* istanbul ignore if should not happen */\n        if (!token) {\n            const message = 'Tried to pop an empty stack';\n            yield { type: 'error', offset: this.offset, source: '', message };\n        }\n        else if (this.stack.length === 0) {\n            yield token;\n        }\n        else {\n            const top = this.peek(1);\n            if (token.type === 'block-scalar') {\n                // Block scalars use their parent rather than header indent\n                token.indent = 'indent' in top ? top.indent : 0;\n            }\n            else if (token.type === 'flow-collection' && top.type === 'document') {\n                // Ignore all indent for top-level flow collections\n                token.indent = 0;\n            }\n            if (token.type === 'flow-collection')\n                fixFlowSeqItems(token);\n            switch (top.type) {\n                case 'document':\n                    top.value = token;\n                    break;\n                case 'block-scalar':\n                    top.props.push(token); // error\n                    break;\n                case 'block-map': {\n                    const it = top.items[top.items.length - 1];\n                    if (it.value) {\n                        top.items.push({ start: [], key: token, sep: [] });\n                        this.onKeyLine = true;\n                        return;\n                    }\n                    else if (it.sep) {\n                        it.value = token;\n                    }\n                    else {\n                        Object.assign(it, { key: token, sep: [] });\n                        this.onKeyLine = !it.explicitKey;\n                        return;\n                    }\n                    break;\n                }\n                case 'block-seq': {\n                    const it = top.items[top.items.length - 1];\n                    if (it.value)\n                        top.items.push({ start: [], value: token });\n                    else\n                        it.value = token;\n                    break;\n                }\n                case 'flow-collection': {\n                    const it = top.items[top.items.length - 1];\n                    if (!it || it.value)\n                        top.items.push({ start: [], key: token, sep: [] });\n                    else if (it.sep)\n                        it.value = token;\n                    else\n                        Object.assign(it, { key: token, sep: [] });\n                    return;\n                }\n                /* istanbul ignore next should not happen */\n                default:\n                    yield* this.pop();\n                    yield* this.pop(token);\n            }\n            if ((top.type === 'document' ||\n                top.type === 'block-map' ||\n                top.type === 'block-seq') &&\n                (token.type === 'block-map' || token.type === 'block-seq')) {\n                const last = token.items[token.items.length - 1];\n                if (last &&\n                    !last.sep &&\n                    !last.value &&\n                    last.start.length > 0 &&\n                    findNonEmptyIndex(last.start) === -1 &&\n                    (token.indent === 0 ||\n                        last.start.every(st => st.type !== 'comment' || st.indent < token.indent))) {\n                    if (top.type === 'document')\n                        top.end = last.start;\n                    else\n                        top.items.push({ start: last.start });\n                    token.items.splice(-1, 1);\n                }\n            }\n        }\n    }\n    *stream() {\n        switch (this.type) {\n            case 'directive-line':\n                yield { type: 'directive', offset: this.offset, source: this.source };\n                return;\n            case 'byte-order-mark':\n            case 'space':\n            case 'comment':\n            case 'newline':\n                yield this.sourceToken;\n                return;\n            case 'doc-mode':\n            case 'doc-start': {\n                const doc = {\n                    type: 'document',\n                    offset: this.offset,\n                    start: []\n                };\n                if (this.type === 'doc-start')\n                    doc.start.push(this.sourceToken);\n                this.stack.push(doc);\n                return;\n            }\n        }\n        yield {\n            type: 'error',\n            offset: this.offset,\n            message: `Unexpected ${this.type} token in YAML stream`,\n            source: this.source\n        };\n    }\n    *document(doc) {\n        if (doc.value)\n            return yield* this.lineEnd(doc);\n        switch (this.type) {\n            case 'doc-start': {\n                if (findNonEmptyIndex(doc.start) !== -1) {\n                    yield* this.pop();\n                    yield* this.step();\n                }\n                else\n                    doc.start.push(this.sourceToken);\n                return;\n            }\n            case 'anchor':\n            case 'tag':\n            case 'space':\n            case 'comment':\n            case 'newline':\n                doc.start.push(this.sourceToken);\n                return;\n        }\n        const bv = this.startBlockValue(doc);\n        if (bv)\n            this.stack.push(bv);\n        else {\n            yield {\n                type: 'error',\n                offset: this.offset,\n                message: `Unexpected ${this.type} token in YAML document`,\n                source: this.source\n            };\n        }\n    }\n    *scalar(scalar) {\n        if (this.type === 'map-value-ind') {\n            const prev = getPrevProps(this.peek(2));\n            const start = getFirstKeyStartProps(prev);\n            let sep;\n            if (scalar.end) {\n                sep = scalar.end;\n                sep.push(this.sourceToken);\n                delete scalar.end;\n            }\n            else\n                sep = [this.sourceToken];\n            const map = {\n                type: 'block-map',\n                offset: scalar.offset,\n                indent: scalar.indent,\n                items: [{ start, key: scalar, sep }]\n            };\n            this.onKeyLine = true;\n            this.stack[this.stack.length - 1] = map;\n        }\n        else\n            yield* this.lineEnd(scalar);\n    }\n    *blockScalar(scalar) {\n        switch (this.type) {\n            case 'space':\n            case 'comment':\n            case 'newline':\n                scalar.props.push(this.sourceToken);\n                return;\n            case 'scalar':\n                scalar.source = this.source;\n                // block-scalar source includes trailing newline\n                this.atNewLine = true;\n                this.indent = 0;\n                if (this.onNewLine) {\n                    let nl = this.source.indexOf('\\n') + 1;\n                    while (nl !== 0) {\n                        this.onNewLine(this.offset + nl);\n                        nl = this.source.indexOf('\\n', nl) + 1;\n                    }\n                }\n                yield* this.pop();\n                break;\n            /* istanbul ignore next should not happen */\n            default:\n                yield* this.pop();\n                yield* this.step();\n        }\n    }\n    *blockMap(map) {\n        const it = map.items[map.items.length - 1];\n        // it.sep is true-ish if pair already has key or : separator\n        switch (this.type) {\n            case 'newline':\n                this.onKeyLine = false;\n                if (it.value) {\n                    const end = 'end' in it.value ? it.value.end : undefined;\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\n                    if (last?.type === 'comment')\n                        end?.push(this.sourceToken);\n                    else\n                        map.items.push({ start: [this.sourceToken] });\n                }\n                else if (it.sep) {\n                    it.sep.push(this.sourceToken);\n                }\n                else {\n                    it.start.push(this.sourceToken);\n                }\n                return;\n            case 'space':\n            case 'comment':\n                if (it.value) {\n                    map.items.push({ start: [this.sourceToken] });\n                }\n                else if (it.sep) {\n                    it.sep.push(this.sourceToken);\n                }\n                else {\n                    if (this.atIndentedComment(it.start, map.indent)) {\n                        const prev = map.items[map.items.length - 2];\n                        const end = prev?.value?.end;\n                        if (Array.isArray(end)) {\n                            Array.prototype.push.apply(end, it.start);\n                            end.push(this.sourceToken);\n                            map.items.pop();\n                            return;\n                        }\n                    }\n                    it.start.push(this.sourceToken);\n                }\n                return;\n        }\n        if (this.indent >= map.indent) {\n            const atMapIndent = !this.onKeyLine && this.indent === map.indent;\n            const atNextItem = atMapIndent &&\n                (it.sep || it.explicitKey) &&\n                this.type !== 'seq-item-ind';\n            // For empty nodes, assign newline-separated not indented empty tokens to following node\n            let start = [];\n            if (atNextItem && it.sep && !it.value) {\n                const nl = [];\n                for (let i = 0; i < it.sep.length; ++i) {\n                    const st = it.sep[i];\n                    switch (st.type) {\n                        case 'newline':\n                            nl.push(i);\n                            break;\n                        case 'space':\n                            break;\n                        case 'comment':\n                            if (st.indent > map.indent)\n                                nl.length = 0;\n                            break;\n                        default:\n                            nl.length = 0;\n                    }\n                }\n                if (nl.length >= 2)\n                    start = it.sep.splice(nl[1]);\n            }\n            switch (this.type) {\n                case 'anchor':\n                case 'tag':\n                    if (atNextItem || it.value) {\n                        start.push(this.sourceToken);\n                        map.items.push({ start });\n                        this.onKeyLine = true;\n                    }\n                    else if (it.sep) {\n                        it.sep.push(this.sourceToken);\n                    }\n                    else {\n                        it.start.push(this.sourceToken);\n                    }\n                    return;\n                case 'explicit-key-ind':\n                    if (!it.sep && !it.explicitKey) {\n                        it.start.push(this.sourceToken);\n                        it.explicitKey = true;\n                    }\n                    else if (atNextItem || it.value) {\n                        start.push(this.sourceToken);\n                        map.items.push({ start, explicitKey: true });\n                    }\n                    else {\n                        this.stack.push({\n                            type: 'block-map',\n                            offset: this.offset,\n                            indent: this.indent,\n                            items: [{ start: [this.sourceToken], explicitKey: true }]\n                        });\n                    }\n                    this.onKeyLine = true;\n                    return;\n                case 'map-value-ind':\n                    if (it.explicitKey) {\n                        if (!it.sep) {\n                            if (includesToken(it.start, 'newline')) {\n                                Object.assign(it, { key: null, sep: [this.sourceToken] });\n                            }\n                            else {\n                                const start = getFirstKeyStartProps(it.start);\n                                this.stack.push({\n                                    type: 'block-map',\n                                    offset: this.offset,\n                                    indent: this.indent,\n                                    items: [{ start, key: null, sep: [this.sourceToken] }]\n                                });\n                            }\n                        }\n                        else if (it.value) {\n                            map.items.push({ start: [], key: null, sep: [this.sourceToken] });\n                        }\n                        else if (includesToken(it.sep, 'map-value-ind')) {\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start, key: null, sep: [this.sourceToken] }]\n                            });\n                        }\n                        else if (isFlowToken(it.key) &&\n                            !includesToken(it.sep, 'newline')) {\n                            const start = getFirstKeyStartProps(it.start);\n                            const key = it.key;\n                            const sep = it.sep;\n                            sep.push(this.sourceToken);\n                            // @ts-expect-error type guard is wrong here\n                            delete it.key;\n                            // @ts-expect-error type guard is wrong here\n                            delete it.sep;\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start, key, sep }]\n                            });\n                        }\n                        else if (start.length > 0) {\n                            // Not actually at next item\n                            it.sep = it.sep.concat(start, this.sourceToken);\n                        }\n                        else {\n                            it.sep.push(this.sourceToken);\n                        }\n                    }\n                    else {\n                        if (!it.sep) {\n                            Object.assign(it, { key: null, sep: [this.sourceToken] });\n                        }\n                        else if (it.value || atNextItem) {\n                            map.items.push({ start, key: null, sep: [this.sourceToken] });\n                        }\n                        else if (includesToken(it.sep, 'map-value-ind')) {\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start: [], key: null, sep: [this.sourceToken] }]\n                            });\n                        }\n                        else {\n                            it.sep.push(this.sourceToken);\n                        }\n                    }\n                    this.onKeyLine = true;\n                    return;\n                case 'alias':\n                case 'scalar':\n                case 'single-quoted-scalar':\n                case 'double-quoted-scalar': {\n                    const fs = this.flowScalar(this.type);\n                    if (atNextItem || it.value) {\n                        map.items.push({ start, key: fs, sep: [] });\n                        this.onKeyLine = true;\n                    }\n                    else if (it.sep) {\n                        this.stack.push(fs);\n                    }\n                    else {\n                        Object.assign(it, { key: fs, sep: [] });\n                        this.onKeyLine = true;\n                    }\n                    return;\n                }\n                default: {\n                    const bv = this.startBlockValue(map);\n                    if (bv) {\n                        if (bv.type === 'block-seq') {\n                            if (!it.explicitKey &&\n                                it.sep &&\n                                !includesToken(it.sep, 'newline')) {\n                                yield* this.pop({\n                                    type: 'error',\n                                    offset: this.offset,\n                                    message: 'Unexpected block-seq-ind on same line with key',\n                                    source: this.source\n                                });\n                                return;\n                            }\n                        }\n                        else if (atMapIndent) {\n                            map.items.push({ start });\n                        }\n                        this.stack.push(bv);\n                        return;\n                    }\n                }\n            }\n        }\n        yield* this.pop();\n        yield* this.step();\n    }\n    *blockSequence(seq) {\n        const it = seq.items[seq.items.length - 1];\n        switch (this.type) {\n            case 'newline':\n                if (it.value) {\n                    const end = 'end' in it.value ? it.value.end : undefined;\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\n                    if (last?.type === 'comment')\n                        end?.push(this.sourceToken);\n                    else\n                        seq.items.push({ start: [this.sourceToken] });\n                }\n                else\n                    it.start.push(this.sourceToken);\n                return;\n            case 'space':\n            case 'comment':\n                if (it.value)\n                    seq.items.push({ start: [this.sourceToken] });\n                else {\n                    if (this.atIndentedComment(it.start, seq.indent)) {\n                        const prev = seq.items[seq.items.length - 2];\n                        const end = prev?.value?.end;\n                        if (Array.isArray(end)) {\n                            Array.prototype.push.apply(end, it.start);\n                            end.push(this.sourceToken);\n                            seq.items.pop();\n                            return;\n                        }\n                    }\n                    it.start.push(this.sourceToken);\n                }\n                return;\n            case 'anchor':\n            case 'tag':\n                if (it.value || this.indent <= seq.indent)\n                    break;\n                it.start.push(this.sourceToken);\n                return;\n            case 'seq-item-ind':\n                if (this.indent !== seq.indent)\n                    break;\n                if (it.value || includesToken(it.start, 'seq-item-ind'))\n                    seq.items.push({ start: [this.sourceToken] });\n                else\n                    it.start.push(this.sourceToken);\n                return;\n        }\n        if (this.indent > seq.indent) {\n            const bv = this.startBlockValue(seq);\n            if (bv) {\n                this.stack.push(bv);\n                return;\n            }\n        }\n        yield* this.pop();\n        yield* this.step();\n    }\n    *flowCollection(fc) {\n        const it = fc.items[fc.items.length - 1];\n        if (this.type === 'flow-error-end') {\n            let top;\n            do {\n                yield* this.pop();\n                top = this.peek(1);\n            } while (top?.type === 'flow-collection');\n        }\n        else if (fc.end.length === 0) {\n            switch (this.type) {\n                case 'comma':\n                case 'explicit-key-ind':\n                    if (!it || it.sep)\n                        fc.items.push({ start: [this.sourceToken] });\n                    else\n                        it.start.push(this.sourceToken);\n                    return;\n                case 'map-value-ind':\n                    if (!it || it.value)\n                        fc.items.push({ start: [], key: null, sep: [this.sourceToken] });\n                    else if (it.sep)\n                        it.sep.push(this.sourceToken);\n                    else\n                        Object.assign(it, { key: null, sep: [this.sourceToken] });\n                    return;\n                case 'space':\n                case 'comment':\n                case 'newline':\n                case 'anchor':\n                case 'tag':\n                    if (!it || it.value)\n                        fc.items.push({ start: [this.sourceToken] });\n                    else if (it.sep)\n                        it.sep.push(this.sourceToken);\n                    else\n                        it.start.push(this.sourceToken);\n                    return;\n                case 'alias':\n                case 'scalar':\n                case 'single-quoted-scalar':\n                case 'double-quoted-scalar': {\n                    const fs = this.flowScalar(this.type);\n                    if (!it || it.value)\n                        fc.items.push({ start: [], key: fs, sep: [] });\n                    else if (it.sep)\n                        this.stack.push(fs);\n                    else\n                        Object.assign(it, { key: fs, sep: [] });\n                    return;\n                }\n                case 'flow-map-end':\n                case 'flow-seq-end':\n                    fc.end.push(this.sourceToken);\n                    return;\n            }\n            const bv = this.startBlockValue(fc);\n            /* istanbul ignore else should not happen */\n            if (bv)\n                this.stack.push(bv);\n            else {\n                yield* this.pop();\n                yield* this.step();\n            }\n        }\n        else {\n            const parent = this.peek(2);\n            if (parent.type === 'block-map' &&\n                ((this.type === 'map-value-ind' && parent.indent === fc.indent) ||\n                    (this.type === 'newline' &&\n                        !parent.items[parent.items.length - 1].sep))) {\n                yield* this.pop();\n                yield* this.step();\n            }\n            else if (this.type === 'map-value-ind' &&\n                parent.type !== 'flow-collection') {\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                fixFlowSeqItems(fc);\n                const sep = fc.end.splice(1, fc.end.length);\n                sep.push(this.sourceToken);\n                const map = {\n                    type: 'block-map',\n                    offset: fc.offset,\n                    indent: fc.indent,\n                    items: [{ start, key: fc, sep }]\n                };\n                this.onKeyLine = true;\n                this.stack[this.stack.length - 1] = map;\n            }\n            else {\n                yield* this.lineEnd(fc);\n            }\n        }\n    }\n    flowScalar(type) {\n        if (this.onNewLine) {\n            let nl = this.source.indexOf('\\n') + 1;\n            while (nl !== 0) {\n                this.onNewLine(this.offset + nl);\n                nl = this.source.indexOf('\\n', nl) + 1;\n            }\n        }\n        return {\n            type,\n            offset: this.offset,\n            indent: this.indent,\n            source: this.source\n        };\n    }\n    startBlockValue(parent) {\n        switch (this.type) {\n            case 'alias':\n            case 'scalar':\n            case 'single-quoted-scalar':\n            case 'double-quoted-scalar':\n                return this.flowScalar(this.type);\n            case 'block-scalar-header':\n                return {\n                    type: 'block-scalar',\n                    offset: this.offset,\n                    indent: this.indent,\n                    props: [this.sourceToken],\n                    source: ''\n                };\n            case 'flow-map-start':\n            case 'flow-seq-start':\n                return {\n                    type: 'flow-collection',\n                    offset: this.offset,\n                    indent: this.indent,\n                    start: this.sourceToken,\n                    items: [],\n                    end: []\n                };\n            case 'seq-item-ind':\n                return {\n                    type: 'block-seq',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start: [this.sourceToken] }]\n                };\n            case 'explicit-key-ind': {\n                this.onKeyLine = true;\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                start.push(this.sourceToken);\n                return {\n                    type: 'block-map',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start, explicitKey: true }]\n                };\n            }\n            case 'map-value-ind': {\n                this.onKeyLine = true;\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                return {\n                    type: 'block-map',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start, key: null, sep: [this.sourceToken] }]\n                };\n            }\n        }\n        return null;\n    }\n    atIndentedComment(start, indent) {\n        if (this.type !== 'comment')\n            return false;\n        if (this.indent <= indent)\n            return false;\n        return start.every(st => st.type === 'newline' || st.type === 'space');\n    }\n    *documentEnd(docEnd) {\n        if (this.type !== 'doc-mode') {\n            if (docEnd.end)\n                docEnd.end.push(this.sourceToken);\n            else\n                docEnd.end = [this.sourceToken];\n            if (this.type === 'newline')\n                yield* this.pop();\n        }\n    }\n    *lineEnd(token) {\n        switch (this.type) {\n            case 'comma':\n            case 'doc-start':\n            case 'doc-end':\n            case 'flow-seq-end':\n            case 'flow-map-end':\n            case 'map-value-ind':\n                yield* this.pop();\n                yield* this.step();\n                break;\n            case 'newline':\n                this.onKeyLine = false;\n            // fallthrough\n            case 'space':\n            case 'comment':\n            default:\n                // all other values are errors\n                if (token.end)\n                    token.end.push(this.sourceToken);\n                else\n                    token.end = [this.sourceToken];\n                if (this.type === 'newline')\n                    yield* this.pop();\n        }\n    }\n}\n\nexport { Parser };\n","import { Composer } from './compose/composer.js';\nimport { Document } from './doc/Document.js';\nimport { prettifyError, YAMLParseError } from './errors.js';\nimport { warn } from './log.js';\nimport { isDocument } from './nodes/identity.js';\nimport { LineCounter } from './parse/line-counter.js';\nimport { Parser } from './parse/parser.js';\n\nfunction parseOptions(options) {\n    const prettyErrors = options.prettyErrors !== false;\n    const lineCounter = options.lineCounter || (prettyErrors && new LineCounter()) || null;\n    return { lineCounter, prettyErrors };\n}\n/**\n * Parse the input as a stream of YAML documents.\n *\n * Documents should be separated from each other by `...` or `---` marker lines.\n *\n * @returns If an empty `docs` array is returned, it will be of type\n *   EmptyStream and contain additional stream information. In\n *   TypeScript, you should use `'empty' in docs` as a type guard for it.\n */\nfunction parseAllDocuments(source, options = {}) {\n    const { lineCounter, prettyErrors } = parseOptions(options);\n    const parser = new Parser(lineCounter?.addNewLine);\n    const composer = new Composer(options);\n    const docs = Array.from(composer.compose(parser.parse(source)));\n    if (prettyErrors && lineCounter)\n        for (const doc of docs) {\n            doc.errors.forEach(prettifyError(source, lineCounter));\n            doc.warnings.forEach(prettifyError(source, lineCounter));\n        }\n    if (docs.length > 0)\n        return docs;\n    return Object.assign([], { empty: true }, composer.streamInfo());\n}\n/** Parse an input string into a single YAML.Document */\nfunction parseDocument(source, options = {}) {\n    const { lineCounter, prettyErrors } = parseOptions(options);\n    const parser = new Parser(lineCounter?.addNewLine);\n    const composer = new Composer(options);\n    // `doc` is always set by compose.end(true) at the very latest\n    let doc = null;\n    for (const _doc of composer.compose(parser.parse(source), true, source.length)) {\n        if (!doc)\n            doc = _doc;\n        else if (doc.options.logLevel !== 'silent') {\n            doc.errors.push(new YAMLParseError(_doc.range.slice(0, 2), 'MULTIPLE_DOCS', 'Source contains multiple documents; please use YAML.parseAllDocuments()'));\n            break;\n        }\n    }\n    if (prettyErrors && lineCounter) {\n        doc.errors.forEach(prettifyError(source, lineCounter));\n        doc.warnings.forEach(prettifyError(source, lineCounter));\n    }\n    return doc;\n}\nfunction parse(src, reviver, options) {\n    let _reviver = undefined;\n    if (typeof reviver === 'function') {\n        _reviver = reviver;\n    }\n    else if (options === undefined && reviver && typeof reviver === 'object') {\n        options = reviver;\n    }\n    const doc = parseDocument(src, options);\n    if (!doc)\n        return null;\n    doc.warnings.forEach(warning => warn(doc.options.logLevel, warning));\n    if (doc.errors.length > 0) {\n        if (doc.options.logLevel !== 'silent')\n            throw doc.errors[0];\n        else\n            doc.errors = [];\n    }\n    return doc.toJS(Object.assign({ reviver: _reviver }, options));\n}\nfunction stringify(value, replacer, options) {\n    let _replacer = null;\n    if (typeof replacer === 'function' || Array.isArray(replacer)) {\n        _replacer = replacer;\n    }\n    else if (options === undefined && replacer) {\n        options = replacer;\n    }\n    if (typeof options === 'string')\n        options = options.length;\n    if (typeof options === 'number') {\n        const indent = Math.round(options);\n        options = indent < 1 ? undefined : indent > 8 ? { indent: 8 } : { indent };\n    }\n    if (value === undefined) {\n        const { keepUndefined } = options ?? replacer ?? {};\n        if (!keepUndefined)\n            return undefined;\n    }\n    if (isDocument(value) && !_replacer)\n        return value.toString(options);\n    return new Document(value, _replacer, options).toString(options);\n}\n\nexport { parse, parseAllDocuments, parseDocument, stringify };\n","// `export * as default from ...` fails on Webpack v4\n// https://github.com/eemeli/yaml/issues/228\nimport * as YAML from './dist/index.js'\nexport default YAML\nexport * from './dist/index.js'\n","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeXML = exports.decodeHTMLStrict = exports.decodeHTMLAttribute = exports.decodeHTML = exports.determineBranch = exports.EntityDecoder = exports.DecodingMode = exports.BinTrieFlags = exports.fromCodePoint = exports.replaceCodePoint = exports.decodeCodePoint = exports.xmlDecodeTree = exports.htmlDecodeTree = void 0;\nvar decode_data_html_js_1 = __importDefault(require(\"./generated/decode-data-html.js\"));\nexports.htmlDecodeTree = decode_data_html_js_1.default;\nvar decode_data_xml_js_1 = __importDefault(require(\"./generated/decode-data-xml.js\"));\nexports.xmlDecodeTree = decode_data_xml_js_1.default;\nvar decode_codepoint_js_1 = __importStar(require(\"./decode_codepoint.js\"));\nexports.decodeCodePoint = decode_codepoint_js_1.default;\nvar decode_codepoint_js_2 = require(\"./decode_codepoint.js\");\nObject.defineProperty(exports, \"replaceCodePoint\", { enumerable: true, get: function () { return decode_codepoint_js_2.replaceCodePoint; } });\nObject.defineProperty(exports, \"fromCodePoint\", { enumerable: true, get: function () { return decode_codepoint_js_2.fromCodePoint; } });\nvar CharCodes;\n(function (CharCodes) {\n    CharCodes[CharCodes[\"NUM\"] = 35] = \"NUM\";\n    CharCodes[CharCodes[\"SEMI\"] = 59] = \"SEMI\";\n    CharCodes[CharCodes[\"EQUALS\"] = 61] = \"EQUALS\";\n    CharCodes[CharCodes[\"ZERO\"] = 48] = \"ZERO\";\n    CharCodes[CharCodes[\"NINE\"] = 57] = \"NINE\";\n    CharCodes[CharCodes[\"LOWER_A\"] = 97] = \"LOWER_A\";\n    CharCodes[CharCodes[\"LOWER_F\"] = 102] = \"LOWER_F\";\n    CharCodes[CharCodes[\"LOWER_X\"] = 120] = \"LOWER_X\";\n    CharCodes[CharCodes[\"LOWER_Z\"] = 122] = \"LOWER_Z\";\n    CharCodes[CharCodes[\"UPPER_A\"] = 65] = \"UPPER_A\";\n    CharCodes[CharCodes[\"UPPER_F\"] = 70] = \"UPPER_F\";\n    CharCodes[CharCodes[\"UPPER_Z\"] = 90] = \"UPPER_Z\";\n})(CharCodes || (CharCodes = {}));\n/** Bit that needs to be set to convert an upper case ASCII character to lower case */\nvar TO_LOWER_BIT = 32;\nvar BinTrieFlags;\n(function (BinTrieFlags) {\n    BinTrieFlags[BinTrieFlags[\"VALUE_LENGTH\"] = 49152] = \"VALUE_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"BRANCH_LENGTH\"] = 16256] = \"BRANCH_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"JUMP_TABLE\"] = 127] = \"JUMP_TABLE\";\n})(BinTrieFlags = exports.BinTrieFlags || (exports.BinTrieFlags = {}));\nfunction isNumber(code) {\n    return code >= CharCodes.ZERO && code <= CharCodes.NINE;\n}\nfunction isHexadecimalCharacter(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_F) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_F));\n}\nfunction isAsciiAlphaNumeric(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_Z) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_Z) ||\n        isNumber(code));\n}\n/**\n * Checks if the given character is a valid end character for an entity in an attribute.\n *\n * Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n * See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n */\nfunction isEntityInAttributeInvalidEnd(code) {\n    return code === CharCodes.EQUALS || isAsciiAlphaNumeric(code);\n}\nvar EntityDecoderState;\n(function (EntityDecoderState) {\n    EntityDecoderState[EntityDecoderState[\"EntityStart\"] = 0] = \"EntityStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericStart\"] = 1] = \"NumericStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericDecimal\"] = 2] = \"NumericDecimal\";\n    EntityDecoderState[EntityDecoderState[\"NumericHex\"] = 3] = \"NumericHex\";\n    EntityDecoderState[EntityDecoderState[\"NamedEntity\"] = 4] = \"NamedEntity\";\n})(EntityDecoderState || (EntityDecoderState = {}));\nvar DecodingMode;\n(function (DecodingMode) {\n    /** Entities in text nodes that can end with any character. */\n    DecodingMode[DecodingMode[\"Legacy\"] = 0] = \"Legacy\";\n    /** Only allow entities terminated with a semicolon. */\n    DecodingMode[DecodingMode[\"Strict\"] = 1] = \"Strict\";\n    /** Entities in attributes have limitations on ending characters. */\n    DecodingMode[DecodingMode[\"Attribute\"] = 2] = \"Attribute\";\n})(DecodingMode = exports.DecodingMode || (exports.DecodingMode = {}));\n/**\n * Token decoder with support of writing partial entities.\n */\nvar EntityDecoder = /** @class */ (function () {\n    function EntityDecoder(\n    /** The tree used to decode entities. */\n    decodeTree, \n    /**\n     * The function that is called when a codepoint is decoded.\n     *\n     * For multi-byte named entities, this will be called multiple times,\n     * with the second codepoint, and the same `consumed` value.\n     *\n     * @param codepoint The decoded codepoint.\n     * @param consumed The number of bytes consumed by the decoder.\n     */\n    emitCodePoint, \n    /** An object that is used to produce errors. */\n    errors) {\n        this.decodeTree = decodeTree;\n        this.emitCodePoint = emitCodePoint;\n        this.errors = errors;\n        /** The current state of the decoder. */\n        this.state = EntityDecoderState.EntityStart;\n        /** Characters that were consumed while parsing an entity. */\n        this.consumed = 1;\n        /**\n         * The result of the entity.\n         *\n         * Either the result index of a numeric entity, or the codepoint of a\n         * numeric entity.\n         */\n        this.result = 0;\n        /** The current index in the decode tree. */\n        this.treeIndex = 0;\n        /** The number of characters that were consumed in excess. */\n        this.excess = 1;\n        /** The mode in which the decoder is operating. */\n        this.decodeMode = DecodingMode.Strict;\n    }\n    /** Resets the instance to make it reusable. */\n    EntityDecoder.prototype.startEntity = function (decodeMode) {\n        this.decodeMode = decodeMode;\n        this.state = EntityDecoderState.EntityStart;\n        this.result = 0;\n        this.treeIndex = 0;\n        this.excess = 1;\n        this.consumed = 1;\n    };\n    /**\n     * Write an entity to the decoder. This can be called multiple times with partial entities.\n     * If the entity is incomplete, the decoder will return -1.\n     *\n     * Mirrors the implementation of `getDecoder`, but with the ability to stop decoding if the\n     * entity is incomplete, and resume when the next string is written.\n     *\n     * @param string The string containing the entity (or a continuation of the entity).\n     * @param offset The offset at which the entity begins. Should be 0 if this is not the first call.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    EntityDecoder.prototype.write = function (str, offset) {\n        switch (this.state) {\n            case EntityDecoderState.EntityStart: {\n                if (str.charCodeAt(offset) === CharCodes.NUM) {\n                    this.state = EntityDecoderState.NumericStart;\n                    this.consumed += 1;\n                    return this.stateNumericStart(str, offset + 1);\n                }\n                this.state = EntityDecoderState.NamedEntity;\n                return this.stateNamedEntity(str, offset);\n            }\n            case EntityDecoderState.NumericStart: {\n                return this.stateNumericStart(str, offset);\n            }\n            case EntityDecoderState.NumericDecimal: {\n                return this.stateNumericDecimal(str, offset);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.stateNumericHex(str, offset);\n            }\n            case EntityDecoderState.NamedEntity: {\n                return this.stateNamedEntity(str, offset);\n            }\n        }\n    };\n    /**\n     * Switches between the numeric decimal and hexadecimal states.\n     *\n     * Equivalent to the `Numeric character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    EntityDecoder.prototype.stateNumericStart = function (str, offset) {\n        if (offset >= str.length) {\n            return -1;\n        }\n        if ((str.charCodeAt(offset) | TO_LOWER_BIT) === CharCodes.LOWER_X) {\n            this.state = EntityDecoderState.NumericHex;\n            this.consumed += 1;\n            return this.stateNumericHex(str, offset + 1);\n        }\n        this.state = EntityDecoderState.NumericDecimal;\n        return this.stateNumericDecimal(str, offset);\n    };\n    EntityDecoder.prototype.addToNumericResult = function (str, start, end, base) {\n        if (start !== end) {\n            var digitCount = end - start;\n            this.result =\n                this.result * Math.pow(base, digitCount) +\n                    parseInt(str.substr(start, digitCount), base);\n            this.consumed += digitCount;\n        }\n    };\n    /**\n     * Parses a hexadecimal numeric entity.\n     *\n     * Equivalent to the `Hexademical character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    EntityDecoder.prototype.stateNumericHex = function (str, offset) {\n        var startIdx = offset;\n        while (offset < str.length) {\n            var char = str.charCodeAt(offset);\n            if (isNumber(char) || isHexadecimalCharacter(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(str, startIdx, offset, 16);\n                return this.emitNumericEntity(char, 3);\n            }\n        }\n        this.addToNumericResult(str, startIdx, offset, 16);\n        return -1;\n    };\n    /**\n     * Parses a decimal numeric entity.\n     *\n     * Equivalent to the `Decimal character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    EntityDecoder.prototype.stateNumericDecimal = function (str, offset) {\n        var startIdx = offset;\n        while (offset < str.length) {\n            var char = str.charCodeAt(offset);\n            if (isNumber(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(str, startIdx, offset, 10);\n                return this.emitNumericEntity(char, 2);\n            }\n        }\n        this.addToNumericResult(str, startIdx, offset, 10);\n        return -1;\n    };\n    /**\n     * Validate and emit a numeric entity.\n     *\n     * Implements the logic from the `Hexademical character reference start\n     * state` and `Numeric character reference end state` in the HTML spec.\n     *\n     * @param lastCp The last code point of the entity. Used to see if the\n     *               entity was terminated with a semicolon.\n     * @param expectedLength The minimum number of characters that should be\n     *                       consumed. Used to validate that at least one digit\n     *                       was consumed.\n     * @returns The number of characters that were consumed.\n     */\n    EntityDecoder.prototype.emitNumericEntity = function (lastCp, expectedLength) {\n        var _a;\n        // Ensure we consumed at least one digit.\n        if (this.consumed <= expectedLength) {\n            (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n            return 0;\n        }\n        // Figure out if this is a legit end of the entity\n        if (lastCp === CharCodes.SEMI) {\n            this.consumed += 1;\n        }\n        else if (this.decodeMode === DecodingMode.Strict) {\n            return 0;\n        }\n        this.emitCodePoint((0, decode_codepoint_js_1.replaceCodePoint)(this.result), this.consumed);\n        if (this.errors) {\n            if (lastCp !== CharCodes.SEMI) {\n                this.errors.missingSemicolonAfterCharacterReference();\n            }\n            this.errors.validateNumericCharacterReference(this.result);\n        }\n        return this.consumed;\n    };\n    /**\n     * Parses a named entity.\n     *\n     * Equivalent to the `Named character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    EntityDecoder.prototype.stateNamedEntity = function (str, offset) {\n        var decodeTree = this.decodeTree;\n        var current = decodeTree[this.treeIndex];\n        // The mask is the number of bytes of the value, including the current byte.\n        var valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n        for (; offset < str.length; offset++, this.excess++) {\n            var char = str.charCodeAt(offset);\n            this.treeIndex = determineBranch(decodeTree, current, this.treeIndex + Math.max(1, valueLength), char);\n            if (this.treeIndex < 0) {\n                return this.result === 0 ||\n                    // If we are parsing an attribute\n                    (this.decodeMode === DecodingMode.Attribute &&\n                        // We shouldn't have consumed any characters after the entity,\n                        (valueLength === 0 ||\n                            // And there should be no invalid characters.\n                            isEntityInAttributeInvalidEnd(char)))\n                    ? 0\n                    : this.emitNotTerminatedNamedEntity();\n            }\n            current = decodeTree[this.treeIndex];\n            valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n            // If the branch is a value, store it and continue\n            if (valueLength !== 0) {\n                // If the entity is terminated by a semicolon, we are done.\n                if (char === CharCodes.SEMI) {\n                    return this.emitNamedEntityData(this.treeIndex, valueLength, this.consumed + this.excess);\n                }\n                // If we encounter a non-terminated (legacy) entity while parsing strictly, then ignore it.\n                if (this.decodeMode !== DecodingMode.Strict) {\n                    this.result = this.treeIndex;\n                    this.consumed += this.excess;\n                    this.excess = 0;\n                }\n            }\n        }\n        return -1;\n    };\n    /**\n     * Emit a named entity that was not terminated with a semicolon.\n     *\n     * @returns The number of characters consumed.\n     */\n    EntityDecoder.prototype.emitNotTerminatedNamedEntity = function () {\n        var _a;\n        var _b = this, result = _b.result, decodeTree = _b.decodeTree;\n        var valueLength = (decodeTree[result] & BinTrieFlags.VALUE_LENGTH) >> 14;\n        this.emitNamedEntityData(result, valueLength, this.consumed);\n        (_a = this.errors) === null || _a === void 0 ? void 0 : _a.missingSemicolonAfterCharacterReference();\n        return this.consumed;\n    };\n    /**\n     * Emit a named entity.\n     *\n     * @param result The index of the entity in the decode tree.\n     * @param valueLength The number of bytes in the entity.\n     * @param consumed The number of characters consumed.\n     *\n     * @returns The number of characters consumed.\n     */\n    EntityDecoder.prototype.emitNamedEntityData = function (result, valueLength, consumed) {\n        var decodeTree = this.decodeTree;\n        this.emitCodePoint(valueLength === 1\n            ? decodeTree[result] & ~BinTrieFlags.VALUE_LENGTH\n            : decodeTree[result + 1], consumed);\n        if (valueLength === 3) {\n            // For multi-byte values, we need to emit the second byte.\n            this.emitCodePoint(decodeTree[result + 2], consumed);\n        }\n        return consumed;\n    };\n    /**\n     * Signal to the parser that the end of the input was reached.\n     *\n     * Remaining data will be emitted and relevant errors will be produced.\n     *\n     * @returns The number of characters consumed.\n     */\n    EntityDecoder.prototype.end = function () {\n        var _a;\n        switch (this.state) {\n            case EntityDecoderState.NamedEntity: {\n                // Emit a named entity if we have one.\n                return this.result !== 0 &&\n                    (this.decodeMode !== DecodingMode.Attribute ||\n                        this.result === this.treeIndex)\n                    ? this.emitNotTerminatedNamedEntity()\n                    : 0;\n            }\n            // Otherwise, emit a numeric entity if we have one.\n            case EntityDecoderState.NumericDecimal: {\n                return this.emitNumericEntity(0, 2);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.emitNumericEntity(0, 3);\n            }\n            case EntityDecoderState.NumericStart: {\n                (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n                return 0;\n            }\n            case EntityDecoderState.EntityStart: {\n                // Return 0 if we have no entity.\n                return 0;\n            }\n        }\n    };\n    return EntityDecoder;\n}());\nexports.EntityDecoder = EntityDecoder;\n/**\n * Creates a function that decodes entities in a string.\n *\n * @param decodeTree The decode tree.\n * @returns A function that decodes entities in a string.\n */\nfunction getDecoder(decodeTree) {\n    var ret = \"\";\n    var decoder = new EntityDecoder(decodeTree, function (str) { return (ret += (0, decode_codepoint_js_1.fromCodePoint)(str)); });\n    return function decodeWithTrie(str, decodeMode) {\n        var lastIndex = 0;\n        var offset = 0;\n        while ((offset = str.indexOf(\"&\", offset)) >= 0) {\n            ret += str.slice(lastIndex, offset);\n            decoder.startEntity(decodeMode);\n            var len = decoder.write(str, \n            // Skip the \"&\"\n            offset + 1);\n            if (len < 0) {\n                lastIndex = offset + decoder.end();\n                break;\n            }\n            lastIndex = offset + len;\n            // If `len` is 0, skip the current `&` and continue.\n            offset = len === 0 ? lastIndex + 1 : lastIndex;\n        }\n        var result = ret + str.slice(lastIndex);\n        // Make sure we don't keep a reference to the final string.\n        ret = \"\";\n        return result;\n    };\n}\n/**\n * Determines the branch of the current node that is taken given the current\n * character. This function is used to traverse the trie.\n *\n * @param decodeTree The trie.\n * @param current The current node.\n * @param nodeIdx The index right after the current node and its value.\n * @param char The current character.\n * @returns The index of the next node, or -1 if no branch is taken.\n */\nfunction determineBranch(decodeTree, current, nodeIdx, char) {\n    var branchCount = (current & BinTrieFlags.BRANCH_LENGTH) >> 7;\n    var jumpOffset = current & BinTrieFlags.JUMP_TABLE;\n    // Case 1: Single branch encoded in jump offset\n    if (branchCount === 0) {\n        return jumpOffset !== 0 && char === jumpOffset ? nodeIdx : -1;\n    }\n    // Case 2: Multiple branches encoded in jump table\n    if (jumpOffset) {\n        var value = char - jumpOffset;\n        return value < 0 || value >= branchCount\n            ? -1\n            : decodeTree[nodeIdx + value] - 1;\n    }\n    // Case 3: Multiple branches encoded in dictionary\n    // Binary search for the character.\n    var lo = nodeIdx;\n    var hi = lo + branchCount - 1;\n    while (lo <= hi) {\n        var mid = (lo + hi) >>> 1;\n        var midVal = decodeTree[mid];\n        if (midVal < char) {\n            lo = mid + 1;\n        }\n        else if (midVal > char) {\n            hi = mid - 1;\n        }\n        else {\n            return decodeTree[mid + branchCount];\n        }\n    }\n    return -1;\n}\nexports.determineBranch = determineBranch;\nvar htmlDecoder = getDecoder(decode_data_html_js_1.default);\nvar xmlDecoder = getDecoder(decode_data_xml_js_1.default);\n/**\n * Decodes an HTML string.\n *\n * @param str The string to decode.\n * @param mode The decoding mode.\n * @returns The decoded string.\n */\nfunction decodeHTML(str, mode) {\n    if (mode === void 0) { mode = DecodingMode.Legacy; }\n    return htmlDecoder(str, mode);\n}\nexports.decodeHTML = decodeHTML;\n/**\n * Decodes an HTML string in an attribute.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nfunction decodeHTMLAttribute(str) {\n    return htmlDecoder(str, DecodingMode.Attribute);\n}\nexports.decodeHTMLAttribute = decodeHTMLAttribute;\n/**\n * Decodes an HTML string, requiring all entities to be terminated by a semicolon.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nfunction decodeHTMLStrict(str) {\n    return htmlDecoder(str, DecodingMode.Strict);\n}\nexports.decodeHTMLStrict = decodeHTMLStrict;\n/**\n * Decodes an XML string, requiring all entities to be terminated by a semicolon.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nfunction decodeXML(str) {\n    return xmlDecoder(str, DecodingMode.Strict);\n}\nexports.decodeXML = decodeXML;\n//# sourceMappingURL=decode.js.map","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","'use strict';\n\nvar mdurl = require('mdurl');\nvar ucmicro = require('uc.micro');\nvar entities = require('entities');\nvar LinkifyIt = require('linkify-it');\nvar punycode = require('punycode.js');\n\nfunction _interopNamespaceDefault(e) {\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  }\n  n.default = e;\n  return Object.freeze(n);\n}\n\nvar mdurl__namespace = /*#__PURE__*/_interopNamespaceDefault(mdurl);\nvar ucmicro__namespace = /*#__PURE__*/_interopNamespaceDefault(ucmicro);\n\n// Utilities\n//\n\nfunction _class(obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isString(obj) {\n  return _class(obj) === '[object String]';\n}\nconst _hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction has(object, key) {\n  return _hasOwnProperty.call(object, key);\n}\n\n// Merge objects\n//\nfunction assign(obj /* from1, from2, from3, ... */) {\n  const sources = Array.prototype.slice.call(arguments, 1);\n  sources.forEach(function (source) {\n    if (!source) {\n      return;\n    }\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n  return obj;\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt(src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));\n}\nfunction isValidEntityCode(c) {\n  /* eslint no-bitwise:0 */\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) {\n    return false;\n  }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) {\n    return false;\n  }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) {\n    return false;\n  }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) {\n    return false;\n  }\n  if (c === 0x0B) {\n    return false;\n  }\n  if (c >= 0x0E && c <= 0x1F) {\n    return false;\n  }\n  if (c >= 0x7F && c <= 0x9F) {\n    return false;\n  }\n  // out of range\n  if (c > 0x10FFFF) {\n    return false;\n  }\n  return true;\n}\nfunction fromCodePoint(c) {\n  /* eslint no-bitwise:0 */\n  if (c > 0xffff) {\n    c -= 0x10000;\n    const surrogate1 = 0xd800 + (c >> 10);\n    const surrogate2 = 0xdc00 + (c & 0x3ff);\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\nconst UNESCAPE_MD_RE = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@[\\\\\\]^_`{|}~])/g;\nconst ENTITY_RE = /&([a-z#][a-z0-9]{1,31});/gi;\nconst UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi');\nconst DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;\nfunction replaceEntityPattern(match, name) {\n  if (name.charCodeAt(0) === 0x23 /* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    const code = name[1].toLowerCase() === 'x' ? parseInt(name.slice(2), 16) : parseInt(name.slice(1), 10);\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n    return match;\n  }\n  const decoded = entities.decodeHTML(match);\n  if (decoded !== match) {\n    return decoded;\n  }\n  return match;\n}\n\n/* function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n} */\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) {\n    return str;\n  }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\nfunction unescapeAll(str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) {\n    return str;\n  }\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) {\n      return escaped;\n    }\n    return replaceEntityPattern(match, entity);\n  });\n}\nconst HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nconst HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nconst HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\nconst REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g;\nfunction escapeRE(str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&');\n}\nfunction isSpace(code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true;\n  }\n  return false;\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace(code) {\n  if (code >= 0x2000 && code <= 0x200A) {\n    return true;\n  }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true;\n  }\n  return false;\n}\n\n/* eslint-disable max-len */\n\n// Currently without astral characters support.\nfunction isPunctChar(ch) {\n  return ucmicro__namespace.P.test(ch) || ucmicro__namespace.S.test(ch);\n}\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct(ch) {\n  switch (ch) {\n    case 0x21 /* ! */:\n    case 0x22 /* \" */:\n    case 0x23 /* # */:\n    case 0x24 /* $ */:\n    case 0x25 /* % */:\n    case 0x26 /* & */:\n    case 0x27 /* ' */:\n    case 0x28 /* ( */:\n    case 0x29 /* ) */:\n    case 0x2A /* * */:\n    case 0x2B /* + */:\n    case 0x2C /* , */:\n    case 0x2D /* - */:\n    case 0x2E /* . */:\n    case 0x2F /* / */:\n    case 0x3A /* : */:\n    case 0x3B /* ; */:\n    case 0x3C /* < */:\n    case 0x3D /* = */:\n    case 0x3E /* > */:\n    case 0x3F /* ? */:\n    case 0x40 /* @ */:\n    case 0x5B /* [ */:\n    case 0x5C /* \\ */:\n    case 0x5D /* ] */:\n    case 0x5E /* ^ */:\n    case 0x5F /* _ */:\n    case 0x60 /* ` */:\n    case 0x7B /* { */:\n    case 0x7C /* | */:\n    case 0x7D /* } */:\n    case 0x7E /* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference(str) {\n  // Trim and collapse whitespace\n  //\n  str = str.trim().replace(/\\s+/g, ' ');\n\n  // In node v10 ''.toLowerCase() === '', which is presumed to be a bug\n  // fixed in v12 (couldn't find any details).\n  //\n  // So treat this one as a special case\n  // (remove this when node v10 is no longer supported).\n  //\n  if (''.toLowerCase() === '') {\n    str = str.replace(//g, '');\n  }\n\n  // .toLowerCase().toUpperCase() should get rid of all differences\n  // between letter variants.\n  //\n  // Simple .toLowerCase() doesn't normalize 125 code points correctly,\n  // and .toUpperCase doesn't normalize 6 of them (list of exceptions:\n  // , , , , ,  - those are already uppercased, but have differently\n  // uppercased versions).\n  //\n  // Here's an example showing how it happens. Lets take greek letter omega:\n  // uppercase U+0398 (), U+03f4 () and lowercase U+03b8 (), U+03d1 ()\n  //\n  // Unicode entries:\n  // 0398;GREEK CAPITAL LETTER THETA;Lu;0;L;;;;;N;;;;03B8;\n  // 03B8;GREEK SMALL LETTER THETA;Ll;0;L;;;;;N;;;0398;;0398\n  // 03D1;GREEK THETA SYMBOL;Ll;0;L;<compat> 03B8;;;;N;GREEK SMALL LETTER SCRIPT THETA;;0398;;0398\n  // 03F4;GREEK CAPITAL THETA SYMBOL;Lu;0;L;<compat> 0398;;;;N;;;;03B8;\n  //\n  // Case-insensitive comparison should treat all of them as equivalent.\n  //\n  // But .toLowerCase() doesn't change  (it's already lowercase),\n  // and .toUpperCase() doesn't change  (already uppercase).\n  //\n  // Applying first lower then upper case normalizes any character:\n  // '\\u0398\\u03f4\\u03b8\\u03d1'.toLowerCase().toUpperCase() === '\\u0398\\u0398\\u0398\\u0398'\n  //\n  // Note: this is equivalent to unicode case folding; unicode normalization\n  // is a different step that is not required here.\n  //\n  // Final result should be uppercased, because it's later stored in an object\n  // (this avoid a conflict with Object.prototype members,\n  // most notably, `__proto__`)\n  //\n  return str.toLowerCase().toUpperCase();\n}\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nconst lib = {\n  mdurl: mdurl__namespace,\n  ucmicro: ucmicro__namespace\n};\n\nvar utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  arrayReplaceAt: arrayReplaceAt,\n  assign: assign,\n  escapeHtml: escapeHtml,\n  escapeRE: escapeRE,\n  fromCodePoint: fromCodePoint,\n  has: has,\n  isMdAsciiPunct: isMdAsciiPunct,\n  isPunctChar: isPunctChar,\n  isSpace: isSpace,\n  isString: isString,\n  isValidEntityCode: isValidEntityCode,\n  isWhiteSpace: isWhiteSpace,\n  lib: lib,\n  normalizeReference: normalizeReference,\n  unescapeAll: unescapeAll,\n  unescapeMd: unescapeMd\n});\n\n// Parse link label\n//\n// this function assumes that first character (\"[\") already matches;\n// returns the end of the label\n//\n\nfunction parseLinkLabel(state, start, disableNested) {\n  let level, found, marker, prevPos;\n  const max = state.posMax;\n  const oldPos = state.pos;\n  state.pos = start + 1;\n  level = 1;\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n    prevPos = state.pos;\n    state.md.inline.skipToken(state);\n    if (marker === 0x5B /* [ */) {\n      if (prevPos === state.pos - 1) {\n        // increase level if we find text `[`, which is not a part of any token\n        level++;\n      } else if (disableNested) {\n        state.pos = oldPos;\n        return -1;\n      }\n    }\n  }\n  let labelEnd = -1;\n  if (found) {\n    labelEnd = state.pos;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n  return labelEnd;\n}\n\n// Parse link destination\n//\n\nfunction parseLinkDestination(str, start, max) {\n  let code;\n  let pos = start;\n  const result = {\n    ok: false,\n    pos: 0,\n    str: ''\n  };\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = str.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) {\n        return result;\n      }\n      if (code === 0x3C /* < */) {\n        return result;\n      }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1;\n        result.str = unescapeAll(str.slice(start + 1, pos));\n        result.ok = true;\n        return result;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n      pos++;\n    }\n\n    // no closing '>'\n    return result;\n  }\n\n  // this should be ... } else { ... branch\n\n  let level = 0;\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === 0x20) {\n      break;\n    }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) {\n      break;\n    }\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      if (str.charCodeAt(pos + 1) === 0x20) {\n        break;\n      }\n      pos += 2;\n      continue;\n    }\n    if (code === 0x28 /* ( */) {\n      level++;\n      if (level > 32) {\n        return result;\n      }\n    }\n    if (code === 0x29 /* ) */) {\n      if (level === 0) {\n        break;\n      }\n      level--;\n    }\n    pos++;\n  }\n  if (start === pos) {\n    return result;\n  }\n  if (level !== 0) {\n    return result;\n  }\n  result.str = unescapeAll(str.slice(start, pos));\n  result.pos = pos;\n  result.ok = true;\n  return result;\n}\n\n// Parse link title\n//\n\n\n// Parse link title within `str` in [start, max] range,\n// or continue previous parsing if `prev_state` is defined (equal to result of last execution).\n//\nfunction parseLinkTitle(str, start, max, prev_state) {\n  let code;\n  let pos = start;\n  const state = {\n    // if `true`, this is a valid link title\n    ok: false,\n    // if `true`, this link can be continued on the next line\n    can_continue: false,\n    // if `ok`, it's the position of the first character after the closing marker\n    pos: 0,\n    // if `ok`, it's the unescaped title\n    str: '',\n    // expected closing marker character code\n    marker: 0\n  };\n  if (prev_state) {\n    // this is a continuation of a previous parseLinkTitle call on the next line,\n    // used in reference links only\n    state.str = prev_state.str;\n    state.marker = prev_state.marker;\n  } else {\n    if (pos >= max) {\n      return state;\n    }\n    let marker = str.charCodeAt(pos);\n    if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) {\n      return state;\n    }\n    start++;\n    pos++;\n\n    // if opening marker is \"(\", switch it to closing marker \")\"\n    if (marker === 0x28) {\n      marker = 0x29;\n    }\n    state.marker = marker;\n  }\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === state.marker) {\n      state.pos = pos + 1;\n      state.str += unescapeAll(str.slice(start, pos));\n      state.ok = true;\n      return state;\n    } else if (code === 0x28 /* ( */ && state.marker === 0x29 /* ) */) {\n      return state;\n    } else if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos++;\n    }\n    pos++;\n  }\n\n  // no closing marker found, but this link title may continue on the next line (for references)\n  state.can_continue = true;\n  state.str += unescapeAll(str.slice(start, pos));\n  return state;\n}\n\n// Just a shortcut for bulk export\n\nvar helpers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  parseLinkDestination: parseLinkDestination,\n  parseLinkLabel: parseLinkLabel,\n  parseLinkTitle: parseLinkTitle\n});\n\n/**\n * class Renderer\n *\n * Generates HTML from parsed token stream. Each instance has independent\n * copy of rules. Those can be rewritten with ease. Also, you can add new\n * rules if you create plugin and adds new token types.\n **/\n\nconst default_rules = {};\ndefault_rules.code_inline = function (tokens, idx, options, env, slf) {\n  const token = tokens[idx];\n  return '<code' + slf.renderAttrs(token) + '>' + escapeHtml(token.content) + '</code>';\n};\ndefault_rules.code_block = function (tokens, idx, options, env, slf) {\n  const token = tokens[idx];\n  return '<pre' + slf.renderAttrs(token) + '><code>' + escapeHtml(tokens[idx].content) + '</code></pre>\\n';\n};\ndefault_rules.fence = function (tokens, idx, options, env, slf) {\n  const token = tokens[idx];\n  const info = token.info ? unescapeAll(token.info).trim() : '';\n  let langName = '';\n  let langAttrs = '';\n  if (info) {\n    const arr = info.split(/(\\s+)/g);\n    langName = arr[0];\n    langAttrs = arr.slice(2).join('');\n  }\n  let highlighted;\n  if (options.highlight) {\n    highlighted = options.highlight(token.content, langName, langAttrs) || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n  if (highlighted.indexOf('<pre') === 0) {\n    return highlighted + '\\n';\n  }\n\n  // If language exists, inject class gently, without modifying original token.\n  // May be, one day we will add .deepClone() for token and simplify this part, but\n  // now we prefer to keep things local.\n  if (info) {\n    const i = token.attrIndex('class');\n    const tmpAttrs = token.attrs ? token.attrs.slice() : [];\n    if (i < 0) {\n      tmpAttrs.push(['class', options.langPrefix + langName]);\n    } else {\n      tmpAttrs[i] = tmpAttrs[i].slice();\n      tmpAttrs[i][1] += ' ' + options.langPrefix + langName;\n    }\n\n    // Fake token just to render attributes\n    const tmpToken = {\n      attrs: tmpAttrs\n    };\n    return `<pre><code${slf.renderAttrs(tmpToken)}>${highlighted}</code></pre>\\n`;\n  }\n  return `<pre><code${slf.renderAttrs(token)}>${highlighted}</code></pre>\\n`;\n};\ndefault_rules.image = function (tokens, idx, options, env, slf) {\n  const token = tokens[idx];\n\n  // \"alt\" attr MUST be set, even if empty. Because it's mandatory and\n  // should be placed on proper position for tests.\n  //\n  // Replace content with actual value\n\n  token.attrs[token.attrIndex('alt')][1] = slf.renderInlineAsText(token.children, options, env);\n  return slf.renderToken(tokens, idx, options);\n};\ndefault_rules.hardbreak = function (tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\ndefault_rules.softbreak = function (tokens, idx, options /*, env */) {\n  return options.breaks ? options.xhtmlOut ? '<br />\\n' : '<br>\\n' : '\\n';\n};\ndefault_rules.text = function (tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\ndefault_rules.html_block = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\ndefault_rules.html_inline = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n/**\n * new Renderer()\n *\n * Creates new [[Renderer]] instance and fill [[Renderer#rules]] with defaults.\n **/\nfunction Renderer() {\n  /**\n   * Renderer#rules -> Object\n   *\n   * Contains render rules for tokens. Can be updated and extended.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * md.renderer.rules.strong_open  = function () { return '<b>'; };\n   * md.renderer.rules.strong_close = function () { return '</b>'; };\n   *\n   * var result = md.renderInline(...);\n   * ```\n   *\n   * Each rule is called as independent static function with fixed signature:\n   *\n   * ```javascript\n   * function my_token_render(tokens, idx, options, env, renderer) {\n   *   // ...\n   *   return renderedHTML;\n   * }\n   * ```\n   *\n   * See [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.mjs)\n   * for more details and examples.\n   **/\n  this.rules = assign({}, default_rules);\n}\n\n/**\n * Renderer.renderAttrs(token) -> String\n *\n * Render token attributes to string.\n **/\nRenderer.prototype.renderAttrs = function renderAttrs(token) {\n  let i, l, result;\n  if (!token.attrs) {\n    return '';\n  }\n  result = '';\n  for (i = 0, l = token.attrs.length; i < l; i++) {\n    result += ' ' + escapeHtml(token.attrs[i][0]) + '=\"' + escapeHtml(token.attrs[i][1]) + '\"';\n  }\n  return result;\n};\n\n/**\n * Renderer.renderToken(tokens, idx, options) -> String\n * - tokens (Array): list of tokens\n * - idx (Numbed): token index to render\n * - options (Object): params of parser instance\n *\n * Default token renderer. Can be overriden by custom function\n * in [[Renderer#rules]].\n **/\nRenderer.prototype.renderToken = function renderToken(tokens, idx, options) {\n  const token = tokens[idx];\n  let result = '';\n\n  // Tight list paragraphs\n  if (token.hidden) {\n    return '';\n  }\n\n  // Insert a newline between hidden paragraph and subsequent opening\n  // block-level tag.\n  //\n  // For example, here we should insert a newline before blockquote:\n  //  - a\n  //    >\n  //\n  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {\n    result += '\\n';\n  }\n\n  // Add token name, e.g. `<img`\n  result += (token.nesting === -1 ? '</' : '<') + token.tag;\n\n  // Encode attributes, e.g. `<img src=\"foo\"`\n  result += this.renderAttrs(token);\n\n  // Add a slash for self-closing tags, e.g. `<img src=\"foo\" /`\n  if (token.nesting === 0 && options.xhtmlOut) {\n    result += ' /';\n  }\n\n  // Check if we need to add a newline after this tag\n  let needLf = false;\n  if (token.block) {\n    needLf = true;\n    if (token.nesting === 1) {\n      if (idx + 1 < tokens.length) {\n        const nextToken = tokens[idx + 1];\n        if (nextToken.type === 'inline' || nextToken.hidden) {\n          // Block-level tag containing an inline tag.\n          //\n          needLf = false;\n        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {\n          // Opening tag + closing tag of the same type. E.g. `<li></li>`.\n          //\n          needLf = false;\n        }\n      }\n    }\n  }\n  result += needLf ? '>\\n' : '>';\n  return result;\n};\n\n/**\n * Renderer.renderInline(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * The same as [[Renderer.render]], but for single token of `inline` type.\n **/\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  let result = '';\n  const rules = this.rules;\n  for (let i = 0, len = tokens.length; i < len; i++) {\n    const type = tokens[i].type;\n    if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options);\n    }\n  }\n  return result;\n};\n\n/** internal\n * Renderer.renderInlineAsText(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Special kludge for image `alt` attributes to conform CommonMark spec.\n * Don't try to use it! Spec requires to show `alt` content with stripped markup,\n * instead of simple escaping.\n **/\nRenderer.prototype.renderInlineAsText = function (tokens, options, env) {\n  let result = '';\n  for (let i = 0, len = tokens.length; i < len; i++) {\n    switch (tokens[i].type) {\n      case 'text':\n        result += tokens[i].content;\n        break;\n      case 'image':\n        result += this.renderInlineAsText(tokens[i].children, options, env);\n        break;\n      case 'html_inline':\n      case 'html_block':\n        result += tokens[i].content;\n        break;\n      case 'softbreak':\n      case 'hardbreak':\n        result += '\\n';\n        break;\n      // all other tokens are skipped\n    }\n  }\n  return result;\n};\n\n/**\n * Renderer.render(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Takes token stream and generates HTML. Probably, you will never need to call\n * this method directly.\n **/\nRenderer.prototype.render = function (tokens, options, env) {\n  let result = '';\n  const rules = this.rules;\n  for (let i = 0, len = tokens.length; i < len; i++) {\n    const type = tokens[i].type;\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options, env);\n    }\n  }\n  return result;\n};\n\n/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n// Helper methods, should not be used directly\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (let i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  const self = this;\n  const chains = [''];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) {\n      return;\n    }\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n  self.__cache__ = {};\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) {\n        return;\n      }\n      if (chain && rule.alt.indexOf(chain) < 0) {\n        return;\n      }\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  const index = this.__find__(name);\n  const opt = options || {};\n  if (index === -1) {\n    throw new Error('Parser rule not found: ' + name);\n  }\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  const index = this.__find__(beforeName);\n  const opt = options || {};\n  if (index === -1) {\n    throw new Error('Parser rule not found: ' + beforeName);\n  }\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn,\n    alt: opt.alt || []\n  });\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  const index = this.__find__(afterName);\n  const opt = options || {};\n  if (index === -1) {\n    throw new Error('Parser rule not found: ' + afterName);\n  }\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn,\n    alt: opt.alt || []\n  });\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  const opt = options || {};\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn,\n    alt: opt.alt || []\n  });\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) {\n    list = [list];\n  }\n  const result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    const idx = this.__find__(name);\n    if (idx < 0) {\n      if (ignoreInvalid) {\n        return;\n      }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n  this.__cache__ = null;\n  return result;\n};\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) {\n    list = [list];\n  }\n  this.__rules__.forEach(function (rule) {\n    rule.enabled = false;\n  });\n  this.enable(list, ignoreInvalid);\n};\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) {\n    list = [list];\n  }\n  const result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    const idx = this.__find__(name);\n    if (idx < 0) {\n      if (ignoreInvalid) {\n        return;\n      }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n  this.__cache__ = null;\n  return result;\n};\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\n// Token class\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup = '';\n\n  /**\n   * Token#info -> String\n   *\n   * Additional information:\n   *\n   * - Info string for \"fence\" tokens\n   * - The value \"auto\" for autolink \"link_open\" and \"link_close\" tokens\n   * - The string value of the item marker for ordered-list \"list_item_open\" tokens\n   **/\n  this.info = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden = false;\n}\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  if (!this.attrs) {\n    return -1;\n  }\n  const attrs = this.attrs;\n  for (let i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [attrData];\n  }\n};\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  const idx = this.attrIndex(name);\n  const attrData = [name, value];\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  const idx = this.attrIndex(name);\n  let value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  const idx = this.attrIndex(name);\n  if (idx < 0) {\n    this.attrPush([name, value]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n// Core state object\n//\n\nfunction StateCore(src, md, env) {\n  this.src = src;\n  this.env = env;\n  this.tokens = [];\n  this.inlineMode = false;\n  this.md = md; // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token;\n\n// Normalize input string\n\n// https://spec.commonmark.org/0.29/#line-ending\nconst NEWLINES_RE = /\\r\\n?|\\n/g;\nconst NULL_RE = /\\0/g;\nfunction normalize(state) {\n  let str;\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n');\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD');\n  state.src = str;\n}\n\nfunction block(state) {\n  let token;\n  if (state.inlineMode) {\n    token = new state.Token('inline', '', 0);\n    token.content = state.src;\n    token.map = [0, 1];\n    token.children = [];\n    state.tokens.push(token);\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens);\n  }\n}\n\nfunction inline(state) {\n  const tokens = state.tokens;\n\n  // Parse inlines\n  for (let i = 0, l = tokens.length; i < l; i++) {\n    const tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children);\n    }\n  }\n}\n\n// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n\nfunction isLinkOpen$1(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose$1(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\nfunction linkify$1(state) {\n  const blockTokens = state.tokens;\n  if (!state.md.options.linkify) {\n    return;\n  }\n  for (let j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' || !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue;\n    }\n    let tokens = blockTokens[j].children;\n    let htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (let i = tokens.length - 1; i >= 0; i--) {\n      const currentToken = tokens[i];\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen$1(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose$1(currentToken.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) {\n        continue;\n      }\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n        const text = currentToken.content;\n        let links = state.md.linkify.match(text);\n\n        // Now split string to nodes\n        const nodes = [];\n        let level = currentToken.level;\n        let lastPos = 0;\n\n        // forbid escape sequence at the start of the string,\n        // this avoids http\\://example.com/ from being linkified as\n        // http:<a href=\"//example.com/\">//example.com/</a>\n        if (links.length > 0 && links[0].index === 0 && i > 0 && tokens[i - 1].type === 'text_special') {\n          links = links.slice(1);\n        }\n        for (let ln = 0; ln < links.length; ln++) {\n          const url = links[ln].url;\n          const fullUrl = state.md.normalizeLink(url);\n          if (!state.md.validateLink(fullUrl)) {\n            continue;\n          }\n          let urlText = links[ln].text;\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '');\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '');\n          } else {\n            urlText = state.md.normalizeLinkText(urlText);\n          }\n          const pos = links[ln].index;\n          if (pos > lastPos) {\n            const token = new state.Token('text', '', 0);\n            token.content = text.slice(lastPos, pos);\n            token.level = level;\n            nodes.push(token);\n          }\n          const token_o = new state.Token('link_open', 'a', 1);\n          token_o.attrs = [['href', fullUrl]];\n          token_o.level = level++;\n          token_o.markup = 'linkify';\n          token_o.info = 'auto';\n          nodes.push(token_o);\n          const token_t = new state.Token('text', '', 0);\n          token_t.content = urlText;\n          token_t.level = level;\n          nodes.push(token_t);\n          const token_c = new state.Token('link_close', 'a', -1);\n          token_c.level = --level;\n          token_c.markup = 'linkify';\n          token_c.info = 'auto';\n          nodes.push(token_c);\n          lastPos = links[ln].lastIndex;\n        }\n        if (lastPos < text.length) {\n          const token = new state.Token('text', '', 0);\n          token.content = text.slice(lastPos);\n          token.level = level;\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n}\n\n// Simple typographic replacements\n//\n// (c) (C)  \n// (tm) (TM)  \n// (r) (R)  \n// +-  \n// ...   (also ?....  ?.., !....  !..)\n// ????????  ???, !!!!!  !!!, `,,`  `,`\n// --  &ndash;, ---  &mdash;\n//\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> , , \n// - multiplications 2 x 4 -> 2  4\n\nconst RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nconst SCOPED_ABBR_TEST_RE = /\\((c|tm|r)\\)/i;\nconst SCOPED_ABBR_RE = /\\((c|tm|r)\\)/ig;\nconst SCOPED_ABBR = {\n  c: '',\n  r: '',\n  tm: ''\n};\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\nfunction replace_scoped(inlineTokens) {\n  let inside_autolink = 0;\n  for (let i = inlineTokens.length - 1; i >= 0; i--) {\n    const token = inlineTokens[i];\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\nfunction replace_rare(inlineTokens) {\n  let inside_autolink = 0;\n  for (let i = inlineTokens.length - 1; i >= 0; i--) {\n    const token = inlineTokens[i];\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content.replace(/\\+-/g, '')\n        // .., ..., ....... -> \n        // but ?..... & !..... -> ?.. & !..\n        .replace(/\\.{2,}/g, '').replace(/([?!])/g, '$1..').replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n        // em-dash\n        .replace(/(^|[^-])---(?=[^-]|$)/mg, '$1\\u2014')\n        // en-dash\n        .replace(/(^|\\s)--(?=\\s|$)/mg, '$1\\u2013').replace(/(^|[^-\\s])--(?=[^-\\s]|$)/mg, '$1\\u2013');\n      }\n    }\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\nfunction replace(state) {\n  let blkIdx;\n  if (!state.md.options.typographer) {\n    return;\n  }\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n    if (state.tokens[blkIdx].type !== 'inline') {\n      continue;\n    }\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n  }\n}\n\n// Convert straight quotation marks to typographic ones\n//\n\nconst QUOTE_TEST_RE = /['\"]/;\nconst QUOTE_RE = /['\"]/g;\nconst APOSTROPHE = '\\u2019'; /*  */\n\nfunction replaceAt(str, index, ch) {\n  return str.slice(0, index) + ch + str.slice(index + 1);\n}\nfunction process_inlines(tokens, state) {\n  let j;\n  const stack = [];\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n    const thisLevel = tokens[i].level;\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) {\n        break;\n      }\n    }\n    stack.length = j + 1;\n    if (token.type !== 'text') {\n      continue;\n    }\n    let text = token.content;\n    let pos = 0;\n    let max = text.length;\n\n    /* eslint no-labels:0,block-scoped-var:0 */\n    OUTER: while (pos < max) {\n      QUOTE_RE.lastIndex = pos;\n      const t = QUOTE_RE.exec(text);\n      if (!t) {\n        break;\n      }\n      let canOpen = true;\n      let canClose = true;\n      pos = t.index + 1;\n      const isSingle = t[0] === \"'\";\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      let lastChar = 0x20;\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1);\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // lastChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1);\n          break;\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      let nextChar = 0x20;\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos);\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // nextChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          nextChar = tokens[j].content.charCodeAt(0);\n          break;\n        }\n      }\n      const isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n      const isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n      const isLastWhiteSpace = isWhiteSpace(lastChar);\n      const isNextWhiteSpace = isWhiteSpace(nextChar);\n      if (isNextWhiteSpace) {\n        canOpen = false;\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false;\n        }\n      }\n      if (isLastWhiteSpace) {\n        canClose = false;\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false;\n        }\n      }\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false;\n        }\n      }\n      if (canOpen && canClose) {\n        // Replace quotes in the middle of punctuation sequence, but not\n        // in the middle of the words, i.e.:\n        //\n        // 1. foo \" bar \" baz - not replaced\n        // 2. foo-\"-bar-\"-baz - replaced\n        // 3. foo\"bar\"baz     - not replaced\n        //\n        canOpen = isLastPunctChar;\n        canClose = isNextPunctChar;\n      }\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n        continue;\n      }\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          let item = stack[j];\n          if (stack[j].level < thisLevel) {\n            break;\n          }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j];\n            let openQuote;\n            let closeQuote;\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2];\n              closeQuote = state.md.options.quotes[3];\n            } else {\n              openQuote = state.md.options.quotes[0];\n              closeQuote = state.md.options.quotes[1];\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote);\n            tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, openQuote);\n            pos += closeQuote.length - 1;\n            if (item.token === i) {\n              pos += openQuote.length - 1;\n            }\n            text = token.content;\n            max = text.length;\n            stack.length = j;\n            continue OUTER;\n          }\n        }\n      }\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        });\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE);\n      }\n    }\n  }\n}\nfunction smartquotes(state) {\n  /* eslint max-depth:0 */\n  if (!state.md.options.typographer) {\n    return;\n  }\n  for (let blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n    if (state.tokens[blkIdx].type !== 'inline' || !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue;\n    }\n    process_inlines(state.tokens[blkIdx].children, state);\n  }\n}\n\n// Join raw text tokens with the rest of the text\n//\n// This is set as a separate rule to provide an opportunity for plugins\n// to run text replacements after text join, but before escape join.\n//\n// For example, `\\:)` shouldn't be replaced with an emoji.\n//\n\nfunction text_join(state) {\n  let curr, last;\n  const blockTokens = state.tokens;\n  const l = blockTokens.length;\n  for (let j = 0; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') continue;\n    const tokens = blockTokens[j].children;\n    const max = tokens.length;\n    for (curr = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text_special') {\n        tokens[curr].type = 'text';\n      }\n    }\n    for (curr = last = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text' && curr + 1 < max && tokens[curr + 1].type === 'text') {\n        // collapse two adjacent text nodes\n        tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n      } else {\n        if (curr !== last) {\n          tokens[last] = tokens[curr];\n        }\n        last++;\n      }\n    }\n    if (curr !== last) {\n      tokens.length = last;\n    }\n  }\n}\n\n/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n\nconst _rules$2 = [['normalize', normalize], ['block', block], ['inline', inline], ['linkify', linkify$1], ['replacements', replace], ['smartquotes', smartquotes],\n// `text_join` finds `text_special` tokens (for escape sequences)\n// and joins them with the rest of the text\n['text_join', text_join]];\n\n/**\n * new Core()\n **/\nfunction Core() {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler();\n  for (let i = 0; i < _rules$2.length; i++) {\n    this.ruler.push(_rules$2[i][0], _rules$2[i][1]);\n  }\n}\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  const rules = this.ruler.getRules('');\n  for (let i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\nCore.prototype.State = StateCore;\n\n// Parser state class\n\nfunction StateBlock(src, md, env, tokens) {\n  this.src = src;\n\n  // link to parser instance\n  this.md = md;\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n  this.bMarks = []; // line begin offsets for fast jumps\n  this.eMarks = []; // line end offsets for fast jumps\n  this.tShift = []; // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = []; // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = [];\n\n  // block parser variables\n\n  // required block content indent (for example, if we are\n  // inside a list, it would be positioned after list marker)\n  this.blkIndent = 0;\n  this.line = 0; // line index in src\n  this.lineMax = 0; // lines count\n  this.tight = false; // loose/tight mode for lists\n  this.ddIndent = -1; // indent of the current dd block (-1 if there isn't any)\n  this.listIndent = -1; // indent of the current list block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root';\n  this.level = 0;\n\n  // Create caches\n  // Generate markers.\n  const s = this.src;\n  for (let start = 0, pos = 0, indent = 0, offset = 0, len = s.length, indent_found = false; pos < len; pos++) {\n    const ch = s.charCodeAt(pos);\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++;\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) {\n        pos++;\n      }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n      this.sCount.push(offset);\n      this.bsCount.push(0);\n      indent_found = false;\n      indent = 0;\n      offset = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n  this.sCount.push(0);\n  this.bsCount.push(0);\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  const token = new Token(type, tag, nesting);\n  token.block = true;\n  if (nesting < 0) this.level--; // closing tag\n  token.level = this.level;\n  if (nesting > 0) this.level++; // opening tag\n\n  this.tokens.push(token);\n  return token;\n};\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (let max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  for (let max = this.src.length; pos < max; pos++) {\n    const ch = this.src.charCodeAt(pos);\n    if (!isSpace(ch)) {\n      break;\n    }\n  }\n  return pos;\n};\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {\n  if (pos <= min) {\n    return pos;\n  }\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) {\n      return pos + 1;\n    }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (let max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) {\n      break;\n    }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) {\n    return pos;\n  }\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) {\n      return pos + 1;\n    }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  if (begin >= end) {\n    return '';\n  }\n  const queue = new Array(end - begin);\n  for (let i = 0, line = begin; line < end; line++, i++) {\n    let lineIndent = 0;\n    const lineStart = this.bMarks[line];\n    let first = lineStart;\n    let last;\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n    while (first < last && lineIndent < indent) {\n      const ch = this.src.charCodeAt(first);\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;\n        } else {\n          lineIndent++;\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++;\n      } else {\n        break;\n      }\n      first++;\n    }\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last);\n    } else {\n      queue[i] = this.src.slice(first, last);\n    }\n  }\n  return queue.join('');\n};\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token;\n\n// GFM table, https://github.github.com/gfm/#tables-extension-\n\n\n// Limit the amount of empty autocompleted cells in a table,\n// see https://github.com/markdown-it/markdown-it/issues/1000,\n//\n// Both pulldown-cmark and commonmark-hs limit the number of cells this way to ~200k.\n// We set it to 65k, which can expand user input by a factor of x370\n// (256x256 square is 1.8kB expanded into 650kB).\nconst MAX_AUTOCOMPLETED_CELLS = 0x10000;\nfunction getLine(state, line) {\n  const pos = state.bMarks[line] + state.tShift[line];\n  const max = state.eMarks[line];\n  return state.src.slice(pos, max);\n}\nfunction escapedSplit(str) {\n  const result = [];\n  const max = str.length;\n  let pos = 0;\n  let ch = str.charCodeAt(pos);\n  let isEscaped = false;\n  let lastPos = 0;\n  let current = '';\n  while (pos < max) {\n    if (ch === 0x7c /* | */) {\n      if (!isEscaped) {\n        // pipe separating cells, '|'\n        result.push(current + str.substring(lastPos, pos));\n        current = '';\n        lastPos = pos + 1;\n      } else {\n        // escaped pipe, '\\|'\n        current += str.substring(lastPos, pos - 1);\n        lastPos = pos;\n      }\n    }\n    isEscaped = ch === 0x5c /* \\ */;\n    pos++;\n    ch = str.charCodeAt(pos);\n  }\n  result.push(current + str.substring(lastPos));\n  return result;\n}\nfunction table(state, startLine, endLine, silent) {\n  // should have at least two lines\n  if (startLine + 2 > endLine) {\n    return false;\n  }\n  let nextLine = startLine + 1;\n  if (state.sCount[nextLine] < state.blkIndent) {\n    return false;\n  }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) {\n    return false;\n  }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  let pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) {\n    return false;\n  }\n  const firstCh = state.src.charCodeAt(pos++);\n  if (firstCh !== 0x7C /* | */ && firstCh !== 0x2D /* - */ && firstCh !== 0x3A /* : */) {\n    return false;\n  }\n  if (pos >= state.eMarks[nextLine]) {\n    return false;\n  }\n  const secondCh = state.src.charCodeAt(pos++);\n  if (secondCh !== 0x7C /* | */ && secondCh !== 0x2D /* - */ && secondCh !== 0x3A /* : */ && !isSpace(secondCh)) {\n    return false;\n  }\n\n  // if first character is '-', then second character must not be a space\n  // (due to parsing ambiguity with list)\n  if (firstCh === 0x2D /* - */ && isSpace(secondCh)) {\n    return false;\n  }\n  while (pos < state.eMarks[nextLine]) {\n    const ch = state.src.charCodeAt(pos);\n    if (ch !== 0x7C /* | */ && ch !== 0x2D /* - */ && ch !== 0x3A /* : */ && !isSpace(ch)) {\n      return false;\n    }\n    pos++;\n  }\n  let lineText = getLine(state, startLine + 1);\n  let columns = lineText.split('|');\n  const aligns = [];\n  for (let i = 0; i < columns.length; i++) {\n    const t = columns[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n    if (!/^:?-+:?$/.test(t)) {\n      return false;\n    }\n    if (t.charCodeAt(t.length - 1) === 0x3A /* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A /* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A /* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) {\n    return false;\n  }\n  if (state.sCount[startLine] - state.blkIndent >= 4) {\n    return false;\n  }\n  columns = escapedSplit(lineText);\n  if (columns.length && columns[0] === '') columns.shift();\n  if (columns.length && columns[columns.length - 1] === '') columns.pop();\n\n  // header row will define an amount of columns in the entire table,\n  // and align row should be exactly the same (the rest of the rows can differ)\n  const columnCount = columns.length;\n  if (columnCount === 0 || columnCount !== aligns.length) {\n    return false;\n  }\n  if (silent) {\n    return true;\n  }\n  const oldParentType = state.parentType;\n  state.parentType = 'table';\n\n  // use 'blockquote' lists for termination because it's\n  // the most similar to tables\n  const terminatorRules = state.md.block.ruler.getRules('blockquote');\n  const token_to = state.push('table_open', 'table', 1);\n  const tableLines = [startLine, 0];\n  token_to.map = tableLines;\n  const token_tho = state.push('thead_open', 'thead', 1);\n  token_tho.map = [startLine, startLine + 1];\n  const token_htro = state.push('tr_open', 'tr', 1);\n  token_htro.map = [startLine, startLine + 1];\n  for (let i = 0; i < columns.length; i++) {\n    const token_ho = state.push('th_open', 'th', 1);\n    if (aligns[i]) {\n      token_ho.attrs = [['style', 'text-align:' + aligns[i]]];\n    }\n    const token_il = state.push('inline', '', 0);\n    token_il.content = columns[i].trim();\n    token_il.children = [];\n    state.push('th_close', 'th', -1);\n  }\n  state.push('tr_close', 'tr', -1);\n  state.push('thead_close', 'thead', -1);\n  let tbodyLines;\n  let autocompletedCells = 0;\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) {\n      break;\n    }\n    let terminate = false;\n    for (let i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) {\n      break;\n    }\n    lineText = getLine(state, nextLine).trim();\n    if (!lineText) {\n      break;\n    }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      break;\n    }\n    columns = escapedSplit(lineText);\n    if (columns.length && columns[0] === '') columns.shift();\n    if (columns.length && columns[columns.length - 1] === '') columns.pop();\n\n    // note: autocomplete count can be negative if user specifies more columns than header,\n    // but that does not affect intended use (which is limiting expansion)\n    autocompletedCells += columnCount - columns.length;\n    if (autocompletedCells > MAX_AUTOCOMPLETED_CELLS) {\n      break;\n    }\n    if (nextLine === startLine + 2) {\n      const token_tbo = state.push('tbody_open', 'tbody', 1);\n      token_tbo.map = tbodyLines = [startLine + 2, 0];\n    }\n    const token_tro = state.push('tr_open', 'tr', 1);\n    token_tro.map = [nextLine, nextLine + 1];\n    for (let i = 0; i < columnCount; i++) {\n      const token_tdo = state.push('td_open', 'td', 1);\n      if (aligns[i]) {\n        token_tdo.attrs = [['style', 'text-align:' + aligns[i]]];\n      }\n      const token_il = state.push('inline', '', 0);\n      token_il.content = columns[i] ? columns[i].trim() : '';\n      token_il.children = [];\n      state.push('td_close', 'td', -1);\n    }\n    state.push('tr_close', 'tr', -1);\n  }\n  if (tbodyLines) {\n    state.push('tbody_close', 'tbody', -1);\n    tbodyLines[1] = nextLine;\n  }\n  state.push('table_close', 'table', -1);\n  tableLines[1] = nextLine;\n  state.parentType = oldParentType;\n  state.line = nextLine;\n  return true;\n}\n\n// Code block (4 spaces padded)\n\nfunction code(state, startLine, endLine /*, silent */) {\n  if (state.sCount[startLine] - state.blkIndent < 4) {\n    return false;\n  }\n  let nextLine = startLine + 1;\n  let last = nextLine;\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n  state.line = last;\n  const token = state.push('code_block', 'code', 0);\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, false) + '\\n';\n  token.map = [startLine, state.line];\n  return true;\n}\n\n// fences (``` lang, ~~~ lang)\n\nfunction fence(state, startLine, endLine, silent) {\n  let pos = state.bMarks[startLine] + state.tShift[startLine];\n  let max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) {\n    return false;\n  }\n  if (pos + 3 > max) {\n    return false;\n  }\n  const marker = state.src.charCodeAt(pos);\n  if (marker !== 0x7E /* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  let mem = pos;\n  pos = state.skipChars(pos, marker);\n  let len = pos - mem;\n  if (len < 3) {\n    return false;\n  }\n  const markup = state.src.slice(mem, pos);\n  const params = state.src.slice(pos, max);\n  if (marker === 0x60 /* ` */) {\n    if (params.indexOf(String.fromCharCode(marker)) >= 0) {\n      return false;\n    }\n  }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) {\n    return true;\n  }\n\n  // search end of block\n  let nextLine = startLine;\n  let haveEndMarker = false;\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n    if (state.src.charCodeAt(pos) !== marker) {\n      continue;\n    }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) {\n      continue;\n    }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n    if (pos < max) {\n      continue;\n    }\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine];\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n  const token = state.push('fence', 'code', 0);\n  token.info = params;\n  token.content = state.getLines(startLine + 1, nextLine, len, true);\n  token.markup = markup;\n  token.map = [startLine, state.line];\n  return true;\n}\n\n// Block quotes\n\nfunction blockquote(state, startLine, endLine, silent) {\n  let pos = state.bMarks[startLine] + state.tShift[startLine];\n  let max = state.eMarks[startLine];\n  const oldLineMax = state.lineMax;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) {\n    return false;\n  }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos) !== 0x3E /* > */) {\n    return false;\n  }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) {\n    return true;\n  }\n  const oldBMarks = [];\n  const oldBSCount = [];\n  const oldSCount = [];\n  const oldTShift = [];\n  const terminatorRules = state.md.block.ruler.getRules('blockquote');\n  const oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  let lastLineEmpty = false;\n  let nextLine;\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    const isOutdented = state.sCount[nextLine] < state.blkIndent;\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n    if (state.src.charCodeAt(pos++) === 0x3E /* > */ && !isOutdented) {\n      // This line is inside the blockquote.\n\n      // set offset past spaces and \">\"\n      let initial = state.sCount[nextLine] + 1;\n      let spaceAfterMarker;\n      let adjustTab;\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++;\n        initial++;\n        adjustTab = false;\n        spaceAfterMarker = true;\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true;\n        if ((state.bsCount[nextLine] + initial) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++;\n          initial++;\n          adjustTab = false;\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true;\n        }\n      } else {\n        spaceAfterMarker = false;\n      }\n      let offset = initial;\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n      while (pos < max) {\n        const ch = state.src.charCodeAt(pos);\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;\n          } else {\n            offset++;\n          }\n        } else {\n          break;\n        }\n        pos++;\n      }\n      lastLineEmpty = pos >= max;\n      oldBSCount.push(state.bsCount[nextLine]);\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);\n      oldSCount.push(state.sCount[nextLine]);\n      state.sCount[nextLine] = offset - initial;\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) {\n      break;\n    }\n\n    // Case 3: another tag found.\n    let terminate = false;\n    for (let i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine;\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine]);\n        oldBSCount.push(state.bsCount[nextLine]);\n        oldTShift.push(state.tShift[nextLine]);\n        oldSCount.push(state.sCount[nextLine]);\n        state.sCount[nextLine] -= state.blkIndent;\n      }\n      break;\n    }\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldBSCount.push(state.bsCount[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n    oldSCount.push(state.sCount[nextLine]);\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1;\n  }\n  const oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n  const token_o = state.push('blockquote_open', 'blockquote', 1);\n  token_o.markup = '>';\n  const lines = [startLine, 0];\n  token_o.map = lines;\n  state.md.block.tokenize(state, startLine, nextLine);\n  const token_c = state.push('blockquote_close', 'blockquote', -1);\n  token_c.markup = '>';\n  state.lineMax = oldLineMax;\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (let i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n    state.sCount[i + startLine] = oldSCount[i];\n    state.bsCount[i + startLine] = oldBSCount[i];\n  }\n  state.blkIndent = oldIndent;\n  return true;\n}\n\n// Horizontal rule\n\nfunction hr(state, startLine, endLine, silent) {\n  const max = state.eMarks[startLine];\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) {\n    return false;\n  }\n  let pos = state.bMarks[startLine] + state.tShift[startLine];\n  const marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A /* * */ && marker !== 0x2D /* - */ && marker !== 0x5F /* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  let cnt = 1;\n  while (pos < max) {\n    const ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && !isSpace(ch)) {\n      return false;\n    }\n    if (ch === marker) {\n      cnt++;\n    }\n  }\n  if (cnt < 3) {\n    return false;\n  }\n  if (silent) {\n    return true;\n  }\n  state.line = startLine + 1;\n  const token = state.push('hr', 'hr', 0);\n  token.map = [startLine, state.line];\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));\n  return true;\n}\n\n// Lists\n\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  const max = state.eMarks[startLine];\n  let pos = state.bMarks[startLine] + state.tShift[startLine];\n  const marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A /* * */ && marker !== 0x2D /* - */ && marker !== 0x2B /* + */) {\n    return -1;\n  }\n  if (pos < max) {\n    const ch = state.src.charCodeAt(pos);\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  const start = state.bMarks[startLine] + state.tShift[startLine];\n  const max = state.eMarks[startLine];\n  let pos = start;\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) {\n    return -1;\n  }\n  let ch = state.src.charCodeAt(pos++);\n  if (ch < 0x30 /* 0 */ || ch > 0x39 /* 9 */) {\n    return -1;\n  }\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) {\n      return -1;\n    }\n    ch = state.src.charCodeAt(pos++);\n    if (ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */) {\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) {\n        return -1;\n      }\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29 /* ) */ || ch === 0x2e /* . */) {\n      break;\n    }\n    return -1;\n  }\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\nfunction markTightParagraphs(state, idx) {\n  const level = state.level + 2;\n  for (let i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true;\n      state.tokens[i].hidden = true;\n      i += 2;\n    }\n  }\n}\nfunction list(state, startLine, endLine, silent) {\n  let max, pos, start, token;\n  let nextLine = startLine;\n  let tight = true;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) {\n    return false;\n  }\n\n  // Special case:\n  //  - item 1\n  //   - item 2\n  //    - item 3\n  //     - item 4\n  //      - this one is a paragraph continuation\n  if (state.listIndent >= 0 && state.sCount[nextLine] - state.listIndent >= 4 && state.sCount[nextLine] < state.blkIndent) {\n    return false;\n  }\n  let isTerminatingParagraph = false;\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      isTerminatingParagraph = true;\n    }\n  }\n\n  // Detect list type and position after marker\n  let isOrdered;\n  let markerValue;\n  let posAfterMarker;\n  if ((posAfterMarker = skipOrderedListMarker(state, nextLine)) >= 0) {\n    isOrdered = true;\n    start = state.bMarks[nextLine] + state.tShift[nextLine];\n    markerValue = Number(state.src.slice(start, posAfterMarker - 1));\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false;\n  } else if ((posAfterMarker = skipBulletListMarker(state, nextLine)) >= 0) {\n    isOrdered = false;\n  } else {\n    return false;\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[nextLine]) return false;\n  }\n\n  // For validation mode we can terminate immediately\n  if (silent) {\n    return true;\n  }\n\n  // We should terminate list on style change. Remember first one to compare.\n  const markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // Start list\n  const listTokIdx = state.tokens.length;\n  if (isOrdered) {\n    token = state.push('ordered_list_open', 'ol', 1);\n    if (markerValue !== 1) {\n      token.attrs = [['start', markerValue]];\n    }\n  } else {\n    token = state.push('bullet_list_open', 'ul', 1);\n  }\n  const listLines = [nextLine, 0];\n  token.map = listLines;\n  token.markup = String.fromCharCode(markerCharCode);\n\n  //\n  // Iterate list items\n  //\n\n  let prevEmptyEnd = false;\n  const terminatorRules = state.md.block.ruler.getRules('list');\n  const oldParentType = state.parentType;\n  state.parentType = 'list';\n  while (nextLine < endLine) {\n    pos = posAfterMarker;\n    max = state.eMarks[nextLine];\n    const initial = state.sCount[nextLine] + posAfterMarker - (state.bMarks[nextLine] + state.tShift[nextLine]);\n    let offset = initial;\n    while (pos < max) {\n      const ch = state.src.charCodeAt(pos);\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4;\n      } else if (ch === 0x20) {\n        offset++;\n      } else {\n        break;\n      }\n      pos++;\n    }\n    const contentStart = pos;\n    let indentAfterMarker;\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = offset - initial;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) {\n      indentAfterMarker = 1;\n    }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    const indent = initial + indentAfterMarker;\n\n    // Run subparser & write tokens\n    token = state.push('list_item_open', 'li', 1);\n    token.markup = String.fromCharCode(markerCharCode);\n    const itemLines = [nextLine, 0];\n    token.map = itemLines;\n    if (isOrdered) {\n      token.info = state.src.slice(start, posAfterMarker - 1);\n    }\n\n    // change current state, then restore it after parser subcall\n    const oldTight = state.tight;\n    const oldTShift = state.tShift[nextLine];\n    const oldSCount = state.sCount[nextLine];\n\n    //  - example list\n    // ^ listIndent position will be here\n    //   ^ blkIndent position will be here\n    //\n    const oldListIndent = state.listIndent;\n    state.listIndent = state.blkIndent;\n    state.blkIndent = indent;\n    state.tight = true;\n    state.tShift[nextLine] = contentStart - state.bMarks[nextLine];\n    state.sCount[nextLine] = offset;\n    if (contentStart >= max && state.isEmpty(nextLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine);\n    } else {\n      state.md.block.tokenize(state, nextLine, endLine, true);\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = state.line - nextLine > 1 && state.isEmpty(state.line - 1);\n    state.blkIndent = state.listIndent;\n    state.listIndent = oldListIndent;\n    state.tShift[nextLine] = oldTShift;\n    state.sCount[nextLine] = oldSCount;\n    state.tight = oldTight;\n    token = state.push('list_item_close', 'li', -1);\n    token.markup = String.fromCharCode(markerCharCode);\n    nextLine = state.line;\n    itemLines[1] = nextLine;\n    if (nextLine >= endLine) {\n      break;\n    }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) {\n      break;\n    }\n\n    // if it's indented more than 3 spaces, it should be a code block\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      break;\n    }\n\n    // fail if terminating block found\n    let terminate = false;\n    for (let i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) {\n      break;\n    }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) {\n        break;\n      }\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) {\n        break;\n      }\n    }\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) {\n      break;\n    }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1);\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1);\n  }\n  token.markup = String.fromCharCode(markerCharCode);\n  listLines[1] = nextLine;\n  state.line = nextLine;\n  state.parentType = oldParentType;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n  return true;\n}\n\nfunction reference(state, startLine, _endLine, silent) {\n  let pos = state.bMarks[startLine] + state.tShift[startLine];\n  let max = state.eMarks[startLine];\n  let nextLine = startLine + 1;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) {\n    return false;\n  }\n  if (state.src.charCodeAt(pos) !== 0x5B /* [ */) {\n    return false;\n  }\n  function getNextLine(nextLine) {\n    const endLine = state.lineMax;\n    if (nextLine >= endLine || state.isEmpty(nextLine)) {\n      // empty line or end of input\n      return null;\n    }\n    let isContinuation = false;\n\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) {\n      isContinuation = true;\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) {\n      isContinuation = true;\n    }\n    if (!isContinuation) {\n      const terminatorRules = state.md.block.ruler.getRules('reference');\n      const oldParentType = state.parentType;\n      state.parentType = 'reference';\n\n      // Some tags can terminate paragraph without empty line.\n      let terminate = false;\n      for (let i = 0, l = terminatorRules.length; i < l; i++) {\n        if (terminatorRules[i](state, nextLine, endLine, true)) {\n          terminate = true;\n          break;\n        }\n      }\n      state.parentType = oldParentType;\n      if (terminate) {\n        // terminated by another block\n        return null;\n      }\n    }\n    const pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    const max = state.eMarks[nextLine];\n\n    // max + 1 explicitly includes the newline\n    return state.src.slice(pos, max + 1);\n  }\n  let str = state.src.slice(pos, max + 1);\n  max = str.length;\n  let labelEnd = -1;\n  for (pos = 1; pos < max; pos++) {\n    const ch = str.charCodeAt(pos);\n    if (ch === 0x5B /* [ */) {\n      return false;\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos;\n      break;\n    } else if (ch === 0x0A /* \\n */) {\n      const lineContent = getNextLine(nextLine);\n      if (lineContent !== null) {\n        str += lineContent;\n        max = str.length;\n        nextLine++;\n      }\n    } else if (ch === 0x5C /* \\ */) {\n      pos++;\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        const lineContent = getNextLine(nextLine);\n        if (lineContent !== null) {\n          str += lineContent;\n          max = str.length;\n          nextLine++;\n        }\n      }\n    }\n  }\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A /* : */) {\n    return false;\n  }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    const ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      const lineContent = getNextLine(nextLine);\n      if (lineContent !== null) {\n        str += lineContent;\n        max = str.length;\n        nextLine++;\n      }\n    } else if (isSpace(ch)) ; else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  const destRes = state.md.helpers.parseLinkDestination(str, pos, max);\n  if (!destRes.ok) {\n    return false;\n  }\n  const href = state.md.normalizeLink(destRes.str);\n  if (!state.md.validateLink(href)) {\n    return false;\n  }\n  pos = destRes.pos;\n\n  // save cursor state, we could require to rollback later\n  const destEndPos = pos;\n  const destEndLineNo = nextLine;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  const start = pos;\n  for (; pos < max; pos++) {\n    const ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      const lineContent = getNextLine(nextLine);\n      if (lineContent !== null) {\n        str += lineContent;\n        max = str.length;\n        nextLine++;\n      }\n    } else if (isSpace(ch)) ; else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  let titleRes = state.md.helpers.parseLinkTitle(str, pos, max);\n  while (titleRes.can_continue) {\n    const lineContent = getNextLine(nextLine);\n    if (lineContent === null) break;\n    str += lineContent;\n    pos = max;\n    max = str.length;\n    nextLine++;\n    titleRes = state.md.helpers.parseLinkTitle(str, pos, max, titleRes);\n  }\n  let title;\n  if (pos < max && start !== pos && titleRes.ok) {\n    title = titleRes.str;\n    pos = titleRes.pos;\n  } else {\n    title = '';\n    pos = destEndPos;\n    nextLine = destEndLineNo;\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    const ch = str.charCodeAt(pos);\n    if (!isSpace(ch)) {\n      break;\n    }\n    pos++;\n  }\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = '';\n      pos = destEndPos;\n      nextLine = destEndLineNo;\n      while (pos < max) {\n        const ch = str.charCodeAt(pos);\n        if (!isSpace(ch)) {\n          break;\n        }\n        pos++;\n      }\n    }\n  }\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false;\n  }\n  const label = normalizeReference(str.slice(1, labelEnd));\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false;\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /* istanbul ignore if */\n  if (silent) {\n    return true;\n  }\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {};\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = {\n      title,\n      href\n    };\n  }\n  state.line = nextLine;\n  return true;\n}\n\n// List of valid html blocks names, according to commonmark spec\n// https://spec.commonmark.org/0.30/#html-blocks\n\nvar block_names = ['address', 'article', 'aside', 'base', 'basefont', 'blockquote', 'body', 'caption', 'center', 'col', 'colgroup', 'dd', 'details', 'dialog', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'frame', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hr', 'html', 'iframe', 'legend', 'li', 'link', 'main', 'menu', 'menuitem', 'nav', 'noframes', 'ol', 'optgroup', 'option', 'p', 'param', 'search', 'section', 'summary', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'title', 'tr', 'track', 'ul'];\n\n// Regexps to match html elements\n\nconst attr_name = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\nconst unquoted = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\nconst single_quoted = \"'[^']*'\";\nconst double_quoted = '\"[^\"]*\"';\nconst attr_value = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')';\nconst attribute = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)';\nconst open_tag = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>';\nconst close_tag = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>';\nconst comment = '<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->';\nconst processing = '<[?][\\\\s\\\\S]*?[?]>';\nconst declaration = '<![A-Za-z][^>]*>';\nconst cdata = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>';\nconst HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment + '|' + processing + '|' + declaration + '|' + cdata + ')');\nconst HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')');\n\n// HTML block\n\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nconst HTML_SEQUENCES = [[/^<(script|pre|style|textarea)(?=(\\s|>|$))/i, /<\\/(script|pre|style|textarea)>/i, true], [/^<!--/, /-->/, true], [/^<\\?/, /\\?>/, true], [/^<![A-Z]/, />/, true], [/^<!\\[CDATA\\[/, /\\]\\]>/, true], [new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true], [new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'), /^$/, false]];\nfunction html_block(state, startLine, endLine, silent) {\n  let pos = state.bMarks[startLine] + state.tShift[startLine];\n  let max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) {\n    return false;\n  }\n  if (!state.md.options.html) {\n    return false;\n  }\n  if (state.src.charCodeAt(pos) !== 0x3C /* < */) {\n    return false;\n  }\n  let lineText = state.src.slice(pos, max);\n  let i = 0;\n  for (; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) {\n      break;\n    }\n  }\n  if (i === HTML_SEQUENCES.length) {\n    return false;\n  }\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2];\n  }\n  let nextLine = startLine + 1;\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) {\n        break;\n      }\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n      lineText = state.src.slice(pos, max);\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) {\n          nextLine++;\n        }\n        break;\n      }\n    }\n  }\n  state.line = nextLine;\n  const token = state.push('html_block', '', 0);\n  token.map = [startLine, nextLine];\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);\n  return true;\n}\n\n// heading (#, ##, ...)\n\nfunction heading(state, startLine, endLine, silent) {\n  let pos = state.bMarks[startLine] + state.tShift[startLine];\n  let max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) {\n    return false;\n  }\n  let ch = state.src.charCodeAt(pos);\n  if (ch !== 0x23 /* # */ || pos >= max) {\n    return false;\n  }\n\n  // count heading level\n  let level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23 /* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n  if (level > 6 || pos < max && !isSpace(ch)) {\n    return false;\n  }\n  if (silent) {\n    return true;\n  }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos);\n  const tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp;\n  }\n  state.line = startLine + 1;\n  const token_o = state.push('heading_open', 'h' + String(level), 1);\n  token_o.markup = '########'.slice(0, level);\n  token_o.map = [startLine, state.line];\n  const token_i = state.push('inline', '', 0);\n  token_i.content = state.src.slice(pos, max).trim();\n  token_i.map = [startLine, state.line];\n  token_i.children = [];\n  const token_c = state.push('heading_close', 'h' + String(level), -1);\n  token_c.markup = '########'.slice(0, level);\n  return true;\n}\n\n// lheading (---, ===)\n\nfunction lheading(state, startLine, endLine /*, silent */) {\n  const terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) {\n    return false;\n  }\n  const oldParentType = state.parentType;\n  state.parentType = 'paragraph'; // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  let level = 0;\n  let marker;\n  let nextLine = startLine + 1;\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) {\n      continue;\n    }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      let pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      const max = state.eMarks[nextLine];\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos);\n        if (marker === 0x2D /* - */ || marker === 0x3D /* = */) {\n          pos = state.skipChars(pos, marker);\n          pos = state.skipSpaces(pos);\n          if (pos >= max) {\n            level = marker === 0x3D /* = */ ? 1 : 2;\n            break;\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) {\n      continue;\n    }\n\n    // Some tags can terminate paragraph without empty line.\n    let terminate = false;\n    for (let i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) {\n      break;\n    }\n  }\n  if (!level) {\n    // Didn't find valid underline\n    return false;\n  }\n  const content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  state.line = nextLine + 1;\n  const token_o = state.push('heading_open', 'h' + String(level), 1);\n  token_o.markup = String.fromCharCode(marker);\n  token_o.map = [startLine, state.line];\n  const token_i = state.push('inline', '', 0);\n  token_i.content = content;\n  token_i.map = [startLine, state.line - 1];\n  token_i.children = [];\n  const token_c = state.push('heading_close', 'h' + String(level), -1);\n  token_c.markup = String.fromCharCode(marker);\n  state.parentType = oldParentType;\n  return true;\n}\n\n// Paragraph\n\nfunction paragraph(state, startLine, endLine) {\n  const terminatorRules = state.md.block.ruler.getRules('paragraph');\n  const oldParentType = state.parentType;\n  let nextLine = startLine + 1;\n  state.parentType = 'paragraph';\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) {\n      continue;\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) {\n      continue;\n    }\n\n    // Some tags can terminate paragraph without empty line.\n    let terminate = false;\n    for (let i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) {\n      break;\n    }\n  }\n  const content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  state.line = nextLine;\n  const token_o = state.push('paragraph_open', 'p', 1);\n  token_o.map = [startLine, state.line];\n  const token_i = state.push('inline', '', 0);\n  token_i.content = content;\n  token_i.map = [startLine, state.line];\n  token_i.children = [];\n  state.push('paragraph_close', 'p', -1);\n  state.parentType = oldParentType;\n  return true;\n}\n\n/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n\nconst _rules$1 = [\n// First 2 params - rule name & source. Secondary array - list of rules,\n// which can be terminated by this one.\n['table', table, ['paragraph', 'reference']], ['code', code], ['fence', fence, ['paragraph', 'reference', 'blockquote', 'list']], ['blockquote', blockquote, ['paragraph', 'reference', 'blockquote', 'list']], ['hr', hr, ['paragraph', 'reference', 'blockquote', 'list']], ['list', list, ['paragraph', 'reference', 'blockquote']], ['reference', reference], ['html_block', html_block, ['paragraph', 'reference', 'blockquote']], ['heading', heading, ['paragraph', 'reference', 'blockquote']], ['lheading', lheading], ['paragraph', paragraph]];\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock() {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler();\n  for (let i = 0; i < _rules$1.length; i++) {\n    this.ruler.push(_rules$1[i][0], _rules$1[i][1], {\n      alt: (_rules$1[i][2] || []).slice()\n    });\n  }\n}\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  const rules = this.ruler.getRules('');\n  const len = rules.length;\n  const maxNesting = state.md.options.maxNesting;\n  let line = startLine;\n  let hasEmptyLines = false;\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) {\n      break;\n    }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) {\n      break;\n    }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine;\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n    const prevLine = state.line;\n    let ok = false;\n    for (let i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) {\n        if (prevLine >= state.line) {\n          throw new Error(\"block rule didn't increment state.line\");\n        }\n        break;\n      }\n    }\n\n    // this can only happen if user disables paragraph rule\n    if (!ok) throw new Error('none of the block rules matched');\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n    line = state.line;\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n      state.line = line;\n    }\n  }\n};\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  if (!src) {\n    return;\n  }\n  const state = new this.State(src, md, env, outTokens);\n  this.tokenize(state, state.line, state.lineMax);\n};\nParserBlock.prototype.State = StateBlock;\n\n// Inline parser state\n\nfunction StateInline(src, md, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.md = md;\n  this.tokens = outTokens;\n  this.tokens_meta = Array(outTokens.length);\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  // Stores { start: end } pairs. Useful for backtrack\n  // optimization of pairs parse (emphasis, strikes).\n  this.cache = {};\n\n  // List of emphasis-like delimiters for current tag\n  this.delimiters = [];\n\n  // Stack of delimiter lists for upper level tags\n  this._prev_delimiters = [];\n\n  // backtick length => last seen position\n  this.backticks = {};\n  this.backticksScanned = false;\n\n  // Counter used to disable inline linkify-it execution\n  // inside <a> and markdown links\n  this.linkLevel = 0;\n}\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  const token = new Token('text', '', 0);\n  token.content = this.pending;\n  token.level = this.pendingLevel;\n  this.tokens.push(token);\n  this.pending = '';\n  return token;\n};\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending();\n  }\n  const token = new Token(type, tag, nesting);\n  let token_meta = null;\n  if (nesting < 0) {\n    // closing tag\n    this.level--;\n    this.delimiters = this._prev_delimiters.pop();\n  }\n  token.level = this.level;\n  if (nesting > 0) {\n    // opening tag\n    this.level++;\n    this._prev_delimiters.push(this.delimiters);\n    this.delimiters = [];\n    token_meta = {\n      delimiters: this.delimiters\n    };\n  }\n  this.pendingLevel = this.level;\n  this.tokens.push(token);\n  this.tokens_meta.push(token_meta);\n  return token;\n};\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  const max = this.posMax;\n  const marker = this.src.charCodeAt(start);\n\n  // treat beginning of the line as a whitespace\n  const lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20;\n  let pos = start;\n  while (pos < max && this.src.charCodeAt(pos) === marker) {\n    pos++;\n  }\n  const count = pos - start;\n\n  // treat end of the line as a whitespace\n  const nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20;\n  const isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n  const isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n  const isLastWhiteSpace = isWhiteSpace(lastChar);\n  const isNextWhiteSpace = isWhiteSpace(nextChar);\n  const left_flanking = !isNextWhiteSpace && (!isNextPunctChar || isLastWhiteSpace || isLastPunctChar);\n  const right_flanking = !isLastWhiteSpace && (!isLastPunctChar || isNextWhiteSpace || isNextPunctChar);\n  const can_open = left_flanking && (canSplitWord || !right_flanking || isLastPunctChar);\n  const can_close = right_flanking && (canSplitWord || !left_flanking || isNextPunctChar);\n  return {\n    can_open,\n    can_close,\n    length: count\n  };\n};\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token;\n\n// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A /* \\n */:\n    case 0x21 /* ! */:\n    case 0x23 /* # */:\n    case 0x24 /* $ */:\n    case 0x25 /* % */:\n    case 0x26 /* & */:\n    case 0x2A /* * */:\n    case 0x2B /* + */:\n    case 0x2D /* - */:\n    case 0x3A /* : */:\n    case 0x3C /* < */:\n    case 0x3D /* = */:\n    case 0x3E /* > */:\n    case 0x40 /* @ */:\n    case 0x5B /* [ */:\n    case 0x5C /* \\ */:\n    case 0x5D /* ] */:\n    case 0x5E /* ^ */:\n    case 0x5F /* _ */:\n    case 0x60 /* ` */:\n    case 0x7B /* { */:\n    case 0x7D /* } */:\n    case 0x7E /* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\nfunction text(state, silent) {\n  let pos = state.pos;\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n  if (pos === state.pos) {\n    return false;\n  }\n  if (!silent) {\n    state.pending += state.src.slice(state.pos, pos);\n  }\n  state.pos = pos;\n  return true;\n}\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParserInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n}; */\n\n// Process links like https://example.org/\n\n// RFC3986: scheme = ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\nconst SCHEME_RE = /(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;\nfunction linkify(state, silent) {\n  if (!state.md.options.linkify) return false;\n  if (state.linkLevel > 0) return false;\n  const pos = state.pos;\n  const max = state.posMax;\n  if (pos + 3 > max) return false;\n  if (state.src.charCodeAt(pos) !== 0x3A /* : */) return false;\n  if (state.src.charCodeAt(pos + 1) !== 0x2F /* / */) return false;\n  if (state.src.charCodeAt(pos + 2) !== 0x2F /* / */) return false;\n  const match = state.pending.match(SCHEME_RE);\n  if (!match) return false;\n  const proto = match[1];\n  const link = state.md.linkify.matchAtStart(state.src.slice(pos - proto.length));\n  if (!link) return false;\n  let url = link.url;\n\n  // invalid link, but still detected by linkify somehow;\n  // need to check to prevent infinite loop below\n  if (url.length <= proto.length) return false;\n\n  // disallow '*' at the end of the link (conflicts with emphasis)\n  url = url.replace(/\\*+$/, '');\n  const fullUrl = state.md.normalizeLink(url);\n  if (!state.md.validateLink(fullUrl)) return false;\n  if (!silent) {\n    state.pending = state.pending.slice(0, -proto.length);\n    const token_o = state.push('link_open', 'a', 1);\n    token_o.attrs = [['href', fullUrl]];\n    token_o.markup = 'linkify';\n    token_o.info = 'auto';\n    const token_t = state.push('text', '', 0);\n    token_t.content = state.md.normalizeLinkText(url);\n    const token_c = state.push('link_close', 'a', -1);\n    token_c.markup = 'linkify';\n    token_c.info = 'auto';\n  }\n  state.pos += url.length - proto.length;\n  return true;\n}\n\n// Proceess '\\n'\n\nfunction newline(state, silent) {\n  let pos = state.pos;\n  if (state.src.charCodeAt(pos) !== 0x0A /* \\n */) {\n    return false;\n  }\n  const pmax = state.pending.length - 1;\n  const max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Find whitespaces tail of pending chars.\n        let ws = pmax - 1;\n        while (ws >= 1 && state.pending.charCodeAt(ws - 1) === 0x20) ws--;\n        state.pending = state.pending.slice(0, ws);\n        state.push('hardbreak', 'br', 0);\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push('softbreak', 'br', 0);\n      }\n    } else {\n      state.push('softbreak', 'br', 0);\n    }\n  }\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n  state.pos = pos;\n  return true;\n}\n\n// Process escaped chars and hardbreaks\n\nconst ESCAPED = [];\nfor (let i = 0; i < 256; i++) {\n  ESCAPED.push(0);\n}\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'.split('').forEach(function (ch) {\n  ESCAPED[ch.charCodeAt(0)] = 1;\n});\nfunction escape(state, silent) {\n  let pos = state.pos;\n  const max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x5C /* \\ */) return false;\n  pos++;\n\n  // '\\' at the end of the inline block\n  if (pos >= max) return false;\n  let ch1 = state.src.charCodeAt(pos);\n  if (ch1 === 0x0A) {\n    if (!silent) {\n      state.push('hardbreak', 'br', 0);\n    }\n    pos++;\n    // skip leading whitespaces from next line\n    while (pos < max) {\n      ch1 = state.src.charCodeAt(pos);\n      if (!isSpace(ch1)) break;\n      pos++;\n    }\n    state.pos = pos;\n    return true;\n  }\n  let escapedStr = state.src[pos];\n  if (ch1 >= 0xD800 && ch1 <= 0xDBFF && pos + 1 < max) {\n    const ch2 = state.src.charCodeAt(pos + 1);\n    if (ch2 >= 0xDC00 && ch2 <= 0xDFFF) {\n      escapedStr += state.src[pos + 1];\n      pos++;\n    }\n  }\n  const origStr = '\\\\' + escapedStr;\n  if (!silent) {\n    const token = state.push('text_special', '', 0);\n    if (ch1 < 256 && ESCAPED[ch1] !== 0) {\n      token.content = escapedStr;\n    } else {\n      token.content = origStr;\n    }\n    token.markup = origStr;\n    token.info = 'escape';\n  }\n  state.pos = pos + 1;\n  return true;\n}\n\n// Parse backticks\n\nfunction backtick(state, silent) {\n  let pos = state.pos;\n  const ch = state.src.charCodeAt(pos);\n  if (ch !== 0x60 /* ` */) {\n    return false;\n  }\n  const start = pos;\n  pos++;\n  const max = state.posMax;\n\n  // scan marker length\n  while (pos < max && state.src.charCodeAt(pos) === 0x60 /* ` */) {\n    pos++;\n  }\n  const marker = state.src.slice(start, pos);\n  const openerLength = marker.length;\n  if (state.backticksScanned && (state.backticks[openerLength] || 0) <= start) {\n    if (!silent) state.pending += marker;\n    state.pos += openerLength;\n    return true;\n  }\n  let matchEnd = pos;\n  let matchStart;\n\n  // Nothing found in the cache, scan until the end of the line (or until marker is found)\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    // scan marker length\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60 /* ` */) {\n      matchEnd++;\n    }\n    const closerLength = matchEnd - matchStart;\n    if (closerLength === openerLength) {\n      // Found matching closer length.\n      if (!silent) {\n        const token = state.push('code_inline', 'code', 0);\n        token.markup = marker;\n        token.content = state.src.slice(pos, matchStart).replace(/\\n/g, ' ').replace(/^ (.+) $/, '$1');\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n\n    // Some different length found, put it in cache as upper limit of where closer can be found\n    state.backticks[closerLength] = matchStart;\n  }\n\n  // Scanned through the end, didn't find anything\n  state.backticksScanned = true;\n  if (!silent) state.pending += marker;\n  state.pos += openerLength;\n  return true;\n}\n\n// ~~strike through~~\n//\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nfunction strikethrough_tokenize(state, silent) {\n  const start = state.pos;\n  const marker = state.src.charCodeAt(start);\n  if (silent) {\n    return false;\n  }\n  if (marker !== 0x7E /* ~ */) {\n    return false;\n  }\n  const scanned = state.scanDelims(state.pos, true);\n  let len = scanned.length;\n  const ch = String.fromCharCode(marker);\n  if (len < 2) {\n    return false;\n  }\n  let token;\n  if (len % 2) {\n    token = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n  for (let i = 0; i < len; i += 2) {\n    token = state.push('text', '', 0);\n    token.content = ch + ch;\n    state.delimiters.push({\n      marker,\n      length: 0,\n      // disable \"rule of 3\" length checks meant for emphasis\n      token: state.tokens.length - 1,\n      end: -1,\n      open: scanned.can_open,\n      close: scanned.can_close\n    });\n  }\n  state.pos += scanned.length;\n  return true;\n}\nfunction postProcess$1(state, delimiters) {\n  let token;\n  const loneMarkers = [];\n  const max = delimiters.length;\n  for (let i = 0; i < max; i++) {\n    const startDelim = delimiters[i];\n    if (startDelim.marker !== 0x7E /* ~ */) {\n      continue;\n    }\n    if (startDelim.end === -1) {\n      continue;\n    }\n    const endDelim = delimiters[startDelim.end];\n    token = state.tokens[startDelim.token];\n    token.type = 's_open';\n    token.tag = 's';\n    token.nesting = 1;\n    token.markup = '~~';\n    token.content = '';\n    token = state.tokens[endDelim.token];\n    token.type = 's_close';\n    token.tag = 's';\n    token.nesting = -1;\n    token.markup = '~~';\n    token.content = '';\n    if (state.tokens[endDelim.token - 1].type === 'text' && state.tokens[endDelim.token - 1].content === '~') {\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    const i = loneMarkers.pop();\n    let j = i + 1;\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n    j--;\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n}\n\n// Walk through delimiter list and replace text tokens with tags\n//\nfunction strikethrough_postProcess(state) {\n  const tokens_meta = state.tokens_meta;\n  const max = state.tokens_meta.length;\n  postProcess$1(state, state.delimiters);\n  for (let curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess$1(state, tokens_meta[curr].delimiters);\n    }\n  }\n}\nvar r_strikethrough = {\n  tokenize: strikethrough_tokenize,\n  postProcess: strikethrough_postProcess\n};\n\n// Process *this* and _that_\n//\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nfunction emphasis_tokenize(state, silent) {\n  const start = state.pos;\n  const marker = state.src.charCodeAt(start);\n  if (silent) {\n    return false;\n  }\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) {\n    return false;\n  }\n  const scanned = state.scanDelims(state.pos, marker === 0x2A);\n  for (let i = 0; i < scanned.length; i++) {\n    const token = state.push('text', '', 0);\n    token.content = String.fromCharCode(marker);\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker,\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n      // A position of the token this delimiter corresponds to.\n      //\n      token: state.tokens.length - 1,\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end: -1,\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open: scanned.can_open,\n      close: scanned.can_close\n    });\n  }\n  state.pos += scanned.length;\n  return true;\n}\nfunction postProcess(state, delimiters) {\n  const max = delimiters.length;\n  for (let i = max - 1; i >= 0; i--) {\n    const startDelim = delimiters[i];\n    if (startDelim.marker !== 0x5F /* _ */ && startDelim.marker !== 0x2A /* * */) {\n      continue;\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue;\n    }\n    const endDelim = delimiters[startDelim.end];\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    const isStrong = i > 0 && delimiters[i - 1].end === startDelim.end + 1 &&\n    // check that first two markers match and adjacent\n    delimiters[i - 1].marker === startDelim.marker && delimiters[i - 1].token === startDelim.token - 1 &&\n    // check that last two markers are adjacent (we can safely assume they match)\n    delimiters[startDelim.end + 1].token === endDelim.token + 1;\n    const ch = String.fromCharCode(startDelim.marker);\n    const token_o = state.tokens[startDelim.token];\n    token_o.type = isStrong ? 'strong_open' : 'em_open';\n    token_o.tag = isStrong ? 'strong' : 'em';\n    token_o.nesting = 1;\n    token_o.markup = isStrong ? ch + ch : ch;\n    token_o.content = '';\n    const token_c = state.tokens[endDelim.token];\n    token_c.type = isStrong ? 'strong_close' : 'em_close';\n    token_c.tag = isStrong ? 'strong' : 'em';\n    token_c.nesting = -1;\n    token_c.markup = isStrong ? ch + ch : ch;\n    token_c.content = '';\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = '';\n      state.tokens[delimiters[startDelim.end + 1].token].content = '';\n      i--;\n    }\n  }\n}\n\n// Walk through delimiter list and replace text tokens with tags\n//\nfunction emphasis_post_process(state) {\n  const tokens_meta = state.tokens_meta;\n  const max = state.tokens_meta.length;\n  postProcess(state, state.delimiters);\n  for (let curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n}\nvar r_emphasis = {\n  tokenize: emphasis_tokenize,\n  postProcess: emphasis_post_process\n};\n\n// Process [link](<to> \"stuff\")\n\nfunction link(state, silent) {\n  let code, label, res, ref;\n  let href = '';\n  let title = '';\n  let start = state.pos;\n  let parseReference = true;\n  if (state.src.charCodeAt(state.pos) !== 0x5B /* [ */) {\n    return false;\n  }\n  const oldPos = state.pos;\n  const max = state.posMax;\n  const labelStart = state.pos + 1;\n  const labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) {\n    return false;\n  }\n  let pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28 /* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false;\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) {\n        break;\n      }\n    }\n    if (pos >= max) {\n      return false;\n    }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                ^^ skipping these spaces\n      start = pos;\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) {\n          break;\n        }\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                  ^^^^^^^ parsing link title\n      res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n      if (pos < max && start !== pos && res.ok) {\n        title = res.str;\n        pos = res.pos;\n\n        // [link](  <href>  \"title\"  )\n        //                         ^^ skipping these spaces\n        for (; pos < max; pos++) {\n          code = state.src.charCodeAt(pos);\n          if (!isSpace(code) && code !== 0x0A) {\n            break;\n          }\n        }\n      }\n    }\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29 /* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true;\n    }\n    pos++;\n  }\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') {\n      return false;\n    }\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B /* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) {\n      label = state.src.slice(labelStart, labelEnd);\n    }\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n    const token_o = state.push('link_open', 'a', 1);\n    const attrs = [['href', href]];\n    token_o.attrs = attrs;\n    if (title) {\n      attrs.push(['title', title]);\n    }\n    state.linkLevel++;\n    state.md.inline.tokenize(state);\n    state.linkLevel--;\n    state.push('link_close', 'a', -1);\n  }\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n}\n\n// Process ![image](<src> \"title\")\n\nfunction image(state, silent) {\n  let code, content, label, pos, ref, res, title, start;\n  let href = '';\n  const oldPos = state.pos;\n  const max = state.posMax;\n  if (state.src.charCodeAt(state.pos) !== 0x21 /* ! */) {\n    return false;\n  }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B /* [ */) {\n    return false;\n  }\n  const labelStart = state.pos + 2;\n  const labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) {\n    return false;\n  }\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28 /* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) {\n        break;\n      }\n    }\n    if (pos >= max) {\n      return false;\n    }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) {\n        break;\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) {\n          break;\n        }\n      }\n    } else {\n      title = '';\n    }\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29 /* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') {\n      return false;\n    }\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B /* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) {\n      label = state.src.slice(labelStart, labelEnd);\n    }\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd);\n    const tokens = [];\n    state.md.inline.parse(content, state.md, state.env, tokens);\n    const token = state.push('image', 'img', 0);\n    const attrs = [['src', href], ['alt', '']];\n    token.attrs = attrs;\n    token.children = tokens;\n    token.content = content;\n    if (title) {\n      attrs.push(['title', title]);\n    }\n  }\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n}\n\n// Process autolinks '<protocol:...>'\n\n/* eslint max-len:0 */\nconst EMAIL_RE = /^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/;\n/* eslint-disable-next-line no-control-regex */\nconst AUTOLINK_RE = /^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\\x00-\\x20]*)$/;\nfunction autolink(state, silent) {\n  let pos = state.pos;\n  if (state.src.charCodeAt(pos) !== 0x3C /* < */) {\n    return false;\n  }\n  const start = state.pos;\n  const max = state.posMax;\n  for (;;) {\n    if (++pos >= max) return false;\n    const ch = state.src.charCodeAt(pos);\n    if (ch === 0x3C /* < */) return false;\n    if (ch === 0x3E /* > */) break;\n  }\n  const url = state.src.slice(start + 1, pos);\n  if (AUTOLINK_RE.test(url)) {\n    const fullUrl = state.md.normalizeLink(url);\n    if (!state.md.validateLink(fullUrl)) {\n      return false;\n    }\n    if (!silent) {\n      const token_o = state.push('link_open', 'a', 1);\n      token_o.attrs = [['href', fullUrl]];\n      token_o.markup = 'autolink';\n      token_o.info = 'auto';\n      const token_t = state.push('text', '', 0);\n      token_t.content = state.md.normalizeLinkText(url);\n      const token_c = state.push('link_close', 'a', -1);\n      token_c.markup = 'autolink';\n      token_c.info = 'auto';\n    }\n    state.pos += url.length + 2;\n    return true;\n  }\n  if (EMAIL_RE.test(url)) {\n    const fullUrl = state.md.normalizeLink('mailto:' + url);\n    if (!state.md.validateLink(fullUrl)) {\n      return false;\n    }\n    if (!silent) {\n      const token_o = state.push('link_open', 'a', 1);\n      token_o.attrs = [['href', fullUrl]];\n      token_o.markup = 'autolink';\n      token_o.info = 'auto';\n      const token_t = state.push('text', '', 0);\n      token_t.content = state.md.normalizeLinkText(url);\n      const token_c = state.push('link_close', 'a', -1);\n      token_c.markup = 'autolink';\n      token_c.info = 'auto';\n    }\n    state.pos += url.length + 2;\n    return true;\n  }\n  return false;\n}\n\n// Process html tags\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\nfunction isLetter(ch) {\n  /* eslint no-bitwise:0 */\n  const lc = ch | 0x20; // to lower case\n  return lc >= 0x61 /* a */ && lc <= 0x7a /* z */;\n}\nfunction html_inline(state, silent) {\n  if (!state.md.options.html) {\n    return false;\n  }\n\n  // Check start\n  const max = state.posMax;\n  const pos = state.pos;\n  if (state.src.charCodeAt(pos) !== 0x3C /* < */ || pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  const ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21 /* ! */ && ch !== 0x3F /* ? */ && ch !== 0x2F /* / */ && !isLetter(ch)) {\n    return false;\n  }\n  const match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) {\n    return false;\n  }\n  if (!silent) {\n    const token = state.push('html_inline', '', 0);\n    token.content = match[0];\n    if (isLinkOpen(token.content)) state.linkLevel++;\n    if (isLinkClose(token.content)) state.linkLevel--;\n  }\n  state.pos += match[0].length;\n  return true;\n}\n\n// Process html entity - &#123;, &#xAF;, &quot;, ...\n\nconst DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nconst NAMED_RE = /^&([a-z][a-z0-9]{1,31});/i;\nfunction entity(state, silent) {\n  const pos = state.pos;\n  const max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x26 /* & */) return false;\n  if (pos + 1 >= max) return false;\n  const ch = state.src.charCodeAt(pos + 1);\n  if (ch === 0x23 /* # */) {\n    const match = state.src.slice(pos).match(DIGITAL_RE);\n    if (match) {\n      if (!silent) {\n        const code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n        const token = state.push('text_special', '', 0);\n        token.content = isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        token.markup = match[0];\n        token.info = 'entity';\n      }\n      state.pos += match[0].length;\n      return true;\n    }\n  } else {\n    const match = state.src.slice(pos).match(NAMED_RE);\n    if (match) {\n      const decoded = entities.decodeHTML(match[0]);\n      if (decoded !== match[0]) {\n        if (!silent) {\n          const token = state.push('text_special', '', 0);\n          token.content = decoded;\n          token.markup = match[0];\n          token.info = 'entity';\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n// For each opening emphasis-like marker find a matching closing one\n//\n\nfunction processDelimiters(delimiters) {\n  const openersBottom = {};\n  const max = delimiters.length;\n  if (!max) return;\n\n  // headerIdx is the first delimiter of the current (where closer is) delimiter run\n  let headerIdx = 0;\n  let lastTokenIdx = -2; // needs any value lower than -1\n  const jumps = [];\n  for (let closerIdx = 0; closerIdx < max; closerIdx++) {\n    const closer = delimiters[closerIdx];\n    jumps.push(0);\n\n    // markers belong to same delimiter run if:\n    //  - they have adjacent tokens\n    //  - AND markers are the same\n    //\n    if (delimiters[headerIdx].marker !== closer.marker || lastTokenIdx !== closer.token - 1) {\n      headerIdx = closerIdx;\n    }\n    lastTokenIdx = closer.token;\n\n    // Length is only used for emphasis-specific \"rule of 3\",\n    // if it's not defined (in strikethrough or 3rd party plugins),\n    // we can default it to 0 to disable those checks.\n    //\n    closer.length = closer.length || 0;\n    if (!closer.close) continue;\n\n    // Previously calculated lower bounds (previous fails)\n    // for each marker, each delimiter length modulo 3,\n    // and for whether this closer can be an opener;\n    // https://github.com/commonmark/cmark/commit/34250e12ccebdc6372b8b49c44fab57c72443460\n    /* eslint-disable-next-line no-prototype-builtins */\n    if (!openersBottom.hasOwnProperty(closer.marker)) {\n      openersBottom[closer.marker] = [-1, -1, -1, -1, -1, -1];\n    }\n    const minOpenerIdx = openersBottom[closer.marker][(closer.open ? 3 : 0) + closer.length % 3];\n    let openerIdx = headerIdx - jumps[headerIdx] - 1;\n    let newMinOpenerIdx = openerIdx;\n    for (; openerIdx > minOpenerIdx; openerIdx -= jumps[openerIdx] + 1) {\n      const opener = delimiters[openerIdx];\n      if (opener.marker !== closer.marker) continue;\n      if (opener.open && opener.end < 0) {\n        let isOddMatch = false;\n\n        // from spec:\n        //\n        // If one of the delimiters can both open and close emphasis, then the\n        // sum of the lengths of the delimiter runs containing the opening and\n        // closing delimiters must not be a multiple of 3 unless both lengths\n        // are multiples of 3.\n        //\n        if (opener.close || closer.open) {\n          if ((opener.length + closer.length) % 3 === 0) {\n            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {\n              isOddMatch = true;\n            }\n          }\n        }\n        if (!isOddMatch) {\n          // If previous delimiter cannot be an opener, we can safely skip\n          // the entire sequence in future checks. This is required to make\n          // sure algorithm has linear complexity (see *_*_*_*_*_... case).\n          //\n          const lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open ? jumps[openerIdx - 1] + 1 : 0;\n          jumps[closerIdx] = closerIdx - openerIdx + lastJump;\n          jumps[openerIdx] = lastJump;\n          closer.open = false;\n          opener.end = closerIdx;\n          opener.close = false;\n          newMinOpenerIdx = -1;\n          // treat next token as start of run,\n          // it optimizes skips in **<...>**a**<...>** pathological case\n          lastTokenIdx = -2;\n          break;\n        }\n      }\n    }\n    if (newMinOpenerIdx !== -1) {\n      // If match for this delimiter run failed, we want to set lower bound for\n      // future lookups. This is required to make sure algorithm has linear\n      // complexity.\n      //\n      // See details here:\n      // https://github.com/commonmark/cmark/issues/178#issuecomment-270417442\n      //\n      openersBottom[closer.marker][(closer.open ? 3 : 0) + (closer.length || 0) % 3] = newMinOpenerIdx;\n    }\n  }\n}\nfunction link_pairs(state) {\n  const tokens_meta = state.tokens_meta;\n  const max = state.tokens_meta.length;\n  processDelimiters(state.delimiters);\n  for (let curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      processDelimiters(tokens_meta[curr].delimiters);\n    }\n  }\n}\n\n// Clean up tokens after emphasis and strikethrough postprocessing:\n// merge adjacent text nodes into one and re-calculate all token levels\n//\n// This is necessary because initially emphasis delimiter markers (*, _, ~)\n// are treated as their own separate text tokens. Then emphasis rule either\n// leaves them as text (needed to merge with adjacent text) or turns them\n// into opening/closing tags (which messes up levels inside).\n//\n\nfunction fragments_join(state) {\n  let curr, last;\n  let level = 0;\n  const tokens = state.tokens;\n  const max = state.tokens.length;\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels after emphasis/strikethrough turns some text nodes\n    // into opening/closing tags\n    if (tokens[curr].nesting < 0) level--; // closing tag\n    tokens[curr].level = level;\n    if (tokens[curr].nesting > 0) level++; // opening tag\n\n    if (tokens[curr].type === 'text' && curr + 1 < max && tokens[curr + 1].type === 'text') {\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n    } else {\n      if (curr !== last) {\n        tokens[last] = tokens[curr];\n      }\n      last++;\n    }\n  }\n  if (curr !== last) {\n    tokens.length = last;\n  }\n}\n\n/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n\n\n// Parser rules\n\nconst _rules = [['text', text], ['linkify', linkify], ['newline', newline], ['escape', escape], ['backticks', backtick], ['strikethrough', r_strikethrough.tokenize], ['emphasis', r_emphasis.tokenize], ['link', link], ['image', image], ['autolink', autolink], ['html_inline', html_inline], ['entity', entity]];\n\n// `rule2` ruleset was created specifically for emphasis/strikethrough\n// post-processing and may be changed in the future.\n//\n// Don't use this for anything except pairs (plugins working with `balance_pairs`).\n//\nconst _rules2 = [['balance_pairs', link_pairs], ['strikethrough', r_strikethrough.postProcess], ['emphasis', r_emphasis.postProcess],\n// rules for pairs separate '**' into its own text tokens, which may be left unused,\n// rule below merges unused segments back with the rest of the text\n['fragments_join', fragments_join]];\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline() {\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler();\n  for (let i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler();\n  for (let i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1]);\n  }\n}\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  const pos = state.pos;\n  const rules = this.ruler.getRules('');\n  const len = rules.length;\n  const maxNesting = state.md.options.maxNesting;\n  const cache = state.cache;\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos];\n    return;\n  }\n  let ok = false;\n  if (state.level < maxNesting) {\n    for (let i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++;\n      ok = rules[i](state, true);\n      state.level--;\n      if (ok) {\n        if (pos >= state.pos) {\n          throw new Error(\"inline rule didn't increment state.pos\");\n        }\n        break;\n      }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax;\n  }\n  if (!ok) {\n    state.pos++;\n  }\n  cache[pos] = state.pos;\n};\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  const rules = this.ruler.getRules('');\n  const len = rules.length;\n  const end = state.posMax;\n  const maxNesting = state.md.options.maxNesting;\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n    const prevPos = state.pos;\n    let ok = false;\n    if (state.level < maxNesting) {\n      for (let i = 0; i < len; i++) {\n        ok = rules[i](state, false);\n        if (ok) {\n          if (prevPos >= state.pos) {\n            throw new Error(\"inline rule didn't increment state.pos\");\n          }\n          break;\n        }\n      }\n    }\n    if (ok) {\n      if (state.pos >= end) {\n        break;\n      }\n      continue;\n    }\n    state.pending += state.src[state.pos++];\n  }\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  const state = new this.State(str, md, env, outTokens);\n  this.tokenize(state);\n  const rules = this.ruler2.getRules('');\n  const len = rules.length;\n  for (let i = 0; i < len; i++) {\n    rules[i](state);\n  }\n};\nParserInline.prototype.State = StateInline;\n\n// markdown-it default options\n\nvar cfg_default = {\n  options: {\n    // Enable HTML tags in source\n    html: false,\n    // Use '/' to close single tags (<br />)\n    xhtmlOut: false,\n    // Convert '\\n' in paragraphs into <br>\n    breaks: false,\n    // CSS language prefix for fenced blocks\n    langPrefix: 'language-',\n    // autoconvert URL-like texts to links\n    linkify: false,\n    // Enable some language-neutral replacements + quotes beautification\n    typographer: false,\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019',\n    /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n    // Internal protection, recursion limit\n    maxNesting: 100\n  },\n  components: {\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n\n// \"Zero\" preset, with nothing enabled. Useful for manual configuring of simple\n// modes. For example, to parse bold/italic only.\n\nvar cfg_zero = {\n  options: {\n    // Enable HTML tags in source\n    html: false,\n    // Use '/' to close single tags (<br />)\n    xhtmlOut: false,\n    // Convert '\\n' in paragraphs into <br>\n    breaks: false,\n    // CSS language prefix for fenced blocks\n    langPrefix: 'language-',\n    // autoconvert URL-like texts to links\n    linkify: false,\n    // Enable some language-neutral replacements + quotes beautification\n    typographer: false,\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019',\n    /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n    // Internal protection, recursion limit\n    maxNesting: 20\n  },\n  components: {\n    core: {\n      rules: ['normalize', 'block', 'inline', 'text_join']\n    },\n    block: {\n      rules: ['paragraph']\n    },\n    inline: {\n      rules: ['text'],\n      rules2: ['balance_pairs', 'fragments_join']\n    }\n  }\n};\n\n// Commonmark default options\n\nvar cfg_commonmark = {\n  options: {\n    // Enable HTML tags in source\n    html: true,\n    // Use '/' to close single tags (<br />)\n    xhtmlOut: true,\n    // Convert '\\n' in paragraphs into <br>\n    breaks: false,\n    // CSS language prefix for fenced blocks\n    langPrefix: 'language-',\n    // autoconvert URL-like texts to links\n    linkify: false,\n    // Enable some language-neutral replacements + quotes beautification\n    typographer: false,\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019',\n    /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n    // Internal protection, recursion limit\n    maxNesting: 20\n  },\n  components: {\n    core: {\n      rules: ['normalize', 'block', 'inline', 'text_join']\n    },\n    block: {\n      rules: ['blockquote', 'code', 'fence', 'heading', 'hr', 'html_block', 'lheading', 'list', 'reference', 'paragraph']\n    },\n    inline: {\n      rules: ['autolink', 'backticks', 'emphasis', 'entity', 'escape', 'html_inline', 'image', 'link', 'newline', 'text'],\n      rules2: ['balance_pairs', 'emphasis', 'fragments_join']\n    }\n  }\n};\n\n// Main parser class\n\nconst config = {\n  default: cfg_default,\n  zero: cfg_zero,\n  commonmark: cfg_commonmark\n};\n\n//\n// This validator can prohibit more than really needed to prevent XSS. It's a\n// tradeoff to keep code simple and to be secure by default.\n//\n// If you need different setup - override validator method as you wish. Or\n// replace it with dummy function and use external sanitizer.\n//\n\nconst BAD_PROTO_RE = /^(vbscript|javascript|file|data):/;\nconst GOOD_DATA_RE = /^data:image\\/(gif|png|jpeg|webp);/;\nfunction validateLink(url) {\n  // url should be normalized at this point, and existing entities are decoded\n  const str = url.trim().toLowerCase();\n  return BAD_PROTO_RE.test(str) ? GOOD_DATA_RE.test(str) : true;\n}\nconst RECODE_HOSTNAME_FOR = ['http:', 'https:', 'mailto:'];\nfunction normalizeLink(url) {\n  const parsed = mdurl__namespace.parse(url, true);\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toASCII(parsed.hostname);\n      } catch (er) {/**/}\n    }\n  }\n  return mdurl__namespace.encode(mdurl__namespace.format(parsed));\n}\nfunction normalizeLinkText(url) {\n  const parsed = mdurl__namespace.parse(url, true);\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toUnicode(parsed.hostname);\n      } catch (er) {/**/}\n    }\n  }\n\n  // add '%' to exclude list because of https://github.com/markdown-it/markdown-it/issues/720\n  return mdurl__namespace.decode(mdurl__namespace.format(parsed), mdurl__namespace.decode.defaultChars + '%');\n}\n\n/**\n * class MarkdownIt\n *\n * Main parser/renderer class.\n *\n * ##### Usage\n *\n * ```javascript\n * // node.js, \"classic\" way:\n * var MarkdownIt = require('markdown-it'),\n *     md = new MarkdownIt();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // node.js, the same, but with sugar:\n * var md = require('markdown-it')();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // browser without AMD, added to \"window\" on script load\n * // Note, there are no dash.\n * var md = window.markdownit();\n * var result = md.render('# markdown-it rulezz!');\n * ```\n *\n * Single line rendering, without paragraph wrap:\n *\n * ```javascript\n * var md = require('markdown-it')();\n * var result = md.renderInline('__markdown-it__ rulezz!');\n * ```\n **/\n\n/**\n * new MarkdownIt([presetName, options])\n * - presetName (String): optional, `commonmark` / `zero`\n * - options (Object)\n *\n * Creates parser instanse with given config. Can be called without `new`.\n *\n * ##### presetName\n *\n * MarkdownIt provides named presets as a convenience to quickly\n * enable/disable active syntax rules and options for common use cases.\n *\n * - [\"commonmark\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.mjs) -\n *   configures parser to strict [CommonMark](http://commonmark.org/) mode.\n * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.mjs) -\n *   similar to GFM, used when no preset name given. Enables all available rules,\n *   but still without html, typographer & autolinker.\n * - [\"zero\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.mjs) -\n *   all rules disabled. Useful to quickly setup your config via `.enable()`.\n *   For example, when you need only `bold` and `italic` markup and nothing else.\n *\n * ##### options:\n *\n * - __html__ - `false`. Set `true` to enable HTML tags in source. Be careful!\n *   That's not safe! You may need external sanitizer to protect output from XSS.\n *   It's better to extend features via plugins, instead of enabling HTML.\n * - __xhtmlOut__ - `false`. Set `true` to add '/' when closing single tags\n *   (`<br />`). This is needed only for full CommonMark compatibility. In real\n *   world you will need HTML output.\n * - __breaks__ - `false`. Set `true` to convert `\\n` in paragraphs into `<br>`.\n * - __langPrefix__ - `language-`. CSS language class prefix for fenced blocks.\n *   Can be useful for external highlighters.\n * - __linkify__ - `false`. Set `true` to autoconvert URL-like text to links.\n * - __typographer__  - `false`. Set `true` to enable [some language-neutral\n *   replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.mjs) +\n *   quotes beautification (smartquotes).\n * - __quotes__ - ``, String or Array. Double + single quotes replacement\n *   pairs, when typographer enabled and smartquotes on. For example, you can\n *   use `''` for Russian, `''` for German, and\n *   `['\\xA0', '\\xA0', '\\xA0', '\\xA0']` for French (including nbsp).\n * - __highlight__ - `null`. Highlighter function for fenced code blocks.\n *   Highlighter `function (str, lang)` should return escaped HTML. It can also\n *   return empty string if the source was not changed and should be escaped\n *   externaly. If result starts with <pre... internal wrapper is skipped.\n *\n * ##### Example\n *\n * ```javascript\n * // commonmark mode\n * var md = require('markdown-it')('commonmark');\n *\n * // default mode\n * var md = require('markdown-it')();\n *\n * // enable everything\n * var md = require('markdown-it')({\n *   html: true,\n *   linkify: true,\n *   typographer: true\n * });\n * ```\n *\n * ##### Syntax highlighting\n *\n * ```js\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return hljs.highlight(str, { language: lang, ignoreIllegals: true }).value;\n *       } catch (__) {}\n *     }\n *\n *     return ''; // use external default escaping\n *   }\n * });\n * ```\n *\n * Or with full wrapper override (if you need assign class to `<pre>` or `<code>`):\n *\n * ```javascript\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * // Actual default values\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return '<pre><code class=\"hljs\">' +\n *                hljs.highlight(str, { language: lang, ignoreIllegals: true }).value +\n *                '</code></pre>';\n *       } catch (__) {}\n *     }\n *\n *     return '<pre><code class=\"hljs\">' + md.utils.escapeHtml(str) + '</code></pre>';\n *   }\n * });\n * ```\n *\n **/\nfunction MarkdownIt(presetName, options) {\n  if (!(this instanceof MarkdownIt)) {\n    return new MarkdownIt(presetName, options);\n  }\n  if (!options) {\n    if (!isString(presetName)) {\n      options = presetName || {};\n      presetName = 'default';\n    }\n  }\n\n  /**\n   * MarkdownIt#inline -> ParserInline\n   *\n   * Instance of [[ParserInline]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.inline = new ParserInline();\n\n  /**\n   * MarkdownIt#block -> ParserBlock\n   *\n   * Instance of [[ParserBlock]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.block = new ParserBlock();\n\n  /**\n   * MarkdownIt#core -> Core\n   *\n   * Instance of [[Core]] chain executor. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.core = new Core();\n\n  /**\n   * MarkdownIt#renderer -> Renderer\n   *\n   * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering\n   * rules for new token types, generated by plugins.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * function myToken(tokens, idx, options, env, self) {\n   *   //...\n   *   return result;\n   * };\n   *\n   * md.renderer.rules['my_token'] = myToken\n   * ```\n   *\n   * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.mjs).\n   **/\n  this.renderer = new Renderer();\n\n  /**\n   * MarkdownIt#linkify -> LinkifyIt\n   *\n   * [linkify-it](https://github.com/markdown-it/linkify-it) instance.\n   * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.mjs)\n   * rule.\n   **/\n  this.linkify = new LinkifyIt();\n\n  /**\n   * MarkdownIt#validateLink(url) -> Boolean\n   *\n   * Link validation function. CommonMark allows too much in links. By default\n   * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas\n   * except some embedded image types.\n   *\n   * You can change this behaviour:\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   * // enable everything\n   * md.validateLink = function () { return true; }\n   * ```\n   **/\n  this.validateLink = validateLink;\n\n  /**\n   * MarkdownIt#normalizeLink(url) -> String\n   *\n   * Function used to encode link url to a machine-readable format,\n   * which includes url-encoding, punycode, etc.\n   **/\n  this.normalizeLink = normalizeLink;\n\n  /**\n   * MarkdownIt#normalizeLinkText(url) -> String\n   *\n   * Function used to decode link url to a human-readable format`\n   **/\n  this.normalizeLinkText = normalizeLinkText;\n\n  // Expose utils & helpers for easy acces from plugins\n\n  /**\n   * MarkdownIt#utils -> utils\n   *\n   * Assorted utility functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/common/utils.mjs).\n   **/\n  this.utils = utils;\n\n  /**\n   * MarkdownIt#helpers -> helpers\n   *\n   * Link components parser functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/helpers).\n   **/\n  this.helpers = assign({}, helpers);\n  this.options = {};\n  this.configure(presetName);\n  if (options) {\n    this.set(options);\n  }\n}\n\n/** chainable\n * MarkdownIt.set(options)\n *\n * Set parser options (in the same format as in constructor). Probably, you\n * will never need it, but you can change options after constructor call.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .set({ html: true, breaks: true })\n *             .set({ typographer, true });\n * ```\n *\n * __Note:__ To achieve the best possible performance, don't modify a\n * `markdown-it` instance options on the fly. If you need multiple configurations\n * it's best to create multiple instances and initialize each with separate\n * config.\n **/\nMarkdownIt.prototype.set = function (options) {\n  assign(this.options, options);\n  return this;\n};\n\n/** chainable, internal\n * MarkdownIt.configure(presets)\n *\n * Batch load of all options and compenent settings. This is internal method,\n * and you probably will not need it. But if you will - see available presets\n * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)\n *\n * We strongly recommend to use presets instead of direct config loads. That\n * will give better compatibility with next versions.\n **/\nMarkdownIt.prototype.configure = function (presets) {\n  const self = this;\n  if (isString(presets)) {\n    const presetName = presets;\n    presets = config[presetName];\n    if (!presets) {\n      throw new Error('Wrong `markdown-it` preset \"' + presetName + '\", check name');\n    }\n  }\n  if (!presets) {\n    throw new Error('Wrong `markdown-it` preset, can\\'t be empty');\n  }\n  if (presets.options) {\n    self.set(presets.options);\n  }\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enableOnly(presets.components[name].rules);\n      }\n      if (presets.components[name].rules2) {\n        self[name].ruler2.enableOnly(presets.components[name].rules2);\n      }\n    });\n  }\n  return this;\n};\n\n/** chainable\n * MarkdownIt.enable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to enable\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable list or rules. It will automatically find appropriate components,\n * containing rules with given names. If rule not found, and `ignoreInvalid`\n * not set - throws exception.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .enable(['sub', 'sup'])\n *             .disable('smartquotes');\n * ```\n **/\nMarkdownIt.prototype.enable = function (list, ignoreInvalid) {\n  let result = [];\n  if (!Array.isArray(list)) {\n    list = [list];\n  }\n  ['core', 'block', 'inline'].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.enable(list, true));\n  }, this);\n  result = result.concat(this.inline.ruler2.enable(list, true));\n  const missed = list.filter(function (name) {\n    return result.indexOf(name) < 0;\n  });\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to enable unknown rule(s): ' + missed);\n  }\n  return this;\n};\n\n/** chainable\n * MarkdownIt.disable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * The same as [[MarkdownIt.enable]], but turn specified rules off.\n **/\nMarkdownIt.prototype.disable = function (list, ignoreInvalid) {\n  let result = [];\n  if (!Array.isArray(list)) {\n    list = [list];\n  }\n  ['core', 'block', 'inline'].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.disable(list, true));\n  }, this);\n  result = result.concat(this.inline.ruler2.disable(list, true));\n  const missed = list.filter(function (name) {\n    return result.indexOf(name) < 0;\n  });\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to disable unknown rule(s): ' + missed);\n  }\n  return this;\n};\n\n/** chainable\n * MarkdownIt.use(plugin, params)\n *\n * Load specified plugin with given params into current parser instance.\n * It's just a sugar to call `plugin(md, params)` with curring.\n *\n * ##### Example\n *\n * ```javascript\n * var iterator = require('markdown-it-for-inline');\n * var md = require('markdown-it')()\n *             .use(iterator, 'foo_replace', 'text', function (tokens, idx) {\n *               tokens[idx].content = tokens[idx].content.replace(/foo/g, 'bar');\n *             });\n * ```\n **/\nMarkdownIt.prototype.use = function (plugin /*, params, ... */) {\n  const args = [this].concat(Array.prototype.slice.call(arguments, 1));\n  plugin.apply(plugin, args);\n  return this;\n};\n\n/** internal\n * MarkdownIt.parse(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Parse input string and return list of block tokens (special token type\n * \"inline\" will contain list of inline tokens). You should not call this\n * method directly, until you write custom renderer (for example, to produce\n * AST).\n *\n * `env` is used to pass data between \"distributed\" rules and return additional\n * metadata like reference info, needed for the renderer. It also can be used to\n * inject data in specific cases. Usually, you will be ok to pass `{}`,\n * and then pass updated object to renderer.\n **/\nMarkdownIt.prototype.parse = function (src, env) {\n  if (typeof src !== 'string') {\n    throw new Error('Input data should be a String');\n  }\n  const state = new this.core.State(src, this, env);\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * MarkdownIt.render(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Render markdown string into html. It does all magic for you :).\n *\n * `env` can be used to inject additional metadata (`{}` by default).\n * But you will not need it with high probability. See also comment\n * in [[MarkdownIt.parse]].\n **/\nMarkdownIt.prototype.render = function (src, env) {\n  env = env || {};\n  return this.renderer.render(this.parse(src, env), this.options, env);\n};\n\n/** internal\n * MarkdownIt.parseInline(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the\n * block tokens list with the single `inline` element, containing parsed inline\n * tokens in `children` property. Also updates `env` object.\n **/\nMarkdownIt.prototype.parseInline = function (src, env) {\n  const state = new this.core.State(src, this, env);\n  state.inlineMode = true;\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * MarkdownIt.renderInline(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Similar to [[MarkdownIt.render]] but for single paragraph content. Result\n * will NOT be wrapped into `<p>` tags.\n **/\nMarkdownIt.prototype.renderInline = function (src, env) {\n  env = env || {};\n  return this.renderer.render(this.parseInline(src, env), this.options, env);\n};\n\nmodule.exports = MarkdownIt;\n","import * as TSU from \"@panyam/tsutils\";\nexport function allMinimalCycles(nodes, idFunc, edges) {\n    const cycles = [];\n    const inACycle = {};\n    nodes.forEach((node) => {\n        if (!(idFunc(node) in inACycle)) {\n            const startNode = node;\n            const visited = {};\n            let queue = [[node, []]];\n            while (queue.length > 0) {\n                const newQueue = [];\n                for (let i = 0; i < queue.length; i++) {\n                    const [node, c] = queue[i];\n                    TSU.assert(node != null);\n                    const e = edges(node);\n                    let cycle = [...c];\n                    for (const [nextNode, edgeData] of e) {\n                        if (nextNode == startNode) {\n                            cycle.push([edgeData, nextNode]);\n                            cycle.forEach(([e, n], i) => (inACycle[n] = true));\n                            cycles.push([startNode, cycle]);\n                            cycle = cycle.slice(0, cycle.length - 1);\n                        }\n                        else if (!(idFunc(nextNode) in visited)) {\n                            visited[idFunc(nextNode)] = true;\n                            newQueue.push([nextNode, [...cycle, [edgeData, nextNode]]]);\n                        }\n                    }\n                }\n                queue = newQueue;\n            }\n        }\n    });\n    return cycles;\n}\nexport function digraph() {\n}\n//# sourceMappingURL=graph.js.map","import * as TSU from \"@panyam/tsutils\";\nconst defaultKeyFunc = (x) => x.key;\nexport class Trie {\n    constructor(keyFunc) {\n        this.root = new TrieNode();\n        this.keyFunc = keyFunc;\n    }\n    add(values, fromIndex = 0) {\n        let curr = this.root;\n        for (let i = fromIndex; i < values.length; i++) {\n            const key = this.keyFunc(values[i]);\n            if (curr.children.has(key)) {\n                curr = curr.children.get(key);\n            }\n            else {\n                const newNode = new TrieNode();\n                newNode.value = values[i];\n                newNode.parent = curr;\n                curr.children.set(key, newNode);\n                curr = newNode;\n            }\n        }\n        curr.isLeaf = true;\n        return curr;\n    }\n    get debugValue() {\n        return this.root.debugValue;\n    }\n}\nexport class TrieNode {\n    constructor() {\n        this.isLeaf = false;\n        this.value = null;\n        this.parent = null;\n        this.children = new Map();\n    }\n    get debugValue() {\n        const out = { value: this.value, children: {} };\n        if (this.isLeaf)\n            out[\"isLeaf\"] = true;\n        for (const [key, value] of this.children.entries()) {\n            out.children[key] = value.debugValue;\n        }\n        return out;\n    }\n}\nexport class IDSet {\n    constructor(keyFunc = defaultKeyFunc) {\n        this._entries = [];\n        this._entriesByKey = {};\n        this.keyFunc = keyFunc;\n    }\n    clear() {\n        this._entries = [];\n        this._entriesByKey = {};\n    }\n    remove(predicate) {\n        const e2 = [];\n        this._entriesByKey = {};\n        let modified = false;\n        for (let l = 0; l < this._entries.length; l++) {\n            const e = this._entries[l];\n            if (!predicate(e)) {\n                e.id = e2.length;\n                e2.push(e);\n                this._entriesByKey[this.keyFunc(e)] = e;\n            }\n            else {\n                modified = true;\n            }\n        }\n        this._entries = e2;\n        return modified;\n    }\n    get entries() {\n        return this._entries;\n    }\n    get(id) {\n        TSU.assert(id >= 0 && id < this._entries.length);\n        return this._entries[id];\n    }\n    getByKey(key) {\n        return this._entriesByKey[key] || null;\n    }\n    ensure(entry, throwIfExists = false) {\n        if (this.has(entry)) {\n            if (throwIfExists)\n                throw new Error(`Entry ${this.keyFunc(entry)} already exists`);\n            return this._entriesByKey[this.keyFunc(entry)];\n        }\n        else {\n            this._entriesByKey[this.keyFunc(entry)] = entry;\n            entry.id = this._entries.length;\n            this._entries.push(entry);\n            return entry;\n        }\n    }\n    has(entry) {\n        return this.keyFunc(entry) in this._entriesByKey;\n    }\n    get size() {\n        return this._entries.length;\n    }\n}\nexport class SymbolSet {\n    constructor(grammar, enforceSymbolType = true) {\n        this.entries = new Set();\n        this.hasNull = false;\n        this.grammar = grammar;\n        this.enforceSymbolType = enforceSymbolType;\n    }\n    get debugString() {\n        return \"<\" + this.labels().sort().join(\", \") + \">\";\n    }\n    labels(skipAux = false) {\n        const out = [];\n        for (const i of this.entries) {\n            const exp = this.grammar.getSymById(i);\n            TSU.assert(exp != null);\n            if (!skipAux || !exp.isAuxiliary)\n                out.push(exp.label);\n        }\n        if (this.hasNull)\n            out.push(\"\");\n        return out;\n    }\n    addFrom(another, includeNull = true) {\n        return another.addTo(this, includeNull);\n    }\n    addTo(another, includeNull = true) {\n        const before = another.entries.size;\n        for (const termid of this.entries) {\n            another.entries.add(termid);\n        }\n        if (includeNull) {\n            another.hasNull = this.hasNull || another.hasNull;\n        }\n        return another.entries.size - before;\n    }\n    has(term) {\n        return this.entries.has(term.id);\n    }\n    add(term) {\n        TSU.assert(this.enforceSymbolType == null || this.enforceSymbolType == term.isTerminal, `Terminal types being enforced: ${this.enforceSymbolType}`);\n        this.entries.add(term.id);\n        return this;\n    }\n    delete(term) {\n        return this.entries.delete(term.id);\n    }\n    get size() {\n        return this.entries.size + (this.hasNull ? 1 : 0);\n    }\n}\nexport class NullableSet {\n    constructor(grammar) {\n        this.grammar = grammar;\n        this.refresh();\n    }\n    get nonterms() {\n        const out = [];\n        this.entries.forEach((id) => {\n            const e = this.grammar.getSymById(id);\n            TSU.assert(e != null && !e.isTerminal);\n            out.push(e);\n        });\n        return out;\n    }\n    refresh() {\n        this.entries = new Set();\n        this.visited = {};\n        let beforeCount = 0;\n        do {\n            beforeCount = this.entries.size;\n            this.grammar.allNonTerminals.forEach((nt) => this.visit(nt));\n        } while (beforeCount != this.entries.size);\n    }\n    visit(nt) {\n        for (const rule of this.grammar.rulesForNT(nt)) {\n            if (this.isStrNullable(rule.rhs)) {\n                this.add(nt);\n                break;\n            }\n        }\n    }\n    isNullable(nt) {\n        return !nt.isTerminal && this.entries.has(nt.id);\n    }\n    isStrNullable(str, fromIndex = 0, toIndex = null) {\n        if (toIndex == null) {\n            toIndex = str.length - 1;\n        }\n        for (let i = fromIndex; i <= toIndex; i++) {\n            if (!this.isNullable(str.syms[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    add(nt) {\n        TSU.assert(!nt.isTerminal);\n        this.entries.add(nt.id);\n    }\n}\nclass SymSymbolSets {\n    constructor(grammar) {\n        this.entries = {};\n        this._count = 0;\n        this.grammar = grammar;\n    }\n    refresh() {\n        this.entries = {};\n        this._count = 0;\n    }\n    forEachTerm(nt, visitor) {\n        const entries = this.entriesFor(nt);\n        entries.entries.forEach((x) => {\n            const term = this.grammar.getSymById(x);\n            TSU.assert(term != null && term.isTerminal);\n            visitor(term);\n        });\n        if (entries.hasNull)\n            visitor(null);\n    }\n    get debugValue() {\n        const out = {};\n        for (const x in this.entries)\n            out[this.grammar.getSymById(x).label] = this.entries[x].debugString;\n        return out;\n    }\n    get count() {\n        let c = 0;\n        for (const x in this.entries)\n            c += this.entries[x].size;\n        return c;\n    }\n    entriesFor(sym) {\n        if (sym.id in this.entries) {\n            return this.entries[sym.id];\n        }\n        else {\n            const out = new SymbolSet(this.grammar);\n            this.entries[sym.id] = out;\n            return out;\n        }\n    }\n    addNull(nt) {\n        const entries = this.entriesFor(nt);\n        if (entries.hasNull)\n            return false;\n        entries.hasNull = true;\n        return true;\n    }\n    add(nt, source, includeNull = true) {\n        if (nt.isTerminal) {\n            TSU.assert(false, \"Should not be here\");\n        }\n        const entries = this.entriesFor(nt);\n        if (source.isTerminal) {\n            if (entries.has(source))\n                return false;\n            entries.add(source);\n            this._count++;\n        }\n        else {\n            const srcEntries = this.entriesFor(source);\n            const destEntries = this.entriesFor(nt);\n            const count = srcEntries.addTo(destEntries, includeNull);\n            this._count += count;\n        }\n        return true;\n    }\n}\nexport class FirstSets extends SymSymbolSets {\n    constructor(grammar, nullables) {\n        super(grammar);\n        if (!nullables) {\n            nullables = new NullableSet(grammar);\n        }\n        this.nullables = nullables;\n        this.refresh();\n    }\n    forEachTermIn(str, fromIndex = 0, visitor) {\n        const syms = str.syms;\n        const visited = {};\n        let allNullable = true;\n        for (let j = fromIndex; allNullable && j < syms.length; j++) {\n            const symj = syms[j];\n            if (symj.isTerminal) {\n                visitor(symj);\n                allNullable = false;\n            }\n            else {\n                const nt = symj;\n                this.forEachTerm(nt, (term) => {\n                    if (term != null && !(term.id in visited)) {\n                        visited[term.id] = true;\n                        visitor(term);\n                    }\n                });\n                if (!this.nullables.isNullable(symj)) {\n                    allNullable = false;\n                }\n            }\n        }\n        if (allNullable)\n            visitor(null);\n    }\n    refresh() {\n        super.refresh();\n        let beforeCount = 0;\n        do {\n            beforeCount = this.count;\n            this.grammar.forEachRule(null, (rule) => {\n                this.processRule(rule);\n            });\n        } while (beforeCount != this.count);\n    }\n    processRule(rule) {\n        const nullables = this.nullables;\n        let allNullable = true;\n        for (const s of rule.rhs.syms) {\n            this.add(rule.nt, s, false);\n            if (s.isTerminal || !nullables.isNullable(s)) {\n                allNullable = false;\n                break;\n            }\n        }\n        if (allNullable)\n            this.addNull(rule.nt);\n    }\n}\nexport class FollowSets extends SymSymbolSets {\n    constructor(grammar, firstSets) {\n        super(grammar);\n        this.firstSets = firstSets || new FirstSets(grammar);\n        this.refresh();\n    }\n    get nullables() {\n        return this.firstSets.nullables;\n    }\n    refresh() {\n        super.refresh();\n        const g = this.grammar;\n        TSU.assert(g.startSymbol != null, \"Select start symbol of the grammar\");\n        this.add(g.startSymbol, g.Eof);\n        let beforeCount = 0;\n        do {\n            beforeCount = this.count;\n            this.grammar.forEachRule(null, (rule) => this.processRule(rule));\n        } while (beforeCount != this.count);\n    }\n    processRule(rule) {\n        const syms = rule.rhs.syms;\n        const firstSets = this.firstSets;\n        const nullables = this.firstSets.nullables;\n        for (let i = 0; i < syms.length; i++) {\n            const sym = syms[i];\n            if (sym.isTerminal)\n                continue;\n            firstSets.forEachTermIn(rule.rhs, i + 1, (term) => {\n                if (term != null)\n                    this.add(sym, term);\n            });\n        }\n        for (let i = syms.length - 1; i >= 0; i--) {\n            if (syms[i].isTerminal)\n                continue;\n            let allNullable = true;\n            for (let j = i + 1; j < syms.length; j++) {\n                const symj = syms[j];\n                if (symj.isTerminal || !nullables.isNullable(symj)) {\n                    allNullable = false;\n                    break;\n                }\n            }\n            if (allNullable) {\n                this.add(syms[i], rule.nt);\n            }\n        }\n    }\n}\n//# sourceMappingURL=sets.js.map","import * as TSU from \"@panyam/tsutils\";\nimport { allMinimalCycles } from \"./graph\";\nimport { IDSet, SymbolSet, FollowSets } from \"./sets\";\nexport class Sym {\n    constructor(grammar, label, isTerminal, id = null) {\n        this.grammar = grammar;\n        this.label = label;\n        this.isTerminal = isTerminal;\n        this.isAuxiliary = false;\n        this.auxType = null;\n        this.precedence = 1;\n        this.assocLeft = true;\n        this.creationId = -1;\n        this.isTerminal = isTerminal;\n        this.label = label;\n        if (id == null) {\n            this.id = Sym.idCounter--;\n        }\n        else {\n            this.id = id;\n        }\n    }\n    compareTo(another) {\n        return this.label.localeCompare(another.label);\n    }\n    equals(another) {\n        return this.label == another.label;\n    }\n    toString() {\n        return this.label;\n    }\n}\nSym.idCounter = -1;\nexport class Str {\n    constructor(...syms) {\n        this.syms = syms || [];\n    }\n    append(...lits) {\n        for (const l of lits)\n            this.syms.push(l);\n        return this;\n    }\n    extend(...strs) {\n        for (const s of strs)\n            this.append(...s.syms);\n        return this;\n    }\n    copy() {\n        return new Str(...this.syms);\n    }\n    add(lit) {\n        this.syms.push(lit);\n    }\n    isTerminal(index) {\n        return this.syms[index].isTerminal;\n    }\n    get length() {\n        return this.syms.length;\n    }\n    toString() {\n        return this.syms.map((s) => s.toString()).join(\" \");\n    }\n    slice(startIndex, endIndex) {\n        return new Str(...this.syms.slice(startIndex, endIndex));\n    }\n    splice(index, numToDelete, ...itemsToAdd) {\n        this.syms.splice(index, numToDelete, ...itemsToAdd);\n        return this;\n    }\n    compareTo(another) {\n        for (let i = 0; i < this.syms.length && i < another.syms.length; i++) {\n            const diff = this.syms[i].compareTo(another.syms[i]);\n            if (diff != 0)\n                return diff;\n        }\n        return this.syms.length - another.syms.length;\n    }\n    equals(another) {\n        return this.compareTo(another) == 0;\n    }\n    containsAt(offset, another) {\n        let i = 0;\n        for (; i < another.length && offset + i < this.syms.length; i++) {\n            if (!this.syms[offset + i].equals(another.syms[i]))\n                return false;\n        }\n        return i == another.length;\n    }\n    get debugString() {\n        return this.syms.map((lit) => lit.label).join(\" \");\n    }\n}\nexport class RuleAction {\n    constructor(value) {\n        this.value = value;\n    }\n    get isFunction() {\n        return typeof this.value === \"string\";\n    }\n    get isChildPosition() {\n        return typeof this.value === \"number\";\n    }\n}\nexport class Rule {\n    constructor(nt, rhs, action = null) {\n        this.nt = nt;\n        this.rhs = rhs;\n        this.action = action;\n        if (nt.isTerminal) {\n            throw new Error(\"Cannot add rules to a terminal\");\n        }\n    }\n    get debugString() {\n        return `${this.nt.label} -> ${this.rhs.debugString}`;\n    }\n    equals(another) {\n        return this.compareTo(another) == 0;\n    }\n    compareTo(another) {\n        TSU.assert(!isNaN(this.id));\n        const diff = this.nt.compareTo(another.nt);\n        if (diff == 0) {\n            this.rhs.compareTo(another.rhs);\n        }\n        return diff;\n    }\n}\nexport class Grammar {\n    static make(callback) {\n        const g = new Grammar();\n        callback(g);\n        return g;\n    }\n    constructor(config) {\n        this.startSymbol = null;\n        this.modified = true;\n        this.symbolSet = new IDSet((s) => s.label);\n        this.allRules = [];\n        this._rulesForNT = null;\n        this._followSets = null;\n        this._hasNull = false;\n        this.auxNTCount = 0;\n        config = config || {};\n        this.auxNTPrefix = config.auxNTPrefix || \"$\";\n        this.Null = this.newTerm(\"\");\n        this.Eof = this.newTerm(\"$end\");\n    }\n    rulesForNT(nt) {\n        TSU.assert(!nt.isTerminal);\n        if (this._rulesForNT == null) {\n            this._rulesForNT = {};\n            for (const rule of this.allRules) {\n                if (!(rule.nt.label in this._rulesForNT)) {\n                    this._rulesForNT[rule.nt.label] = [];\n                }\n                this._rulesForNT[rule.nt.label].push(rule);\n            }\n        }\n        if (!(nt.label in this._rulesForNT)) {\n            this._rulesForNT[nt.label] = [];\n        }\n        return this._rulesForNT[nt.label];\n    }\n    get nullables() {\n        return this.firstSets.nullables;\n    }\n    get firstSets() {\n        return this.followSets.firstSets;\n    }\n    get followSets() {\n        if (this.modified || this._followSets == null) {\n            this.refresh();\n        }\n        TSU.assert(this._followSets != null);\n        return this._followSets;\n    }\n    get augStartRule() {\n        return this._AugStartRule;\n    }\n    augmentStartSymbol(label = \"$accept\") {\n        TSU.assert(this._AugStartRule == null, \"Ensure this grammar has not yet been augmented.\");\n        TSU.assert(this.startSymbol != null, \"Start symbol not yet set\");\n        const augSym = this.newNT(label);\n        this._AugStartRule = new Rule(augSym, new Str(this.startSymbol));\n        this.addRule(this._AugStartRule, 0);\n        return this;\n    }\n    refresh() {\n        this.symbolSet.entries.forEach((s, i) => (s.id = i));\n        this._rulesForNT = null;\n        this.allRules.forEach((rule, i) => {\n            rule.id = i;\n        });\n        this._followSets = new FollowSets(this);\n        this.modified = false;\n        return this;\n    }\n    addTerminals(...terminals) {\n        for (const t of terminals) {\n            this.newTerm(t);\n        }\n    }\n    get terminals() {\n        return this.symbolSet.entries.filter((x) => x.isTerminal);\n    }\n    get allNonTerminals() {\n        return this.symbolSet.entries.filter((x) => !x.isTerminal);\n    }\n    get nonTerminals() {\n        return this.symbolSet.entries.filter((x) => !x.isTerminal && !x.isAuxiliary);\n    }\n    get auxNonTerminals() {\n        return this.symbolSet.entries.filter((x) => x.isAuxiliary);\n    }\n    get allSymbols() {\n        return this.symbolSet.entries;\n    }\n    forEachNT(visitor) {\n        for (const sym of this.symbolSet.entries) {\n            if (sym.isTerminal)\n                continue;\n            if (visitor(sym) == false)\n                return;\n        }\n    }\n    forEachRule(nt, visitor) {\n        const rules = nt == null ? this.allRules : this.rulesForNT(nt) || [];\n        for (let i = 0; i < rules.length; i++) {\n            if (visitor(rules[i], i) == false)\n                return false;\n        }\n        return true;\n    }\n    getRule(nt, index) {\n        if (typeof nt === \"string\")\n            nt = this.getSym(nt);\n        TSU.assert(nt != null);\n        return this.rulesForNT(nt)[index];\n    }\n    findRule(nt, production) {\n        return this.rulesForNT(nt).findIndex((r) => r.nt == nt && r.rhs.equals(production));\n    }\n    add(nt, production, action = null) {\n        let nonterm = null;\n        if (typeof nt === \"string\") {\n            nonterm = this.getSym(nt);\n            if (nonterm == null) {\n                nonterm = this.newNT(nt);\n            }\n        }\n        else {\n            nonterm = this.ensureSym(nt);\n        }\n        return this.addRule(new Rule(nonterm, production, action));\n    }\n    addRule(rule, index = -1) {\n        if (this.findRule(rule.nt, rule.rhs) >= 0) {\n            throw new Error(\"Duplicate rule: \" + rule.debugString);\n        }\n        rule.id = this.allRules.length;\n        if (rule.rhs.length == 0)\n            this._hasNull = true;\n        if (index < 0) {\n            this.allRules.push(rule);\n        }\n        else {\n            this.allRules.splice(index, 0, rule);\n        }\n        this._rulesForNT = null;\n        this.modified = true;\n        return rule;\n    }\n    removeRules(pred) {\n        this.allRules = this.allRules.filter((r) => !pred(r));\n        this._rulesForNT = null;\n        this.modified = true;\n        return true;\n    }\n    removeSymbols(pred) {\n        let modified = false;\n        const newRules = [];\n        this.allRules.forEach((r) => {\n            if (pred(r.nt))\n                return;\n            if (r.rhs.length == 0) {\n                newRules.push(r);\n            }\n            else {\n                const newRhs = new Str(...r.rhs.syms.filter((s) => !pred(s)));\n                modified = modified || r.rhs.length != newRhs.length;\n                if (newRhs.length > 0) {\n                    newRules.push(new Rule(r.nt, newRhs));\n                }\n            }\n        });\n        this.allRules = newRules;\n        modified = this.symbolSet.remove(pred) || modified;\n        this.modified = this.modified || modified;\n        return modified;\n    }\n    getSymById(id) {\n        return this.symbolSet.get(id);\n    }\n    getSym(label) {\n        return this.symbolSet.getByKey(label);\n    }\n    ensureSym(sym, throwIfExists = false) {\n        const sym2 = this.symbolSet.ensure(sym, throwIfExists);\n        if (sym == sym2) {\n            if (sym2.creationId < 0) {\n                sym2.creationId = this.symbolSet.size;\n            }\n        }\n        else {\n            TSU.assert(!throwIfExists, \"Should have already thrown error\");\n        }\n        return sym2;\n    }\n    T(label, throwIfExists = false) {\n        let t = this.getSym(label);\n        if (t != null) {\n            if (throwIfExists)\n                throw new Error(`Terminal ${label} is already exists`);\n            if (!t.isTerminal)\n                throw new Error(`Symbol (${label}) already exists as a non-terminal`);\n        }\n        else {\n            t = new Sym(this, label, true);\n            t = this.ensureSym(t, true);\n        }\n        return t;\n    }\n    NT(label, isAuxiliary = false, throwIfExists = false) {\n        let nt = this.getSym(label);\n        if (nt != null) {\n            if (throwIfExists)\n                throw new Error(`Non-terminal ${label} is already exists`);\n            if (nt.isTerminal)\n                throw new Error(`Symbol (${label}) already exists as a terminal`);\n        }\n        else {\n            nt = new Sym(this, label, false);\n            nt.isAuxiliary = isAuxiliary;\n            nt = this.ensureSym(nt, true);\n            if (!isAuxiliary && this.startSymbol == null) {\n                this.startSymbol = nt;\n            }\n        }\n        return nt;\n    }\n    newTerm(label) {\n        return this.T(label, true);\n    }\n    newNT(label, isAuxiliary = false) {\n        return this.NT(label, isAuxiliary, true);\n    }\n    isTerminal(label) {\n        const t = this.getSym(label);\n        return t != null && t.isTerminal;\n    }\n    isNT(label) {\n        const t = this.getSym(label);\n        return t != null && !t.isTerminal && !t.isAuxiliary;\n    }\n    isAuxNT(label) {\n        const t = this.getSym(label);\n        return t != null && !t.isTerminal && t.isAuxiliary;\n    }\n    seq(...exps) {\n        if (exps.length == 1) {\n            return this.normalizeRule(exps[0]);\n        }\n        else {\n            const out = new Str();\n            for (const e of exps) {\n                const s = this.normalizeRule(e);\n                for (let i = 0; i < s.length; i++) {\n                    out.add(s.syms[i]);\n                }\n            }\n            return out;\n        }\n    }\n    anyof(...rules) {\n        if (rules.length == 1) {\n            return this.normalizeRule(rules[0]);\n        }\n        else {\n            return new Str(this.ensureAuxNT(...rules.map((r) => this.normalizeRule(r))));\n        }\n    }\n    opt(exp) {\n        const out = this.anyof(exp, new Str());\n        const nt = out.syms[0];\n        TSU.assert(out.syms.length == 1 && nt.isAuxiliary, \"NT must be an auxiliary symbol\");\n        nt.auxType = \"opt\";\n        return out;\n    }\n    atleast0(exp, leftRec = true) {\n        const s = this.normalizeRule(exp);\n        let auxNT = this.findAuxNT((auxNT) => {\n            const rules = this.rulesForNT(auxNT);\n            if (rules.length != 2)\n                return false;\n            let which = 0;\n            if (rules[0].rhs.length == 0) {\n                which = 1;\n            }\n            else if (rules[1].rhs.length == 0) {\n                which = 0;\n            }\n            else {\n                return false;\n            }\n            const rule = rules[which].rhs;\n            if (rule.length != 1 + exp.length)\n                return false;\n            if (rule.syms[0].equals(auxNT)) {\n                return rule.containsAt(1, s);\n            }\n            else if (rule.syms[rule.length - 1].equals(auxNT)) {\n                return rule.containsAt(0, s);\n            }\n            return false;\n        });\n        if (auxNT == null) {\n            auxNT = this.newAuxNT();\n            auxNT.auxType = leftRec ? \"atleast0:left\" : \"atleast0\";\n            this.add(auxNT, new Str());\n            if (leftRec) {\n                this.add(auxNT, new Str(auxNT).extend(s));\n            }\n            else {\n                this.add(auxNT, s.copy().append(auxNT));\n            }\n        }\n        return new Str(auxNT);\n    }\n    atleast1(exp, leftRec = true) {\n        const s = this.normalizeRule(exp);\n        let auxNT = this.findAuxNT((auxNT) => {\n            const rules = this.rulesForNT(auxNT);\n            if (rules.length != 2)\n                return false;\n            let which = 0;\n            if (rules[0].rhs.equals(s)) {\n                which = 1;\n            }\n            else if (rules[1].rhs.equals(s)) {\n                which = 0;\n            }\n            else {\n                return false;\n            }\n            const rule = rules[which].rhs;\n            if (rule.length != 1 + exp.length)\n                return false;\n            if (rule.syms[0].equals(auxNT)) {\n                return rule.containsAt(1, s);\n            }\n            else if (rule.syms[rule.length - 1].equals(auxNT)) {\n                return rule.containsAt(0, s);\n            }\n            return false;\n        });\n        if (auxNT == null) {\n            auxNT = this.newAuxNT();\n            auxNT.auxType = leftRec ? \"atleast1:left\" : \"atleast1\";\n            this.add(auxNT, s);\n            if (leftRec) {\n                this.add(auxNT, new Str(auxNT).extend(s));\n            }\n            else {\n                this.add(auxNT, s.copy().append(auxNT));\n            }\n        }\n        return new Str(auxNT);\n    }\n    normalizeRule(exp) {\n        if (typeof exp === \"string\") {\n            const lit = this.getSym(exp);\n            if (lit == null)\n                throw new Error(`Invalid symbol: '${exp}'`);\n            return new Str(lit);\n        }\n        else {\n            return exp;\n        }\n    }\n    newAuxNTName() {\n        return this.auxNTPrefix + this.auxNTCount++;\n    }\n    newAuxNT(name = \"\") {\n        if (name == \"\")\n            name = this.newAuxNTName();\n        return this.newNT(name, true);\n    }\n    ensureAuxNT(...rules) {\n        let nt = this.findAuxNTByRules(...rules);\n        if (nt == null) {\n            nt = this.newAuxNT();\n            nt.auxType = \"anyof\";\n            for (const rule of rules)\n                this.add(nt, rule);\n        }\n        return nt;\n    }\n    findAuxNT(filter) {\n        for (const auxNT of this.symbolSet.entries) {\n            if (!auxNT.isAuxiliary)\n                continue;\n            if (filter(auxNT))\n                return auxNT;\n        }\n        return null;\n    }\n    findAuxNTByRules(...rules) {\n        return this.findAuxNT((auxNT) => {\n            const ntRules = this.rulesForNT(auxNT);\n            if (ntRules.length != rules.length)\n                return false;\n            for (let i = 0; i < ntRules.length; i++) {\n                if (!ntRules[i].rhs.equals(rules[i]))\n                    return false;\n            }\n            return true;\n        });\n    }\n    print(options = null) {\n        options = options || {};\n        const ruleSep = options.ruleSep || \"->\";\n        const includeSemiColon = options.includeSemiColon || false;\n        const lambdaSymbol = options.lambdaSymbol || \"\";\n        const out = [];\n        this.forEachRule(null, (rule, index) => {\n            let r = `${rule.nt.label} ${ruleSep} `;\n            if (rule.rhs.length > 0)\n                r += rule.rhs.debugString;\n            else\n                r += lambdaSymbol;\n            if (includeSemiColon)\n                r += \" ;\";\n            out.push(r);\n        });\n        return out;\n    }\n    get debugValue() {\n        const out = [];\n        this.forEachRule(null, (rule, index) => {\n            out.push(`${rule.nt.label} -> ${rule.rhs.debugString}`);\n        });\n        return out;\n    }\n    get terminalDerivingSymbols() {\n        const out = new SymbolSet(this, null);\n        let nadded = -1;\n        let allDerive = true;\n        while (nadded != 0) {\n            nadded = 0;\n            for (const rule of this.allRules) {\n                allDerive = true;\n                for (const sym of rule.rhs.syms) {\n                    if (!out.has(sym)) {\n                        if (sym.isTerminal) {\n                            out.add(sym);\n                            nadded++;\n                        }\n                        else {\n                            allDerive = false;\n                        }\n                    }\n                }\n                if (allDerive && !out.has(rule.nt)) {\n                    out.add(rule.nt);\n                    nadded++;\n                }\n            }\n        }\n        return out;\n    }\n    reachableSymbols(fromSymbol = null) {\n        if (fromSymbol == null) {\n            fromSymbol = this._AugStartRule ? this._AugStartRule.nt : this.startSymbol;\n        }\n        TSU.assert(fromSymbol != null, \"Start symbol does not exist\");\n        const reachable = new SymbolSet(this, false).add(fromSymbol);\n        let queue = [fromSymbol];\n        while (queue.length > 0) {\n            const newQueue = [];\n            for (const curr of queue) {\n                for (const rule of this.rulesForNT(curr)) {\n                    for (const sym of rule.rhs.syms) {\n                        if (!sym.isTerminal && !reachable.has(sym)) {\n                            newQueue.push(sym);\n                            reachable.add(sym);\n                        }\n                    }\n                }\n            }\n            queue = newQueue;\n        }\n        return reachable;\n    }\n    get cycles() {\n        const edgeFunctor = (node) => {\n            const out = [];\n            this.forEachRule(node, (rule, ruleIndex) => {\n                rule.rhs.syms.forEach((s, j) => {\n                    if (s.isTerminal)\n                        return;\n                    if (this.nullables.isStrNullable(rule.rhs, 0, j - 1) && this.nullables.isStrNullable(rule.rhs, j + 1)) {\n                        out.push([s, [node, ruleIndex]]);\n                    }\n                });\n            });\n            return out;\n        };\n        return allMinimalCycles(this.allNonTerminals, (val) => val.label, edgeFunctor);\n    }\n    get leftRecursion() {\n        const edgeFunctor = (node) => {\n            const out = [];\n            this.forEachRule(node, (rule, ruleIndex) => {\n                rule.rhs.syms.forEach((s, j) => {\n                    if (s.isTerminal)\n                        return;\n                    out.push([s, ruleIndex]);\n                    return this.nullables.isNullable(s);\n                });\n            });\n            return out;\n        };\n        return allMinimalCycles(this.allNonTerminals, (val) => val.id, edgeFunctor);\n    }\n}\n//# sourceMappingURL=grammar.js.map","import * as TSU from \"@panyam/tsutils\";\nimport * as TLEX from \"tlex\";\nimport { Grammar, Str, RuleAction } from \"./grammar\";\nconst str2regex = (s) => {\n    if (typeof s === \"number\")\n        return \"\" + s;\n    return s.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n};\nexport var TokenType;\n(function (TokenType) {\n    TokenType[\"STRING\"] = \"STRING\";\n    TokenType[\"REGEX\"] = \"REGEX\";\n    TokenType[\"NUMBER\"] = \"NUMBER\";\n    TokenType[\"SPACES\"] = \"SPACES\";\n    TokenType[\"IDENT\"] = \"IDENT\";\n    TokenType[\"PCT_IDENT\"] = \"PCT_IDENT\";\n    TokenType[\"STAR\"] = \"STAR\";\n    TokenType[\"PLUS\"] = \"PLUS\";\n    TokenType[\"QMARK\"] = \"QMARK\";\n    TokenType[\"PIPE\"] = \"PIPE\";\n    TokenType[\"DOLLAR_NUM\"] = \"DOLLAR_NUM\";\n    TokenType[\"DOLLAR_IDENT\"] = \"DOLLAR_IDENT\";\n    TokenType[\"OPEN_PAREN\"] = \"OPEN_PAREN\";\n    TokenType[\"CLOSE_PAREN\"] = \"CLOSE_PAREN\";\n    TokenType[\"OPEN_BRACE\"] = \"OPEN_BRACE\";\n    TokenType[\"CLOSE_BRACE\"] = \"CLOSE_BRACE\";\n    TokenType[\"OPEN_SQ\"] = \"OPEN_SQ\";\n    TokenType[\"CLOSE_SQ\"] = \"CLOSE_SQ\";\n    TokenType[\"COMMENT\"] = \"COMMENT\";\n    TokenType[\"ARROW\"] = \"ARROW\";\n    TokenType[\"COLCOLHYPHEN\"] = \"COLCOLHYPHEN\";\n    TokenType[\"COLON\"] = \"COLON\";\n    TokenType[\"SEMI_COLON\"] = \"SEMI_COLON\";\n})(TokenType || (TokenType = {}));\nexport function load(input, params) {\n    params = params || {};\n    const g = new Grammar(params.grammar || {});\n    const eparser = new Loader(input, { ...params, grammar: g });\n    const tokenFunc = eparser.generatedTokenizer.next.bind(eparser.generatedTokenizer);\n    const debug = params.debug || \"\";\n    if (debug.split(\"|\").findIndex((p) => p == \"all\" || p == \"lexer\") >= 0) {\n        console.log(\"Prog: \\n\", `${eparser.generatedTokenizer.vm.prog.debugValue().join(\"\\n\")}`);\n    }\n    return [g, tokenFunc];\n}\nexport function Tokenizer() {\n    const lexer = new TLEX.Tokenizer();\n    lexer.add(/->/, { tag: TokenType.ARROW });\n    lexer.add(/\\[/, { tag: TokenType.OPEN_SQ });\n    lexer.add(/\\]/, { tag: TokenType.CLOSE_SQ });\n    lexer.add(/\\(/, { tag: TokenType.OPEN_PAREN });\n    lexer.add(/\\)/, { tag: TokenType.CLOSE_PAREN });\n    lexer.add(/\\{/, { tag: TokenType.OPEN_BRACE });\n    lexer.add(/\\}/, { tag: TokenType.CLOSE_BRACE });\n    lexer.add(/\\*/, { tag: TokenType.STAR });\n    lexer.add(/\\+/, { tag: TokenType.PLUS });\n    lexer.add(/\\?/, { tag: TokenType.QMARK });\n    lexer.add(/;/, { tag: TokenType.SEMI_COLON });\n    lexer.add(/:/, { tag: TokenType.COLON });\n    lexer.add(/\\|/, { tag: TokenType.PIPE });\n    lexer.add(/\\s+/m, { tag: TokenType.SPACES }, () => null);\n    lexer.add(/\\/\\*.*?\\*\\//s, { tag: TokenType.COMMENT }, () => null);\n    lexer.add(/\\/\\/.*$/m, { tag: TokenType.COMMENT }, () => null);\n    lexer.add(TLEX.Samples.DOUBLE_QUOTE_STRING, { tag: TokenType.STRING }, (rule, tape, token) => {\n        token.value = tape.substring(token.start + 1, token.end - 1);\n        return token;\n    });\n    lexer.add(TLEX.Samples.SINGLE_QUOTE_STRING, { tag: TokenType.STRING }, (rule, tape, token) => {\n        token.value = tape.substring(token.start + 1, token.end - 1);\n        return token;\n    });\n    lexer.add(TLEX.Samples.JS_REGEX, { tag: TokenType.REGEX }, (rule, tape, token) => {\n        const pattern = tape.substring(token.positions[1][0], token.positions[1][1]);\n        const flags = tape.substring(token.positions[3][0], token.positions[3][1]);\n        token.value = [pattern, flags];\n        return token;\n    });\n    lexer.add(/\\d+/, { tag: TokenType.NUMBER }, (rule, tape, token) => {\n        token.value = parseInt(tape.substring(token.start, token.end));\n        return token;\n    });\n    lexer.add(/%([\\w][\\w\\d_]*)/, { tag: TokenType.PCT_IDENT }, (rule, tape, token) => {\n        token.value = tape.substring(token.start + 1, token.end);\n        return token;\n    });\n    lexer.add(/\\$\\d+/, { tag: TokenType.DOLLAR_NUM }, (rule, tape, token) => {\n        token.value = parseInt(tape.substring(token.start + 1, token.end));\n        return token;\n    });\n    lexer.add(/\\$([\\w][\\w\\d_]*)/, { tag: TokenType.DOLLAR_IDENT }, (rule, tape, token) => {\n        token.value = tape.substring(token.start + 1, token.end);\n        return token;\n    });\n    lexer.add(/[\\w][\\w\\d_]*/, { tag: TokenType.IDENT });\n    return lexer;\n}\nexport var NodeType;\n(function (NodeType) {\n    NodeType[\"GRAMMAR\"] = \"GRAMMAR\";\n    NodeType[\"DECL\"] = \"DECL\";\n    NodeType[\"RULE\"] = \"RULE\";\n    NodeType[\"PROD_NULL\"] = \"PROD_NULL\";\n    NodeType[\"PROD_STR\"] = \"PROD_STR\";\n    NodeType[\"PROD_UNION\"] = \"PROD_UNION\";\n    NodeType[\"PROD_NAME\"] = \"PROD_NAME\";\n    NodeType[\"PROD_STRING\"] = \"PROD_STRING\";\n    NodeType[\"PROD_NUM\"] = \"PROD_NUM\";\n    NodeType[\"PROD_IDENT\"] = \"PROD_IDENT\";\n    NodeType[\"PROD_STAR\"] = \"PROD_STAR\";\n    NodeType[\"PROD_PLUS\"] = \"PROD_PLUS\";\n    NodeType[\"PROD_OPTIONAL\"] = \"PROD_OPTIONAL\";\n    NodeType[\"IDENT\"] = \"IDENT\";\n    NodeType[\"ERROR\"] = \"ERROR\";\n    NodeType[\"COMMENT\"] = \"COMMENT\";\n})(NodeType || (NodeType = {}));\nexport class Loader {\n    constructor(input, config) {\n        this.leftRecursive = false;\n        this.generatedTokenizer = new TLEX.Tokenizer();\n        this.regexSyntax = \"js\";\n        config = config || {};\n        this.symbolsByLabel = {};\n        this.grammar = config.grammar || new Grammar();\n        this.leftRecursive = \"leftRecursive\" in config ? config.leftRecursive || false : true;\n        this.newSymbolCallback = config.newSymbolCallback || null;\n        this.tokenHandlers = config.tokenHandlers || {};\n        this.parse(input);\n    }\n    symbolForLabel(label) {\n        return this.symbolsByLabel[label] || null;\n    }\n    registerSymbol(label, sym) {\n        TSU.assert(!(label in this.symbolsByLabel), `${label} is already registered`);\n        this.symbolsByLabel[label] = sym;\n    }\n    ensureSymbol(label, assumedTerminal) {\n        let currSym = this.symbolForLabel(label);\n        if (currSym != null)\n            return currSym;\n        else if (this.newSymbolCallback) {\n            currSym = this.newSymbolCallback(label, assumedTerminal) || null;\n        }\n        if (currSym == null) {\n            if (assumedTerminal) {\n                currSym = this.grammar.newTerm(label);\n            }\n            else {\n                currSym = this.grammar.newNT(label);\n            }\n        }\n        this.registerSymbol(label, currSym);\n        return currSym;\n    }\n    parse(input) {\n        const et = Tokenizer();\n        const ntFunc = (tape, owner) => {\n            const out = et.next(tape, this);\n            return out;\n        };\n        this.tokenizer = new TLEX.TokenBuffer(ntFunc, this);\n        this.parseGrammar(new TLEX.Tape(input));\n    }\n    parseRegex(tape, tag, priority = 0, syntax = \"\") {\n        if (syntax == \"\")\n            syntax = this.regexSyntax;\n        if (syntax == \"js\") {\n            const tokPattern = this.tokenizer.expectToken(tape, TokenType.STRING, TokenType.NUMBER, TokenType.REGEX);\n            let rule;\n            if (!tag || tag.length == 0) {\n                tag = \"/\" + tokPattern.value[0] + \"/\" + tokPattern.value[1];\n            }\n            if (tokPattern.tag == TokenType.STRING || tokPattern.tag == TokenType.NUMBER) {\n                const pattern = str2regex(tokPattern.value);\n                rule = TLEX.Builder.build(pattern, { tag: tag, priority: priority + 20 });\n            }\n            else if (tokPattern.tag == TokenType.REGEX) {\n                let re = tokPattern.value[0];\n                if (tokPattern.value[1].length > 0) {\n                    re = new RegExp(tokPattern.value[0], tokPattern.value[1]);\n                }\n                rule = TLEX.Builder.build(re, { tag: tag, priority: priority + 10 });\n            }\n            else {\n                throw new TLEX.UnexpectedTokenError(tokPattern);\n            }\n            return rule;\n        }\n        else {\n            let patternStr = \"\";\n            while (tape.hasMore && tape.currCh != \"\\n\") {\n                patternStr += tape.currCh;\n                tape.advance();\n            }\n            patternStr = patternStr.trim();\n            if (!tag || tag.length == 0) {\n                tag = \"/\" + patternStr + \"/\";\n            }\n            return new TLEX.Rule(TLEX.Builder.exprFromFlexRE(patternStr), { tag: tag, priority: priority });\n        }\n    }\n    parseGrammar(tape) {\n        let peeked = this.tokenizer.peek(tape);\n        while (peeked != null) {\n            if (peeked.tag == TokenType.IDENT) {\n                this.parseDecl(tape);\n            }\n            else if (peeked.tag == TokenType.PCT_IDENT) {\n                this.tokenizer.next(tape);\n                this.parseDirective(tape, peeked.value);\n            }\n            else {\n                throw new SyntaxError(`Declaration must start with IDENT or PCT_IDENT.  Found: '${peeked.value}' instead.`);\n            }\n            peeked = this.tokenizer.peek(tape);\n        }\n    }\n    parseDirective(tape, directive) {\n        if (directive == \"start\") {\n            const next = this.tokenizer.expectToken(tape, TokenType.IDENT);\n            this.grammar.startSymbol = this.ensureSymbol(next.value, false);\n        }\n        else if (directive == \"resyntax\") {\n            const next = this.tokenizer.expectToken(tape, TokenType.IDENT);\n            if (next.value != \"js\" && next.value != \"flex\") {\n                throw new SyntaxError(\"Invalid regex syntax: \" + next.value);\n            }\n            this.regexSyntax = next.value;\n        }\n        else if (directive.startsWith(\"skip\")) {\n            const rule = this.parseRegex(tape, \"\", 30, directive.endsWith(\"flex\") ? \"flex\" : \"\");\n            const tokenHandler = this.parseTokenHandler(tape);\n            if (tokenHandler) {\n                this.generatedTokenizer.addRule(rule, (rule, tape, token) => {\n                    tokenHandler(rule, tape, token, this);\n                    return null;\n                });\n            }\n            else {\n                this.generatedTokenizer.addRule(rule, () => null);\n            }\n        }\n        else if (directive.startsWith(\"token\") || directive.startsWith(\"define\")) {\n            const isDef = directive.startsWith(\"define\");\n            const tokName = this.tokenizer.expectToken(tape, TokenType.IDENT, TokenType.STRING);\n            let label = tokName.value;\n            if (tokName.tag == TokenType.STRING || tokName.tag == TokenType.NUMBER) {\n                label = `\"${tokName.value}\"`;\n            }\n            const rule = this.parseRegex(tape, label, 0, directive.endsWith(\"flex\") ? \"flex\" : \"\");\n            if (isDef) {\n                this.generatedTokenizer.addVar(label, rule.expr);\n            }\n            else {\n                const tokenHandler = this.parseTokenHandler(tape);\n                this.generatedTokenizer.addRule(rule, tokenHandler);\n                this.ensureSymbol(label, true);\n            }\n        }\n        else {\n            throw new Error(\"Invalid directive: \" + directive);\n        }\n    }\n    parseTokenHandler(tape) {\n        if (!this.tokenizer.consumeIf(tape, TokenType.OPEN_BRACE)) {\n            return null;\n        }\n        const funcName = this.tokenizer.expectToken(tape, TokenType.IDENT);\n        const out = (rule, tape, token, owner) => {\n            const handler = this.tokenHandlers[funcName.value];\n            if (!handler)\n                throw new Error(\"Handler method not found: \" + funcName.value);\n            token = handler(token, tape, owner);\n            return token;\n        };\n        this.tokenizer.expectToken(tape, TokenType.CLOSE_BRACE);\n        return out;\n    }\n    parseDecl(tape) {\n        const ident = this.tokenizer.expectToken(tape, TokenType.IDENT);\n        if (this.tokenizer.consumeIf(tape, TokenType.ARROW, TokenType.COLON)) {\n            const nt = this.ensureSymbol(ident.value, false);\n            if (nt.isTerminal) {\n                nt.isTerminal = false;\n            }\n            else if (nt.isAuxiliary) {\n                throw new Error(\"NT is already auxiliary and cannot be reused.\");\n            }\n            for (const [rhs, action] of this.parseProductions(tape, this.grammar, nt)) {\n                const rule = this.grammar.add(nt, rhs, action);\n            }\n            this.tokenizer.expectToken(tape, TokenType.SEMI_COLON);\n        }\n    }\n    parseProductions(tape, grammar, nt) {\n        const out = [];\n        while (this.tokenizer.peek(tape) != null) {\n            const rule = this.parseProd(tape, grammar);\n            out.push(rule);\n            if (this.tokenizer.consumeIf(tape, TokenType.PIPE)) {\n                continue;\n            }\n            else if (this.tokenizer.nextMatches(tape, TokenType.CLOSE_SQ, TokenType.CLOSE_PAREN, TokenType.SEMI_COLON)) {\n                break;\n            }\n        }\n        return out;\n    }\n    parseProd(tape, grammar) {\n        const out = new Str();\n        while (true) {\n            if (this.tokenizer.nextMatches(tape, TokenType.CLOSE_PAREN, TokenType.CLOSE_SQ, TokenType.SEMI_COLON, TokenType.PIPE, TokenType.OPEN_BRACE)) {\n                break;\n            }\n            let curr = null;\n            if (this.tokenizer.consumeIf(tape, TokenType.OPEN_PAREN)) {\n                const rules = this.parseProductions(tape, grammar, null);\n                if (rules.length == 0) {\n                }\n                else if (rules.length == 1) {\n                    curr = rules[0][0];\n                }\n                else {\n                    curr = grammar.anyof(...rules.map((r) => r[0]));\n                }\n                this.tokenizer.expectToken(tape, TokenType.CLOSE_PAREN);\n            }\n            else if (this.tokenizer.consumeIf(tape, TokenType.OPEN_SQ)) {\n                const rules = this.parseProductions(tape, grammar, null);\n                if (rules.length == 0) {\n                }\n                else if (rules.length == 1) {\n                    curr = grammar.opt(rules[0][0]);\n                }\n                else {\n                    curr = grammar.opt(grammar.anyof(...rules.map((r) => r[0])));\n                }\n                this.tokenizer.expectToken(tape, TokenType.CLOSE_SQ);\n            }\n            else if (this.tokenizer.nextMatches(tape, TokenType.IDENT, TokenType.STRING, TokenType.NUMBER, TokenType.REGEX)) {\n                const token = this.tokenizer.next(tape);\n                let label = token.value;\n                if (token.tag == TokenType.STRING || token.tag == TokenType.NUMBER) {\n                    label = `\"${token.value}\"`;\n                    const pattern = str2regex(token.value);\n                    const rule = TLEX.Builder.build(pattern, { tag: label, priority: 20 });\n                    this.generatedTokenizer.addRule(rule);\n                }\n                else if (token.tag == TokenType.REGEX) {\n                    label = \"/\" + token.value[0] + \"/\" + token.value[1];\n                    let re = token.value[0];\n                    if (token.value[1].length > 0) {\n                        re = new RegExp(token.value[0], token.value[1]);\n                    }\n                    const rule = TLEX.Builder.build(re, { tag: label, priority: 10 });\n                    this.generatedTokenizer.addRule(rule);\n                }\n                else {\n                }\n                const currSym = this.ensureSymbol(label, true);\n                curr = new Str(currSym);\n            }\n            else {\n                throw new TLEX.UnexpectedTokenError(this.tokenizer.peek(tape));\n            }\n            if (curr == null) {\n                throw new Error(\"Could not determine node\");\n            }\n            if (this.tokenizer.consumeIf(tape, TokenType.STAR)) {\n                curr = grammar.atleast0(curr, this.leftRecursive);\n            }\n            else if (this.tokenizer.consumeIf(tape, TokenType.PLUS)) {\n                curr = grammar.atleast1(curr, this.leftRecursive);\n            }\n            else if (this.tokenizer.consumeIf(tape, TokenType.QMARK)) {\n                curr = grammar.opt(curr);\n            }\n            out.extend(curr);\n        }\n        let action = null;\n        if (this.tokenizer.consumeIf(tape, TokenType.OPEN_BRACE)) {\n            const next = this.tokenizer.expectToken(tape, TokenType.DOLLAR_NUM, TokenType.IDENT);\n            action = new RuleAction(next.value);\n            this.tokenizer.expectToken(tape, TokenType.CLOSE_BRACE);\n        }\n        return [out, action];\n    }\n}\n//# sourceMappingURL=dsl.js.map","import * as TSU from \"@panyam/tsutils\";\nimport { PTNode, SimpleParser as ParserBase, } from \"./parser\";\nimport { ParseError } from \"./errors\";\nexport var LRActionType;\n(function (LRActionType) {\n    LRActionType[LRActionType[\"ACCEPT\"] = 0] = \"ACCEPT\";\n    LRActionType[LRActionType[\"SHIFT\"] = 1] = \"SHIFT\";\n    LRActionType[LRActionType[\"REDUCE\"] = 2] = \"REDUCE\";\n    LRActionType[LRActionType[\"GOTO\"] = 3] = \"GOTO\";\n})(LRActionType || (LRActionType = {}));\nexport class LRAction {\n    constructor() {\n        this.gotoState = null;\n        this.rule = null;\n    }\n    toString() {\n        if (this.tag == LRActionType.ACCEPT)\n            return \"Acc\";\n        else if (this.tag == LRActionType.SHIFT) {\n            return \"S\" + this.gotoState;\n        }\n        else if (this.tag == LRActionType.REDUCE) {\n            return \"R \" + this.rule.id;\n        }\n        else {\n            return \"\" + this.gotoState;\n        }\n    }\n    equals(another) {\n        return this.tag == another.tag && this.gotoState == another.gotoState && this.rule == another.rule;\n    }\n    static Shift(goto) {\n        const out = new LRAction();\n        out.tag = LRActionType.SHIFT;\n        out.gotoState = goto;\n        return out;\n    }\n    static Reduce(rule) {\n        const out = new LRAction();\n        out.tag = LRActionType.REDUCE;\n        out.rule = rule;\n        return out;\n    }\n    static Goto(gotoState) {\n        const out = new LRAction();\n        out.tag = LRActionType.GOTO;\n        out.gotoState = gotoState;\n        return out;\n    }\n    static Accept() {\n        const out = new LRAction();\n        out.tag = LRActionType.ACCEPT;\n        return out;\n    }\n}\nexport class ParseTable {\n    constructor(grammar) {\n        this.grammar = grammar;\n        this.conflictActions = {};\n        this.actions = {};\n    }\n    get hasConflicts() {\n        return Object.keys(this.conflictActions).length > 0;\n    }\n    getActions(stateId, next, ensure = false) {\n        let l1;\n        if (stateId in this.actions) {\n            l1 = this.actions[stateId];\n        }\n        else if (ensure) {\n            l1 = this.actions[stateId] = {};\n        }\n        else {\n            return [];\n        }\n        if (next.id in l1) {\n            return l1[next.id];\n        }\n        else if (ensure) {\n            return (l1[next.id] = []);\n        }\n        return [];\n    }\n    addAction(stateId, next, action) {\n        const actions = this.getActions(stateId, next, true);\n        if (actions.findIndex((ac) => ac.equals(action)) < 0) {\n            actions.push(action);\n        }\n        if (actions.length > 1) {\n            this.conflictActions[stateId] = this.conflictActions[stateId] || {};\n            this.conflictActions[stateId][next.label] = true;\n        }\n        return this;\n    }\n    get debugValue() {\n        const out = {};\n        for (const fromId in this.actions) {\n            out[fromId] = {};\n            for (const symId in this.actions[fromId]) {\n                const sym = this.grammar.getSymById(symId);\n                const actions = this.actions[fromId][sym.id] || [];\n                if (actions.length > 0) {\n                    out[fromId][sym.label] = actions.map((a) => a.toString());\n                }\n            }\n        }\n        return out;\n    }\n}\nexport class ParseStack {\n    constructor() {\n        this.stateStack = [];\n        this.nodeStack = [];\n    }\n    push(state, node) {\n        this.stateStack.push(state);\n        this.nodeStack.push(node);\n    }\n    top(nth = 0) {\n        return [this.stateStack[this.stateStack.length - 1 - nth], this.nodeStack[this.nodeStack.length - 1 - nth]];\n    }\n    pop() {\n        const out = this.top();\n        this.stateStack.pop();\n        this.nodeStack.pop();\n        return out;\n    }\n    popN(n = 1) {\n        const L = this.stateStack.length;\n        this.stateStack.splice(L - n, n);\n        this.nodeStack.splice(L - n, n);\n    }\n    get isEmpty() {\n        return this.stateStack.length == 0 || this.nodeStack.length == 0;\n    }\n}\nexport class Parser extends ParserBase {\n    constructor(parseTable, config = {}) {\n        super();\n        this.parseTable = parseTable;\n    }\n    get grammar() {\n        return this.parseTable.grammar;\n    }\n    parseInput(input, context) {\n        context = context || {};\n        this.tokenbuffer.tokenizerContext = context.tokenizerContext;\n        if (context.buildParseTree != false)\n            context.buildParseTree = true;\n        if (context.copySingleChild != false)\n            context.copySingleChild = true;\n        let idCounter = 0;\n        const stack = new ParseStack();\n        stack.push(0, new PTNode(idCounter++, this.grammar.augStartRule.nt, null));\n        const tokenbuffer = this.tokenbuffer;\n        const g = this.grammar;\n        let output = null;\n        function resolveActions(actions) {\n            if (context?.actionResolver) {\n                return context.actionResolver(actions, stack, tokenbuffer);\n            }\n            else {\n                if (actions.length > 1) {\n                    throw new Error(\"Multiple actions found.\");\n                }\n                return actions[0];\n            }\n        }\n        function nextToken() {\n            try {\n                return tokenbuffer.peek(input);\n            }\n            catch (err) {\n                if (!context?.onTokenError || !context?.onTokenError(err, input)) {\n                    throw err;\n                }\n                return nextToken();\n            }\n        }\n        while (true) {\n            let token = nextToken();\n            if (token == null) {\n                if (stack.isEmpty) {\n                    break;\n                }\n            }\n            else if (context.onNextToken) {\n                token = context.onNextToken(token);\n            }\n            const nextSym = token == null ? g.Eof : this.getSym(token);\n            const nextValue = token == null ? null : token.value;\n            let [topState, topNode] = stack.top();\n            const actions = this.parseTable.getActions(topState, nextSym);\n            if (actions == null || actions.length == 0) {\n                throw new ParseError(`Unexpected Token: '${nextSym.label}'`, \"UnexpectedToken\", {\n                    state: topState,\n                    token: token,\n                    nextSym: nextSym,\n                });\n            }\n            const action = resolveActions(actions);\n            if (action.tag == LRActionType.ACCEPT) {\n                break;\n            }\n            else if (action.tag == LRActionType.SHIFT) {\n                tokenbuffer.next(input);\n                const newNode = new PTNode(idCounter++, nextSym, nextValue);\n                stack.push(action.gotoState, newNode);\n            }\n            else {\n                TSU.assert(action.rule != null, \"Nonterm and ruleindex must be provided for a reduction action\");\n                const ruleLen = action.rule.rhs.length;\n                let newNode = new PTNode(idCounter++, action.rule.nt, null);\n                if (context.buildParseTree) {\n                    for (let i = ruleLen - 1; i >= 0; i--) {\n                        const childNode = stack.top(i)[1];\n                        if (context.beforeAddingChildNode) {\n                            for (const node of context.beforeAddingChildNode(newNode, childNode)) {\n                                newNode.add(node);\n                            }\n                        }\n                        else if (childNode != null) {\n                            newNode.add(childNode);\n                        }\n                    }\n                }\n                if (action.rule.action) {\n                    if (action.rule.action.isFunction) {\n                        const handlerName = action.rule.action.value;\n                        const handler = context.ruleHandlers[handlerName];\n                        if (!handler)\n                            throw new Error(\"Action handler not found: \" + handlerName);\n                        newNode.value = handler(action.rule, newNode, ...newNode.children);\n                    }\n                    else {\n                        newNode.value = newNode.children[action.rule.action.value - 1].value;\n                    }\n                }\n                else if (context.onReduction) {\n                    newNode = context.onReduction(newNode, action.rule);\n                }\n                else if (newNode.children.length == 1 && context.copySingleChild) {\n                    newNode.value = newNode.children[0].value;\n                }\n                stack.popN(ruleLen);\n                [topState, topNode] = stack.top();\n                const newAction = resolveActions(this.parseTable.getActions(topState, action.rule.nt));\n                TSU.assert(newAction != null && newAction.gotoState != null, \"Top item does not have an action.\");\n                stack.push(newAction.gotoState, newNode);\n                output = newNode;\n            }\n        }\n        return output;\n    }\n}\n//# sourceMappingURL=lr.js.map","import * as TLEX from \"tlex\";\nexport class PFNode {\n    constructor(id, sym, value, ...children) {\n        this.id = id;\n        this.sym = sym;\n        this.value = value;\n        this.children = [];\n        this.children = children || [];\n    }\n    get childCount() {\n        return this.children.length;\n    }\n    childAt(index) {\n        if (index < 0)\n            return this.children[this.children.length + index];\n        return this.children[index];\n    }\n    get isTerminal() {\n        return this.sym.isTerminal;\n    }\n    add(node, index = -1) {\n        if (this.isTerminal) {\n            throw new Error(`Cannot add children (${node.sym.label}) to a terminal node: ${this.sym.label}`);\n        }\n        if (index < 0) {\n            this.children.push(node);\n        }\n        else {\n            this.children.splice(index, 0, node);\n        }\n        return this;\n    }\n    splice(index, numToDelete, ...nodes) {\n        this.children.splice(index, numToDelete, ...nodes);\n        return this;\n    }\n    get reprString() {\n        return this.debugValue(false).join(\"\\n\");\n    }\n    debugValue(raw = true) {\n        if (raw) {\n            const out = [this.sym.label];\n            if (this.value)\n                out.push(this.value);\n            if (this.children.length > 0)\n                out.push(this.children.map((c) => c.debugValue(raw)));\n            return out;\n        }\n        else {\n            const out = [];\n            const value = this.value;\n            out.push(this.value == null ? this.sym.label : this.sym.label + \" - \" + this.value);\n            this.children.forEach((node) => node.debugValue(raw).forEach((l) => out.push(\"  \" + l)));\n            return out;\n        }\n    }\n}\nexport class PTNode extends PFNode {\n    constructor() {\n        super(...arguments);\n        this.parent = null;\n    }\n    add(node, index = -1) {\n        super.add(node, index);\n        node.parent = this;\n        return this;\n    }\n    splice(index, numToDelete, ...nodes) {\n        for (const node of nodes)\n            node.parent = this;\n        return super.splice(index, numToDelete, ...nodes);\n    }\n}\nexport class ParserBase {\n    setTokenizer(tokenizer) {\n        this.tokenbuffer = new TLEX.TokenBuffer(tokenizer, null);\n        return this;\n    }\n    getSym(token) {\n        const out = this.grammar.getSym(token.tag);\n        if (out == null) {\n            throw new Error(\"Invalid token tag: \" + token.tag + \", Value: \" + token.value);\n        }\n        return out;\n    }\n}\nexport class SimpleParser extends ParserBase {\n    parse(input, delegate = null) {\n        if (typeof input === \"string\") {\n            input = new TLEX.Tape(input);\n        }\n        return this.parseInput(input, delegate);\n    }\n}\nexport class ParallelParser extends ParserBase {\n    parse(input, delegate = null) {\n        if (typeof input === \"string\") {\n            input = new TLEX.Tape(input);\n        }\n        return this.parseInput(input, delegate);\n    }\n}\n//# sourceMappingURL=parser.js.map","export class ParseError extends Error {\n    constructor(message, type, value = null) {\n        super(message);\n        this.type = type;\n        this.value = value;\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n    get name() {\n        return this.constructor.name;\n    }\n}\n//# sourceMappingURL=errors.js.map","import * as TSU from \"@panyam/tsutils\";\nimport { IDSet } from \"./sets\";\nexport class LRItem {\n    constructor(rule, position = 0) {\n        this.id = 0;\n        this.rule = rule;\n        this.position = position;\n    }\n    advance() {\n        TSU.assert(this.position < this.rule.rhs.length);\n        return new LRItem(this.rule, this.position + 1);\n    }\n    copy() {\n        return new LRItem(this.rule, this.position);\n    }\n    get key() {\n        TSU.assert(!isNaN(this.rule.id), \"Rule's ID is not yet set.\");\n        return this.rule.id + \":\" + this.position;\n    }\n    compareTo(another) {\n        let diff = this.rule.id - another.rule.id;\n        if (diff == 0)\n            diff = this.position - another.position;\n        return diff;\n    }\n    equals(another) {\n        return this.compareTo(another) == 0;\n    }\n    get debugString() {\n        const rule = this.rule;\n        const pos = this.position;\n        const pre = rule.rhs.syms.slice(0, pos).join(\" \");\n        const post = rule.rhs.syms.slice(pos).join(\" \");\n        return `${rule.id}  -  ${rule.nt} -> ${pre}  ${post}`;\n    }\n}\nexport class LRItemSet {\n    constructor(ig, ...entries) {\n        this.id = 0;\n        this._key = null;\n        this._lookaheads = {};\n        this._hasLookAheads = false;\n        this.itemGraph = ig;\n        this.values = entries;\n    }\n    copy() {\n        const out = new LRItemSet(this.itemGraph, ...this.values);\n        out._lookaheads = { ...this._lookaheads };\n        out._hasLookAheads = this._hasLookAheads;\n        return out;\n    }\n    addLookAhead(item, sym) {\n        if (!(item.id in this._lookaheads)) {\n            this._lookaheads[item.id] = [];\n        }\n        for (const s of this._lookaheads[item.id])\n            if (s == sym)\n                return false;\n        this._hasLookAheads = true;\n        this._key = null;\n        this._lookaheads[item.id].push(sym);\n        this._lookaheads[item.id].sort((s1, s2) => s1.id - s2.id);\n        return true;\n    }\n    clearLookAheads() {\n        this._lookaheads = {};\n    }\n    getLookAheads(item) {\n        return this._lookaheads[item.id] || [];\n    }\n    get key() {\n        if (this._key == null) {\n            this._key = this.revalKey();\n        }\n        return this._key;\n    }\n    revalKey() {\n        if (this.hasLookAheads) {\n            this.values.sort();\n            return this.values\n                .map((itemId) => {\n                const la = this._lookaheads[itemId] || [];\n                return itemId + \"[\" + la.map((s) => s.id).join(\",\") + \"]\";\n            })\n                .join(\"/\");\n        }\n        else {\n            this.values.sort();\n            return this.values.join(\"/\");\n        }\n    }\n    has(itemId) {\n        return this.values.indexOf(itemId) >= 0;\n    }\n    equals(another) {\n        return this.key == another.key;\n    }\n    add(itemId) {\n        if (!this.has(itemId)) {\n            this.values.push(itemId);\n            this._key = null;\n        }\n        return this;\n    }\n    get size() {\n        return this.values.length;\n    }\n    get debugString() {\n        return this.debugValue.join(\"\\n\");\n    }\n    get hasLookAheads() {\n        return this._hasLookAheads;\n    }\n    get debugValue() {\n        if (this.hasLookAheads) {\n            const items = this.values.map((v) => this.itemGraph.items.get(v));\n            items.sort((i1, i2) => i1.compareTo(i2));\n            return items.map((item) => {\n                const las = this.getLookAheads(item)\n                    .map((s) => s.label)\n                    .sort((s1, s2) => s1.localeCompare(s2))\n                    .join(\", \");\n                return las.length > 0 ? `${item.debugString} / ( ${las} )` : item.debugString;\n            });\n        }\n        else {\n            const items = this.values.map((v) => this.itemGraph.items.get(v));\n            items.sort((i1, i2) => i1.compareTo(i2));\n            return items.map((i) => i.debugString);\n        }\n    }\n}\nexport class LRItemGraph {\n    constructor(grammar) {\n        this.grammar = grammar;\n        this.gotoSets = {};\n        this.items = new IDSet();\n        this.itemSets = new IDSet();\n    }\n    startItem() {\n        const startSymbol = this.grammar.startSymbol;\n        TSU.assert(startSymbol != null, \"Start symbol must be set\");\n        TSU.assert((this.grammar.augStartRule || null) != null, \"Grammar is not augmented\");\n        return this.items.ensure(new LRItem(this.grammar.augStartRule));\n    }\n    reset() {\n        this.grammar.refresh();\n        this.gotoSets = {};\n        this.items.clear();\n        this.itemSets.clear();\n        this.startSet();\n    }\n    refresh() {\n        this.reset();\n        this.grammar.refresh();\n        this.evalGotoSets();\n        return this;\n    }\n    evalGotoSets() {\n        const out = this.itemSets;\n        for (let i = 0; i < out.size; i++) {\n            const currSet = out.get(i);\n            for (const sym of this.grammar.allSymbols) {\n                if (sym != this.grammar.Null) {\n                    const gotoSet = this.goto(currSet, sym);\n                    if (gotoSet.size > 0) {\n                        this.setGoto(currSet, sym, gotoSet);\n                    }\n                }\n            }\n        }\n    }\n    goto(itemSet, sym) {\n        const out = this.newItemSet();\n        for (const itemId of itemSet.values) {\n            const item = this.items.get(itemId);\n            const rule = item.rule;\n            if (item.position < rule.rhs.length) {\n                if (rule.rhs.syms[item.position] == sym) {\n                    this.advanceItemAndAdd(item, itemSet, out);\n                }\n            }\n        }\n        return this.closure(out);\n    }\n    advanceItemAndAdd(itemToAdvance, fromItemSet, toItemSet) {\n        const newItem = this.items.ensure(itemToAdvance.advance());\n        toItemSet.add(newItem.id);\n        for (const laSym of fromItemSet.getLookAheads(itemToAdvance)) {\n            toItemSet.addLookAhead(newItem, laSym);\n        }\n    }\n    newItemSet(...items) {\n        return new LRItemSet(this, ...items.map((item) => item.id));\n    }\n    get size() {\n        return this.itemSets.size;\n    }\n    ensureGotoSet(fromSet) {\n        if (!(fromSet.id in this.gotoSets)) {\n            this.gotoSets[fromSet.id] = {};\n        }\n        return this.gotoSets[fromSet.id];\n    }\n    setGoto(fromSet, sym, toSet) {\n        const entries = this.ensureGotoSet(fromSet);\n        entries[sym.id] = toSet;\n    }\n    getGoto(fromSet, sym) {\n        return (this.gotoSets[fromSet.id] || {})[sym.id] || null;\n    }\n    forEachGoto(itemSet, visitor) {\n        const gotoSet = this.gotoSets[itemSet.id] || {};\n        for (const symid in gotoSet) {\n            const sym = this.grammar.getSymById(symid);\n            const next = gotoSet[symid];\n            if (visitor(sym, next) == false)\n                break;\n        }\n    }\n    gotoSetFor(itemSet) {\n        return this.gotoSets[itemSet.id] || {};\n    }\n    get debugValue() {\n        const out = {};\n        this.itemSets.entries.forEach((iset) => {\n            out[iset.id] = { items: [], goto: {} };\n            out[iset.id][\"items\"] = iset.debugValue;\n            const g = this.gotoSets[iset.id];\n            for (const symid in g) {\n                const sym = this.grammar.getSymById(symid);\n                out[iset.id][\"goto\"] = out[iset.id][\"goto\"] || {};\n                out[iset.id][\"goto\"][sym.label] = g[symid].id;\n            }\n        });\n        return out;\n    }\n}\nexport class LR0ItemGraph extends LRItemGraph {\n    startSet() {\n        const startItem = this.startItem();\n        const newset = this.newItemSet(startItem);\n        return this.closure(newset);\n    }\n    closure(itemSet) {\n        const out = new LRItemSet(this, ...itemSet.values);\n        for (let i = 0; i < out.values.length; i++) {\n            const itemId = out.values[i];\n            const item = this.items.get(itemId);\n            const rule = item.rule;\n            if (item.position < rule.rhs.length) {\n                const sym = rule.rhs.syms[item.position];\n                if (!sym.isTerminal) {\n                    for (const rule of this.grammar.rulesForNT(sym)) {\n                        const newItem = this.items.ensure(new LRItem(rule, 0));\n                        out.add(newItem.id);\n                    }\n                }\n            }\n        }\n        return out.size == 0 ? out : this.itemSets.ensure(out);\n    }\n}\nexport class LR1ItemGraph extends LRItemGraph {\n    startSet() {\n        const startItem = this.startItem();\n        const newset = this.newItemSet(startItem);\n        newset.addLookAhead(startItem, this.grammar.Eof);\n        return this.closure(newset);\n    }\n    closure(itemSet) {\n        const out = itemSet.copy();\n        for (let i = 0; i < out.values.length; i++) {\n            const itemId = out.values[i];\n            const item = this.items.get(itemId);\n            if (item.position >= item.rule.rhs.length)\n                continue;\n            const rhs = item.rule.rhs;\n            const B = rhs.syms[item.position];\n            if (B.isTerminal)\n                continue;\n            for (const lookahead of out.getLookAheads(item)) {\n                const suffix = rhs.copy().append(lookahead);\n                this.grammar.firstSets.forEachTermIn(suffix, item.position + 1, (term) => {\n                    if (term != null) {\n                        const bRules = this.grammar.rulesForNT(B);\n                        for (const br of bRules) {\n                            const newItem = this.items.ensure(new LRItem(br, 0));\n                            out.add(newItem.id);\n                            out.addLookAhead(newItem, term);\n                        }\n                    }\n                });\n            }\n        }\n        return out.size == 0 ? out : this.itemSets.ensure(out);\n    }\n}\n//# sourceMappingURL=lritems.js.map","import * as TSU from \"@panyam/tsutils\";\nimport { Grammar, Str, Sym, Rule } from \"./grammar\";\nimport { LRAction, ParseTable } from \"./lr\";\nimport { LRItem, LR0ItemGraph, LR1ItemGraph } from \"./lritems\";\nexport function makeParseTable(g, type = \"lr1\") {\n    switch (type) {\n        case \"lr1\":\n            return makeLRParseTable(g);\n        case \"lalr\":\n            return makeLALRParseTable(g);\n    }\n    return makeSLRParseTable(g);\n}\nexport function makeSLRParseTable(grammar) {\n    const ig = makeSLRAutomaton(grammar);\n    return [makeParseTableFromLA(ig, grammar), ig];\n}\nexport function makeSLRAutomaton(grammar) {\n    const ig = new LR0ItemGraph(grammar).refresh();\n    for (const itemSet of ig.itemSets.entries) {\n        evalLASetsForSLRItem(grammar, ig, itemSet);\n    }\n    return ig;\n}\nexport function evalLASetsForSLRItem(grammar, ig, itemSet) {\n    for (const itemId of itemSet.values) {\n        const item = ig.items.get(itemId);\n        const rule = item.rule;\n        if (item.position >= rule.rhs.length) {\n            grammar.followSets.forEachTerm(rule.nt, (term) => {\n                if (term != null) {\n                    TSU.assert(term.isTerminal);\n                    itemSet.addLookAhead(item, term);\n                }\n            });\n        }\n    }\n}\nexport function makeLRParseTable(grammar) {\n    const ig = new LR1ItemGraph(grammar).refresh();\n    const parseTable = makeParseTableFromLA(ig, grammar);\n    return [parseTable, ig];\n}\nexport function makeLALRParseTable(grammar) {\n    const [parseTable, ig] = makeSLRParseTable(grammar);\n    if (!parseTable.hasConflicts) {\n        return [parseTable, ig];\n    }\n    const g2 = grammarFromLR0ItemGraph(ig, grammar);\n    const prevSets = {};\n    for (const startState in ig.gotoSets) {\n        for (const symId in ig.gotoSets[startState]) {\n            const nextSet = ig.gotoSets[startState][symId];\n            if (!(nextSet.id in prevSets)) {\n                prevSets[nextSet.id] = {};\n            }\n            if (!(symId in prevSets[nextSet.id])) {\n                prevSets[nextSet.id][symId] = new Set();\n            }\n            prevSets[nextSet.id][symId].add(startState);\n        }\n    }\n    for (const startState in parseTable.conflictActions) {\n        const itemSet = ig.itemSets.get(startState);\n        evalLASetsForLALRItem(grammar, g2, ig, itemSet, prevSets);\n    }\n    return [makeParseTableFromLA(ig, grammar), ig];\n}\nexport function makeParseTableFromLA(ig, grammar) {\n    const parseTable = new ParseTable(grammar);\n    for (const itemSet of ig.itemSets.entries) {\n        for (const itemId of itemSet.values) {\n            const item = ig.items.get(itemId);\n            const rule = item.rule;\n            if (item.position < rule.rhs.length) {\n                const sym = rule.rhs.syms[item.position];\n                if (sym.isTerminal) {\n                    const nextSet = ig.getGoto(itemSet, sym);\n                    if (nextSet) {\n                        parseTable.addAction(itemSet.id, sym, LRAction.Shift(nextSet.id));\n                    }\n                }\n            }\n            else if (!rule.nt.equals(grammar.augStartRule.nt)) {\n                const lookaheads = itemSet.getLookAheads(item);\n                for (const lookahead of lookaheads) {\n                    parseTable.addAction(itemSet.id, lookahead, LRAction.Reduce(rule));\n                }\n            }\n        }\n        ig.forEachGoto(itemSet, (sym, next) => {\n            if (sym != null && !sym.isTerminal) {\n                parseTable.addAction(itemSet.id, sym, LRAction.Goto(next.id));\n            }\n        });\n        const lr1Item = ig.items.ensure(new LRItem(grammar.augStartRule, 1));\n        itemSet.addLookAhead(lr1Item, grammar.Eof);\n        if (itemSet.has(lr1Item.id)) {\n            parseTable.addAction(itemSet.id, grammar.Eof, LRAction.Accept());\n        }\n    }\n    return parseTable;\n}\nexport function evalLASetsForLALRItem(grammar, augGrammar, ig, itemSet, prevSets) {\n    function findP(rule, i, currState, states) {\n        if (i < 0) {\n            const transitions = ig.gotoSets[currState];\n            TSU.assert((transitions[rule.nt.id] || null) != null, \"Transition on rule.nt missing from start state\");\n            states.add(currState);\n        }\n        else {\n            const sym = rule.rhs.syms[i];\n            const prevStates = prevSets[currState][sym.id] || null;\n            TSU.assert(prevStates != null, \"Prev set should not be null\");\n            prevStates.forEach((nextState) => findP(rule, i - 1, nextState, states));\n        }\n    }\n    itemSet.clearLookAheads();\n    for (const itemId of itemSet.values) {\n        const item = ig.items.get(itemId);\n        const rule = item.rule;\n        if (item.position >= rule.rhs.length) {\n            const pSet = new Set();\n            findP(rule, rule.rhs.length - 1, itemSet.id, pSet);\n            pSet.forEach((p) => {\n                const pALabel = `[${p}:${rule.nt.label}]`;\n                const pA = augGrammar.getSym(pALabel);\n                TSU.assert(pA != null, \"Augmented grammar symbol [p:A] not found\");\n                augGrammar.followSets.forEachTerm(pA, (term) => {\n                    if (term != null && term != augGrammar.Eof) {\n                        TSU.assert(term.isTerminal);\n                        const label = term.label.substring(term.label.indexOf(\":\") + 1, term.label.length - 1).trim();\n                        const T = grammar.getSym(label);\n                        TSU.assert(T != null, `T (${label}) in [r:T] cannot be null`);\n                        itemSet.addLookAhead(item, T);\n                    }\n                });\n            });\n        }\n    }\n}\nexport function grammarFromLR0ItemGraph(ig, g) {\n    const g2 = new Grammar();\n    function ensureG2Sym(pi, sym) {\n        const newSymLabel = `[${pi}:${sym.label}]`;\n        const newSym = g2.ensureSym(new Sym(g2, newSymLabel, sym.isTerminal), false);\n        if (pi == 0 && g.startSymbol == sym && g.startSymbol != newSym && !sym.isTerminal) {\n            g2.startSymbol = newSym;\n        }\n        return newSym;\n    }\n    for (const startState in ig.gotoSets) {\n        const transitions = ig.gotoSets[startState];\n        for (const symId in transitions) {\n            const sym = g.getSymById(symId);\n            ensureG2Sym(startState, sym);\n        }\n    }\n    function buildRuleFrom(startSet, A, rule) {\n        let pi = startSet;\n        const newSyms = rule.rhs.syms.map((xi, index) => {\n            const nextSym = ensureG2Sym(pi, xi);\n            const transitions = ig.gotoSets[pi];\n            const nextSet = transitions[xi.id] || null;\n            TSU.assert(nextSet != null, \"Next set transition *must* be valid\");\n            pi = nextSet.id;\n            return nextSym;\n        });\n        return new Str(...newSyms);\n    }\n    for (const startState in ig.gotoSets) {\n        const transitions = ig.gotoSets[startState];\n        for (const symId in transitions) {\n            const startSym = g.getSymById(symId);\n            const p1 = startState;\n            if (!startSym.isTerminal) {\n                const newA = ensureG2Sym(p1, startSym);\n                g.forEachRule(startSym, (rule, index) => {\n                    const newRHS = buildRuleFrom(p1, startSym, rule);\n                    const newRule = new Rule(newA, newRHS);\n                    g2.addRule(newRule);\n                });\n            }\n        }\n    }\n    return g2;\n}\n//# sourceMappingURL=ptables.js.map","import { load as loadGrammar } from \"./dsl\";\nimport { makeParseTable } from \"./ptables\";\nimport { Parser } from \"./lr\";\nimport { logParserDebug } from \"./debug\";\nexport function newLRParser(input, params = null) {\n    const options = params || {};\n    const [ptable, tokenFunc, itemGraph] = newParseTable(input, options);\n    const parser = new Parser(ptable);\n    if (options.tokenizer || tokenFunc) {\n        parser.setTokenizer(options.tokenizer || tokenFunc);\n    }\n    const debug = options.debug || \"\";\n    if (debug.split(\"|\").findIndex((p) => p == \"all\" || p == \"parser\") >= 0) {\n        logParserDebug(parser, itemGraph);\n    }\n    return [parser, tokenFunc, itemGraph];\n}\nexport function newParseTable(input, params = null) {\n    const options = params || {};\n    const [g, tokenFunc] = loadGrammar(input, options);\n    g.augmentStartSymbol();\n    const [ptable, itemGraph] = makeParseTable(g, options.type);\n    return [ptable, tokenFunc, itemGraph];\n}\n//# sourceMappingURL=factory.js.map","export function logParserDebug(parser, itemGraph) {\n    const g = parser.grammar;\n    const ptable = parser.parseTable;\n    console.log(\"===============================\\nGrammar (as default): \\n\", g.debugValue.map((x, i) => `${i + 1}  -   ${x}`), \"===============================\\nGrammar (as Bison): \\n\", g.debugValue.map((x, i) => `${x.replace(\"->\", \":\")} ; \\n`).join(\"\"), \"===============================\\nParseTable: \\n\", JSON.stringify(mergedDebugValue(ptable, itemGraph), null, 4), \"===============================\\nConflicts: \\n\", ptable.conflictActions);\n}\nexport function mergedDebugValue(ptable, itemGraph) {\n    const merged = {};\n    const ptabDV = ptable.debugValue;\n    const igDV = itemGraph?.debugValue;\n    for (const stateId in ptabDV) {\n        const actions = ptabDV[stateId];\n        if (itemGraph) {\n            const items = igDV[stateId];\n            merged[stateId] = { items: items[\"items\"], actions: actions, goto: items[\"goto\"] };\n        }\n        else {\n            merged[stateId] = actions;\n        }\n    }\n    return merged;\n}\n//# sourceMappingURL=debug.js.map","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encodeNonAsciiHTML = exports.encodeHTML = void 0;\nvar encode_html_js_1 = __importDefault(require(\"./generated/encode-html.js\"));\nvar escape_js_1 = require(\"./escape.js\");\nvar htmlReplacer = /[\\t\\n!-,./:-@[-`\\f{-}$\\x80-\\uFFFF]/g;\n/**\n * Encodes all characters in the input using HTML entities. This includes\n * characters that are valid ASCII characters in HTML documents, such as `#`.\n *\n * To get a more compact output, consider using the `encodeNonAsciiHTML`\n * function, which will only encode characters that are not valid in HTML\n * documents, as well as non-ASCII characters.\n *\n * If a character has no equivalent entity, a numeric hexadecimal reference\n * (eg. `&#xfc;`) will be used.\n */\nfunction encodeHTML(data) {\n    return encodeHTMLTrieRe(htmlReplacer, data);\n}\nexports.encodeHTML = encodeHTML;\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in HTML\n * documents using HTML entities. This function will not encode characters that\n * are valid in HTML documents, such as `#`.\n *\n * If a character has no equivalent entity, a numeric hexadecimal reference\n * (eg. `&#xfc;`) will be used.\n */\nfunction encodeNonAsciiHTML(data) {\n    return encodeHTMLTrieRe(escape_js_1.xmlReplacer, data);\n}\nexports.encodeNonAsciiHTML = encodeNonAsciiHTML;\nfunction encodeHTMLTrieRe(regExp, str) {\n    var ret = \"\";\n    var lastIdx = 0;\n    var match;\n    while ((match = regExp.exec(str)) !== null) {\n        var i = match.index;\n        ret += str.substring(lastIdx, i);\n        var char = str.charCodeAt(i);\n        var next = encode_html_js_1.default.get(char);\n        if (typeof next === \"object\") {\n            // We are in a branch. Try to match the next char.\n            if (i + 1 < str.length) {\n                var nextChar = str.charCodeAt(i + 1);\n                var value = typeof next.n === \"number\"\n                    ? next.n === nextChar\n                        ? next.o\n                        : undefined\n                    : next.n.get(nextChar);\n                if (value !== undefined) {\n                    ret += value;\n                    lastIdx = regExp.lastIndex += 1;\n                    continue;\n                }\n            }\n            next = next.v;\n        }\n        // We might have a tree node without a value; skip and use a numeric entity.\n        if (next !== undefined) {\n            ret += next;\n            lastIdx = i + 1;\n        }\n        else {\n            var cp = (0, escape_js_1.getCodePoint)(str, i);\n            ret += \"&#x\".concat(cp.toString(16), \";\");\n            // Increase by 1 if we have a surrogate pair\n            lastIdx = regExp.lastIndex += Number(cp !== char);\n        }\n    }\n    return ret + str.substr(lastIdx);\n}\n//# sourceMappingURL=encode.js.map","'use strict';\n\nvar regex$5 = /[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n\nvar regex$4 = /[\\0-\\x1F\\x7F-\\x9F]/;\n\nvar regex$3 = /[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u0890\\u0891\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD80D[\\uDC30-\\uDC3F]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/;\n\nvar regex$2 = /[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061D-\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1B7D\\u1B7E\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u2E52-\\u2E5D\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDEAD\\uDF55-\\uDF59\\uDF86-\\uDF89]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5A\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDEB9\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDD44-\\uDD46\\uDDE2\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2\\uDF00-\\uDF09]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8\\uDF43-\\uDF4F\\uDFFF]|\\uD809[\\uDC70-\\uDC74]|\\uD80B[\\uDFF1\\uDFF2]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A\\uDFE2]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/;\n\nvar regex$1 = /[\\$\\+<->\\^`\\|~\\xA2-\\xA6\\xA8\\xA9\\xAC\\xAE-\\xB1\\xB4\\xB8\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u03F6\\u0482\\u058D-\\u058F\\u0606-\\u0608\\u060B\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u07FE\\u07FF\\u0888\\u09F2\\u09F3\\u09FA\\u09FB\\u0AF1\\u0B70\\u0BF3-\\u0BFA\\u0C7F\\u0D4F\\u0D79\\u0E3F\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u166D\\u17DB\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u2044\\u2052\\u207A-\\u207C\\u208A-\\u208C\\u20A0-\\u20C0\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F\\u218A\\u218B\\u2190-\\u2307\\u230C-\\u2328\\u232B-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u2767\\u2794-\\u27C4\\u27C7-\\u27E5\\u27F0-\\u2982\\u2999-\\u29D7\\u29DC-\\u29FB\\u29FE-\\u2B73\\u2B76-\\u2B95\\u2B97-\\u2BFF\\u2CE5-\\u2CEA\\u2E50\\u2E51\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFF\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u309B\\u309C\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u31EF\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA828-\\uA82B\\uA836-\\uA839\\uAA77-\\uAA79\\uAB5B\\uAB6A\\uAB6B\\uFB29\\uFBB2-\\uFBC2\\uFD40-\\uFD4F\\uFDCF\\uFDFC-\\uFDFF\\uFE62\\uFE64-\\uFE66\\uFE69\\uFF04\\uFF0B\\uFF1C-\\uFF1E\\uFF3E\\uFF40\\uFF5C\\uFF5E\\uFFE0-\\uFFE6\\uFFE8-\\uFFEE\\uFFFC\\uFFFD]|\\uD800[\\uDD37-\\uDD3F\\uDD79-\\uDD89\\uDD8C-\\uDD8E\\uDD90-\\uDD9C\\uDDA0\\uDDD0-\\uDDFC]|\\uD802[\\uDC77\\uDC78\\uDEC8]|\\uD805\\uDF3F|\\uD807[\\uDFD5-\\uDFF1]|\\uD81A[\\uDF3C-\\uDF3F\\uDF45]|\\uD82F\\uDC9C|\\uD833[\\uDF50-\\uDFC3]|\\uD834[\\uDC00-\\uDCF5\\uDD00-\\uDD26\\uDD29-\\uDD64\\uDD6A-\\uDD6C\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDDEA\\uDE00-\\uDE41\\uDE45\\uDF00-\\uDF56]|\\uD835[\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85\\uDE86]|\\uD838[\\uDD4F\\uDEFF]|\\uD83B[\\uDCAC\\uDCB0\\uDD2E\\uDEF0\\uDEF1]|\\uD83C[\\uDC00-\\uDC2B\\uDC30-\\uDC93\\uDCA0-\\uDCAE\\uDCB1-\\uDCBF\\uDCC1-\\uDCCF\\uDCD1-\\uDCF5\\uDD0D-\\uDDAD\\uDDE6-\\uDE02\\uDE10-\\uDE3B\\uDE40-\\uDE48\\uDE50\\uDE51\\uDE60-\\uDE65\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDED7\\uDEDC-\\uDEEC\\uDEF0-\\uDEFC\\uDF00-\\uDF76\\uDF7B-\\uDFD9\\uDFE0-\\uDFEB\\uDFF0]|\\uD83E[\\uDC00-\\uDC0B\\uDC10-\\uDC47\\uDC50-\\uDC59\\uDC60-\\uDC87\\uDC90-\\uDCAD\\uDCB0\\uDCB1\\uDD00-\\uDE53\\uDE60-\\uDE6D\\uDE70-\\uDE7C\\uDE80-\\uDE88\\uDE90-\\uDEBD\\uDEBF-\\uDEC5\\uDECE-\\uDEDB\\uDEE0-\\uDEE8\\uDEF0-\\uDEF8\\uDF00-\\uDF92\\uDF94-\\uDFCA]/;\n\nvar regex = /[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/;\n\nexports.Any = regex$5;\nexports.Cc = regex$4;\nexports.Cf = regex$3;\nexports.P = regex$2;\nexports.S = regex$1;\nexports.Z = regex;\n","\"use strict\";\n// Generated using scripts/write-decode-map.ts\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = new Uint16Array(\n// prettier-ignore\n\"\\u1d41<\\xd5\\u0131\\u028a\\u049d\\u057b\\u05d0\\u0675\\u06de\\u07a2\\u07d6\\u080f\\u0a4a\\u0a91\\u0da1\\u0e6d\\u0f09\\u0f26\\u10ca\\u1228\\u12e1\\u1415\\u149d\\u14c3\\u14df\\u1525\\0\\0\\0\\0\\0\\0\\u156b\\u16cd\\u198d\\u1c12\\u1ddd\\u1f7e\\u2060\\u21b0\\u228d\\u23c0\\u23fb\\u2442\\u2824\\u2912\\u2d08\\u2e48\\u2fce\\u3016\\u32ba\\u3639\\u37ac\\u38fe\\u3a28\\u3a71\\u3ae0\\u3b2e\\u0800EMabcfglmnoprstu\\\\bfms\\x7f\\x84\\x8b\\x90\\x95\\x98\\xa6\\xb3\\xb9\\xc8\\xcflig\\u803b\\xc6\\u40c6P\\u803b&\\u4026cute\\u803b\\xc1\\u40c1reve;\\u4102\\u0100iyx}rc\\u803b\\xc2\\u40c2;\\u4410r;\\uc000\\ud835\\udd04rave\\u803b\\xc0\\u40c0pha;\\u4391acr;\\u4100d;\\u6a53\\u0100gp\\x9d\\xa1on;\\u4104f;\\uc000\\ud835\\udd38plyFunction;\\u6061ing\\u803b\\xc5\\u40c5\\u0100cs\\xbe\\xc3r;\\uc000\\ud835\\udc9cign;\\u6254ilde\\u803b\\xc3\\u40c3ml\\u803b\\xc4\\u40c4\\u0400aceforsu\\xe5\\xfb\\xfe\\u0117\\u011c\\u0122\\u0127\\u012a\\u0100cr\\xea\\xf2kslash;\\u6216\\u0176\\xf6\\xf8;\\u6ae7ed;\\u6306y;\\u4411\\u0180crt\\u0105\\u010b\\u0114ause;\\u6235noullis;\\u612ca;\\u4392r;\\uc000\\ud835\\udd05pf;\\uc000\\ud835\\udd39eve;\\u42d8c\\xf2\\u0113mpeq;\\u624e\\u0700HOacdefhilorsu\\u014d\\u0151\\u0156\\u0180\\u019e\\u01a2\\u01b5\\u01b7\\u01ba\\u01dc\\u0215\\u0273\\u0278\\u027ecy;\\u4427PY\\u803b\\xa9\\u40a9\\u0180cpy\\u015d\\u0162\\u017aute;\\u4106\\u0100;i\\u0167\\u0168\\u62d2talDifferentialD;\\u6145leys;\\u612d\\u0200aeio\\u0189\\u018e\\u0194\\u0198ron;\\u410cdil\\u803b\\xc7\\u40c7rc;\\u4108nint;\\u6230ot;\\u410a\\u0100dn\\u01a7\\u01adilla;\\u40b8terDot;\\u40b7\\xf2\\u017fi;\\u43a7rcle\\u0200DMPT\\u01c7\\u01cb\\u01d1\\u01d6ot;\\u6299inus;\\u6296lus;\\u6295imes;\\u6297o\\u0100cs\\u01e2\\u01f8kwiseContourIntegral;\\u6232eCurly\\u0100DQ\\u0203\\u020foubleQuote;\\u601duote;\\u6019\\u0200lnpu\\u021e\\u0228\\u0247\\u0255on\\u0100;e\\u0225\\u0226\\u6237;\\u6a74\\u0180git\\u022f\\u0236\\u023aruent;\\u6261nt;\\u622fourIntegral;\\u622e\\u0100fr\\u024c\\u024e;\\u6102oduct;\\u6210nterClockwiseContourIntegral;\\u6233oss;\\u6a2fcr;\\uc000\\ud835\\udc9ep\\u0100;C\\u0284\\u0285\\u62d3ap;\\u624d\\u0580DJSZacefios\\u02a0\\u02ac\\u02b0\\u02b4\\u02b8\\u02cb\\u02d7\\u02e1\\u02e6\\u0333\\u048d\\u0100;o\\u0179\\u02a5trahd;\\u6911cy;\\u4402cy;\\u4405cy;\\u440f\\u0180grs\\u02bf\\u02c4\\u02c7ger;\\u6021r;\\u61a1hv;\\u6ae4\\u0100ay\\u02d0\\u02d5ron;\\u410e;\\u4414l\\u0100;t\\u02dd\\u02de\\u6207a;\\u4394r;\\uc000\\ud835\\udd07\\u0100af\\u02eb\\u0327\\u0100cm\\u02f0\\u0322ritical\\u0200ADGT\\u0300\\u0306\\u0316\\u031ccute;\\u40b4o\\u0174\\u030b\\u030d;\\u42d9bleAcute;\\u42ddrave;\\u4060ilde;\\u42dcond;\\u62c4ferentialD;\\u6146\\u0470\\u033d\\0\\0\\0\\u0342\\u0354\\0\\u0405f;\\uc000\\ud835\\udd3b\\u0180;DE\\u0348\\u0349\\u034d\\u40a8ot;\\u60dcqual;\\u6250ble\\u0300CDLRUV\\u0363\\u0372\\u0382\\u03cf\\u03e2\\u03f8ontourIntegra\\xec\\u0239o\\u0274\\u0379\\0\\0\\u037b\\xbb\\u0349nArrow;\\u61d3\\u0100eo\\u0387\\u03a4ft\\u0180ART\\u0390\\u0396\\u03a1rrow;\\u61d0ightArrow;\\u61d4e\\xe5\\u02cang\\u0100LR\\u03ab\\u03c4eft\\u0100AR\\u03b3\\u03b9rrow;\\u67f8ightArrow;\\u67faightArrow;\\u67f9ight\\u0100AT\\u03d8\\u03derrow;\\u61d2ee;\\u62a8p\\u0241\\u03e9\\0\\0\\u03efrrow;\\u61d1ownArrow;\\u61d5erticalBar;\\u6225n\\u0300ABLRTa\\u0412\\u042a\\u0430\\u045e\\u047f\\u037crrow\\u0180;BU\\u041d\\u041e\\u0422\\u6193ar;\\u6913pArrow;\\u61f5reve;\\u4311eft\\u02d2\\u043a\\0\\u0446\\0\\u0450ightVector;\\u6950eeVector;\\u695eector\\u0100;B\\u0459\\u045a\\u61bdar;\\u6956ight\\u01d4\\u0467\\0\\u0471eeVector;\\u695fector\\u0100;B\\u047a\\u047b\\u61c1ar;\\u6957ee\\u0100;A\\u0486\\u0487\\u62a4rrow;\\u61a7\\u0100ct\\u0492\\u0497r;\\uc000\\ud835\\udc9frok;\\u4110\\u0800NTacdfglmopqstux\\u04bd\\u04c0\\u04c4\\u04cb\\u04de\\u04e2\\u04e7\\u04ee\\u04f5\\u0521\\u052f\\u0536\\u0552\\u055d\\u0560\\u0565G;\\u414aH\\u803b\\xd0\\u40d0cute\\u803b\\xc9\\u40c9\\u0180aiy\\u04d2\\u04d7\\u04dcron;\\u411arc\\u803b\\xca\\u40ca;\\u442dot;\\u4116r;\\uc000\\ud835\\udd08rave\\u803b\\xc8\\u40c8ement;\\u6208\\u0100ap\\u04fa\\u04fecr;\\u4112ty\\u0253\\u0506\\0\\0\\u0512mallSquare;\\u65fberySmallSquare;\\u65ab\\u0100gp\\u0526\\u052aon;\\u4118f;\\uc000\\ud835\\udd3csilon;\\u4395u\\u0100ai\\u053c\\u0549l\\u0100;T\\u0542\\u0543\\u6a75ilde;\\u6242librium;\\u61cc\\u0100ci\\u0557\\u055ar;\\u6130m;\\u6a73a;\\u4397ml\\u803b\\xcb\\u40cb\\u0100ip\\u056a\\u056fsts;\\u6203onentialE;\\u6147\\u0280cfios\\u0585\\u0588\\u058d\\u05b2\\u05ccy;\\u4424r;\\uc000\\ud835\\udd09lled\\u0253\\u0597\\0\\0\\u05a3mallSquare;\\u65fcerySmallSquare;\\u65aa\\u0370\\u05ba\\0\\u05bf\\0\\0\\u05c4f;\\uc000\\ud835\\udd3dAll;\\u6200riertrf;\\u6131c\\xf2\\u05cb\\u0600JTabcdfgorst\\u05e8\\u05ec\\u05ef\\u05fa\\u0600\\u0612\\u0616\\u061b\\u061d\\u0623\\u066c\\u0672cy;\\u4403\\u803b>\\u403emma\\u0100;d\\u05f7\\u05f8\\u4393;\\u43dcreve;\\u411e\\u0180eiy\\u0607\\u060c\\u0610dil;\\u4122rc;\\u411c;\\u4413ot;\\u4120r;\\uc000\\ud835\\udd0a;\\u62d9pf;\\uc000\\ud835\\udd3eeater\\u0300EFGLST\\u0635\\u0644\\u064e\\u0656\\u065b\\u0666qual\\u0100;L\\u063e\\u063f\\u6265ess;\\u62dbullEqual;\\u6267reater;\\u6aa2ess;\\u6277lantEqual;\\u6a7eilde;\\u6273cr;\\uc000\\ud835\\udca2;\\u626b\\u0400Aacfiosu\\u0685\\u068b\\u0696\\u069b\\u069e\\u06aa\\u06be\\u06caRDcy;\\u442a\\u0100ct\\u0690\\u0694ek;\\u42c7;\\u405eirc;\\u4124r;\\u610clbertSpace;\\u610b\\u01f0\\u06af\\0\\u06b2f;\\u610dizontalLine;\\u6500\\u0100ct\\u06c3\\u06c5\\xf2\\u06a9rok;\\u4126mp\\u0144\\u06d0\\u06d8ownHum\\xf0\\u012fqual;\\u624f\\u0700EJOacdfgmnostu\\u06fa\\u06fe\\u0703\\u0707\\u070e\\u071a\\u071e\\u0721\\u0728\\u0744\\u0778\\u078b\\u078f\\u0795cy;\\u4415lig;\\u4132cy;\\u4401cute\\u803b\\xcd\\u40cd\\u0100iy\\u0713\\u0718rc\\u803b\\xce\\u40ce;\\u4418ot;\\u4130r;\\u6111rave\\u803b\\xcc\\u40cc\\u0180;ap\\u0720\\u072f\\u073f\\u0100cg\\u0734\\u0737r;\\u412ainaryI;\\u6148lie\\xf3\\u03dd\\u01f4\\u0749\\0\\u0762\\u0100;e\\u074d\\u074e\\u622c\\u0100gr\\u0753\\u0758ral;\\u622bsection;\\u62c2isible\\u0100CT\\u076c\\u0772omma;\\u6063imes;\\u6062\\u0180gpt\\u077f\\u0783\\u0788on;\\u412ef;\\uc000\\ud835\\udd40a;\\u4399cr;\\u6110ilde;\\u4128\\u01eb\\u079a\\0\\u079ecy;\\u4406l\\u803b\\xcf\\u40cf\\u0280cfosu\\u07ac\\u07b7\\u07bc\\u07c2\\u07d0\\u0100iy\\u07b1\\u07b5rc;\\u4134;\\u4419r;\\uc000\\ud835\\udd0dpf;\\uc000\\ud835\\udd41\\u01e3\\u07c7\\0\\u07ccr;\\uc000\\ud835\\udca5rcy;\\u4408kcy;\\u4404\\u0380HJacfos\\u07e4\\u07e8\\u07ec\\u07f1\\u07fd\\u0802\\u0808cy;\\u4425cy;\\u440cppa;\\u439a\\u0100ey\\u07f6\\u07fbdil;\\u4136;\\u441ar;\\uc000\\ud835\\udd0epf;\\uc000\\ud835\\udd42cr;\\uc000\\ud835\\udca6\\u0580JTaceflmost\\u0825\\u0829\\u082c\\u0850\\u0863\\u09b3\\u09b8\\u09c7\\u09cd\\u0a37\\u0a47cy;\\u4409\\u803b<\\u403c\\u0280cmnpr\\u0837\\u083c\\u0841\\u0844\\u084dute;\\u4139bda;\\u439bg;\\u67ealacetrf;\\u6112r;\\u619e\\u0180aey\\u0857\\u085c\\u0861ron;\\u413ddil;\\u413b;\\u441b\\u0100fs\\u0868\\u0970t\\u0500ACDFRTUVar\\u087e\\u08a9\\u08b1\\u08e0\\u08e6\\u08fc\\u092f\\u095b\\u0390\\u096a\\u0100nr\\u0883\\u088fgleBracket;\\u67e8row\\u0180;BR\\u0899\\u089a\\u089e\\u6190ar;\\u61e4ightArrow;\\u61c6eiling;\\u6308o\\u01f5\\u08b7\\0\\u08c3bleBracket;\\u67e6n\\u01d4\\u08c8\\0\\u08d2eeVector;\\u6961ector\\u0100;B\\u08db\\u08dc\\u61c3ar;\\u6959loor;\\u630aight\\u0100AV\\u08ef\\u08f5rrow;\\u6194ector;\\u694e\\u0100er\\u0901\\u0917e\\u0180;AV\\u0909\\u090a\\u0910\\u62a3rrow;\\u61a4ector;\\u695aiangle\\u0180;BE\\u0924\\u0925\\u0929\\u62b2ar;\\u69cfqual;\\u62b4p\\u0180DTV\\u0937\\u0942\\u094cownVector;\\u6951eeVector;\\u6960ector\\u0100;B\\u0956\\u0957\\u61bfar;\\u6958ector\\u0100;B\\u0965\\u0966\\u61bcar;\\u6952ight\\xe1\\u039cs\\u0300EFGLST\\u097e\\u098b\\u0995\\u099d\\u09a2\\u09adqualGreater;\\u62daullEqual;\\u6266reater;\\u6276ess;\\u6aa1lantEqual;\\u6a7dilde;\\u6272r;\\uc000\\ud835\\udd0f\\u0100;e\\u09bd\\u09be\\u62d8ftarrow;\\u61daidot;\\u413f\\u0180npw\\u09d4\\u0a16\\u0a1bg\\u0200LRlr\\u09de\\u09f7\\u0a02\\u0a10eft\\u0100AR\\u09e6\\u09ecrrow;\\u67f5ightArrow;\\u67f7ightArrow;\\u67f6eft\\u0100ar\\u03b3\\u0a0aight\\xe1\\u03bfight\\xe1\\u03caf;\\uc000\\ud835\\udd43er\\u0100LR\\u0a22\\u0a2ceftArrow;\\u6199ightArrow;\\u6198\\u0180cht\\u0a3e\\u0a40\\u0a42\\xf2\\u084c;\\u61b0rok;\\u4141;\\u626a\\u0400acefiosu\\u0a5a\\u0a5d\\u0a60\\u0a77\\u0a7c\\u0a85\\u0a8b\\u0a8ep;\\u6905y;\\u441c\\u0100dl\\u0a65\\u0a6fiumSpace;\\u605flintrf;\\u6133r;\\uc000\\ud835\\udd10nusPlus;\\u6213pf;\\uc000\\ud835\\udd44c\\xf2\\u0a76;\\u439c\\u0480Jacefostu\\u0aa3\\u0aa7\\u0aad\\u0ac0\\u0b14\\u0b19\\u0d91\\u0d97\\u0d9ecy;\\u440acute;\\u4143\\u0180aey\\u0ab4\\u0ab9\\u0aberon;\\u4147dil;\\u4145;\\u441d\\u0180gsw\\u0ac7\\u0af0\\u0b0eative\\u0180MTV\\u0ad3\\u0adf\\u0ae8ediumSpace;\\u600bhi\\u0100cn\\u0ae6\\u0ad8\\xeb\\u0ad9eryThi\\xee\\u0ad9ted\\u0100GL\\u0af8\\u0b06reaterGreate\\xf2\\u0673essLes\\xf3\\u0a48Line;\\u400ar;\\uc000\\ud835\\udd11\\u0200Bnpt\\u0b22\\u0b28\\u0b37\\u0b3areak;\\u6060BreakingSpace;\\u40a0f;\\u6115\\u0680;CDEGHLNPRSTV\\u0b55\\u0b56\\u0b6a\\u0b7c\\u0ba1\\u0beb\\u0c04\\u0c5e\\u0c84\\u0ca6\\u0cd8\\u0d61\\u0d85\\u6aec\\u0100ou\\u0b5b\\u0b64ngruent;\\u6262pCap;\\u626doubleVerticalBar;\\u6226\\u0180lqx\\u0b83\\u0b8a\\u0b9bement;\\u6209ual\\u0100;T\\u0b92\\u0b93\\u6260ilde;\\uc000\\u2242\\u0338ists;\\u6204reater\\u0380;EFGLST\\u0bb6\\u0bb7\\u0bbd\\u0bc9\\u0bd3\\u0bd8\\u0be5\\u626fqual;\\u6271ullEqual;\\uc000\\u2267\\u0338reater;\\uc000\\u226b\\u0338ess;\\u6279lantEqual;\\uc000\\u2a7e\\u0338ilde;\\u6275ump\\u0144\\u0bf2\\u0bfdownHump;\\uc000\\u224e\\u0338qual;\\uc000\\u224f\\u0338e\\u0100fs\\u0c0a\\u0c27tTriangle\\u0180;BE\\u0c1a\\u0c1b\\u0c21\\u62eaar;\\uc000\\u29cf\\u0338qual;\\u62ecs\\u0300;EGLST\\u0c35\\u0c36\\u0c3c\\u0c44\\u0c4b\\u0c58\\u626equal;\\u6270reater;\\u6278ess;\\uc000\\u226a\\u0338lantEqual;\\uc000\\u2a7d\\u0338ilde;\\u6274ested\\u0100GL\\u0c68\\u0c79reaterGreater;\\uc000\\u2aa2\\u0338essLess;\\uc000\\u2aa1\\u0338recedes\\u0180;ES\\u0c92\\u0c93\\u0c9b\\u6280qual;\\uc000\\u2aaf\\u0338lantEqual;\\u62e0\\u0100ei\\u0cab\\u0cb9verseElement;\\u620cghtTriangle\\u0180;BE\\u0ccb\\u0ccc\\u0cd2\\u62ebar;\\uc000\\u29d0\\u0338qual;\\u62ed\\u0100qu\\u0cdd\\u0d0cuareSu\\u0100bp\\u0ce8\\u0cf9set\\u0100;E\\u0cf0\\u0cf3\\uc000\\u228f\\u0338qual;\\u62e2erset\\u0100;E\\u0d03\\u0d06\\uc000\\u2290\\u0338qual;\\u62e3\\u0180bcp\\u0d13\\u0d24\\u0d4eset\\u0100;E\\u0d1b\\u0d1e\\uc000\\u2282\\u20d2qual;\\u6288ceeds\\u0200;EST\\u0d32\\u0d33\\u0d3b\\u0d46\\u6281qual;\\uc000\\u2ab0\\u0338lantEqual;\\u62e1ilde;\\uc000\\u227f\\u0338erset\\u0100;E\\u0d58\\u0d5b\\uc000\\u2283\\u20d2qual;\\u6289ilde\\u0200;EFT\\u0d6e\\u0d6f\\u0d75\\u0d7f\\u6241qual;\\u6244ullEqual;\\u6247ilde;\\u6249erticalBar;\\u6224cr;\\uc000\\ud835\\udca9ilde\\u803b\\xd1\\u40d1;\\u439d\\u0700Eacdfgmoprstuv\\u0dbd\\u0dc2\\u0dc9\\u0dd5\\u0ddb\\u0de0\\u0de7\\u0dfc\\u0e02\\u0e20\\u0e22\\u0e32\\u0e3f\\u0e44lig;\\u4152cute\\u803b\\xd3\\u40d3\\u0100iy\\u0dce\\u0dd3rc\\u803b\\xd4\\u40d4;\\u441eblac;\\u4150r;\\uc000\\ud835\\udd12rave\\u803b\\xd2\\u40d2\\u0180aei\\u0dee\\u0df2\\u0df6cr;\\u414cga;\\u43a9cron;\\u439fpf;\\uc000\\ud835\\udd46enCurly\\u0100DQ\\u0e0e\\u0e1aoubleQuote;\\u601cuote;\\u6018;\\u6a54\\u0100cl\\u0e27\\u0e2cr;\\uc000\\ud835\\udcaaash\\u803b\\xd8\\u40d8i\\u016c\\u0e37\\u0e3cde\\u803b\\xd5\\u40d5es;\\u6a37ml\\u803b\\xd6\\u40d6er\\u0100BP\\u0e4b\\u0e60\\u0100ar\\u0e50\\u0e53r;\\u603eac\\u0100ek\\u0e5a\\u0e5c;\\u63deet;\\u63b4arenthesis;\\u63dc\\u0480acfhilors\\u0e7f\\u0e87\\u0e8a\\u0e8f\\u0e92\\u0e94\\u0e9d\\u0eb0\\u0efcrtialD;\\u6202y;\\u441fr;\\uc000\\ud835\\udd13i;\\u43a6;\\u43a0usMinus;\\u40b1\\u0100ip\\u0ea2\\u0eadncareplan\\xe5\\u069df;\\u6119\\u0200;eio\\u0eb9\\u0eba\\u0ee0\\u0ee4\\u6abbcedes\\u0200;EST\\u0ec8\\u0ec9\\u0ecf\\u0eda\\u627aqual;\\u6aaflantEqual;\\u627cilde;\\u627eme;\\u6033\\u0100dp\\u0ee9\\u0eeeuct;\\u620fortion\\u0100;a\\u0225\\u0ef9l;\\u621d\\u0100ci\\u0f01\\u0f06r;\\uc000\\ud835\\udcab;\\u43a8\\u0200Ufos\\u0f11\\u0f16\\u0f1b\\u0f1fOT\\u803b\\\"\\u4022r;\\uc000\\ud835\\udd14pf;\\u611acr;\\uc000\\ud835\\udcac\\u0600BEacefhiorsu\\u0f3e\\u0f43\\u0f47\\u0f60\\u0f73\\u0fa7\\u0faa\\u0fad\\u1096\\u10a9\\u10b4\\u10bearr;\\u6910G\\u803b\\xae\\u40ae\\u0180cnr\\u0f4e\\u0f53\\u0f56ute;\\u4154g;\\u67ebr\\u0100;t\\u0f5c\\u0f5d\\u61a0l;\\u6916\\u0180aey\\u0f67\\u0f6c\\u0f71ron;\\u4158dil;\\u4156;\\u4420\\u0100;v\\u0f78\\u0f79\\u611cerse\\u0100EU\\u0f82\\u0f99\\u0100lq\\u0f87\\u0f8eement;\\u620builibrium;\\u61cbpEquilibrium;\\u696fr\\xbb\\u0f79o;\\u43a1ght\\u0400ACDFTUVa\\u0fc1\\u0feb\\u0ff3\\u1022\\u1028\\u105b\\u1087\\u03d8\\u0100nr\\u0fc6\\u0fd2gleBracket;\\u67e9row\\u0180;BL\\u0fdc\\u0fdd\\u0fe1\\u6192ar;\\u61e5eftArrow;\\u61c4eiling;\\u6309o\\u01f5\\u0ff9\\0\\u1005bleBracket;\\u67e7n\\u01d4\\u100a\\0\\u1014eeVector;\\u695dector\\u0100;B\\u101d\\u101e\\u61c2ar;\\u6955loor;\\u630b\\u0100er\\u102d\\u1043e\\u0180;AV\\u1035\\u1036\\u103c\\u62a2rrow;\\u61a6ector;\\u695biangle\\u0180;BE\\u1050\\u1051\\u1055\\u62b3ar;\\u69d0qual;\\u62b5p\\u0180DTV\\u1063\\u106e\\u1078ownVector;\\u694feeVector;\\u695cector\\u0100;B\\u1082\\u1083\\u61bear;\\u6954ector\\u0100;B\\u1091\\u1092\\u61c0ar;\\u6953\\u0100pu\\u109b\\u109ef;\\u611dndImplies;\\u6970ightarrow;\\u61db\\u0100ch\\u10b9\\u10bcr;\\u611b;\\u61b1leDelayed;\\u69f4\\u0680HOacfhimoqstu\\u10e4\\u10f1\\u10f7\\u10fd\\u1119\\u111e\\u1151\\u1156\\u1161\\u1167\\u11b5\\u11bb\\u11bf\\u0100Cc\\u10e9\\u10eeHcy;\\u4429y;\\u4428FTcy;\\u442ccute;\\u415a\\u0280;aeiy\\u1108\\u1109\\u110e\\u1113\\u1117\\u6abcron;\\u4160dil;\\u415erc;\\u415c;\\u4421r;\\uc000\\ud835\\udd16ort\\u0200DLRU\\u112a\\u1134\\u113e\\u1149ownArrow\\xbb\\u041eeftArrow\\xbb\\u089aightArrow\\xbb\\u0fddpArrow;\\u6191gma;\\u43a3allCircle;\\u6218pf;\\uc000\\ud835\\udd4a\\u0272\\u116d\\0\\0\\u1170t;\\u621aare\\u0200;ISU\\u117b\\u117c\\u1189\\u11af\\u65a1ntersection;\\u6293u\\u0100bp\\u118f\\u119eset\\u0100;E\\u1197\\u1198\\u628fqual;\\u6291erset\\u0100;E\\u11a8\\u11a9\\u6290qual;\\u6292nion;\\u6294cr;\\uc000\\ud835\\udcaear;\\u62c6\\u0200bcmp\\u11c8\\u11db\\u1209\\u120b\\u0100;s\\u11cd\\u11ce\\u62d0et\\u0100;E\\u11cd\\u11d5qual;\\u6286\\u0100ch\\u11e0\\u1205eeds\\u0200;EST\\u11ed\\u11ee\\u11f4\\u11ff\\u627bqual;\\u6ab0lantEqual;\\u627dilde;\\u627fTh\\xe1\\u0f8c;\\u6211\\u0180;es\\u1212\\u1213\\u1223\\u62d1rset\\u0100;E\\u121c\\u121d\\u6283qual;\\u6287et\\xbb\\u1213\\u0580HRSacfhiors\\u123e\\u1244\\u1249\\u1255\\u125e\\u1271\\u1276\\u129f\\u12c2\\u12c8\\u12d1ORN\\u803b\\xde\\u40deADE;\\u6122\\u0100Hc\\u124e\\u1252cy;\\u440by;\\u4426\\u0100bu\\u125a\\u125c;\\u4009;\\u43a4\\u0180aey\\u1265\\u126a\\u126fron;\\u4164dil;\\u4162;\\u4422r;\\uc000\\ud835\\udd17\\u0100ei\\u127b\\u1289\\u01f2\\u1280\\0\\u1287efore;\\u6234a;\\u4398\\u0100cn\\u128e\\u1298kSpace;\\uc000\\u205f\\u200aSpace;\\u6009lde\\u0200;EFT\\u12ab\\u12ac\\u12b2\\u12bc\\u623cqual;\\u6243ullEqual;\\u6245ilde;\\u6248pf;\\uc000\\ud835\\udd4bipleDot;\\u60db\\u0100ct\\u12d6\\u12dbr;\\uc000\\ud835\\udcafrok;\\u4166\\u0ae1\\u12f7\\u130e\\u131a\\u1326\\0\\u132c\\u1331\\0\\0\\0\\0\\0\\u1338\\u133d\\u1377\\u1385\\0\\u13ff\\u1404\\u140a\\u1410\\u0100cr\\u12fb\\u1301ute\\u803b\\xda\\u40dar\\u0100;o\\u1307\\u1308\\u619fcir;\\u6949r\\u01e3\\u1313\\0\\u1316y;\\u440eve;\\u416c\\u0100iy\\u131e\\u1323rc\\u803b\\xdb\\u40db;\\u4423blac;\\u4170r;\\uc000\\ud835\\udd18rave\\u803b\\xd9\\u40d9acr;\\u416a\\u0100di\\u1341\\u1369er\\u0100BP\\u1348\\u135d\\u0100ar\\u134d\\u1350r;\\u405fac\\u0100ek\\u1357\\u1359;\\u63dfet;\\u63b5arenthesis;\\u63ddon\\u0100;P\\u1370\\u1371\\u62c3lus;\\u628e\\u0100gp\\u137b\\u137fon;\\u4172f;\\uc000\\ud835\\udd4c\\u0400ADETadps\\u1395\\u13ae\\u13b8\\u13c4\\u03e8\\u13d2\\u13d7\\u13f3rrow\\u0180;BD\\u1150\\u13a0\\u13a4ar;\\u6912ownArrow;\\u61c5ownArrow;\\u6195quilibrium;\\u696eee\\u0100;A\\u13cb\\u13cc\\u62a5rrow;\\u61a5own\\xe1\\u03f3er\\u0100LR\\u13de\\u13e8eftArrow;\\u6196ightArrow;\\u6197i\\u0100;l\\u13f9\\u13fa\\u43d2on;\\u43a5ing;\\u416ecr;\\uc000\\ud835\\udcb0ilde;\\u4168ml\\u803b\\xdc\\u40dc\\u0480Dbcdefosv\\u1427\\u142c\\u1430\\u1433\\u143e\\u1485\\u148a\\u1490\\u1496ash;\\u62abar;\\u6aeby;\\u4412ash\\u0100;l\\u143b\\u143c\\u62a9;\\u6ae6\\u0100er\\u1443\\u1445;\\u62c1\\u0180bty\\u144c\\u1450\\u147aar;\\u6016\\u0100;i\\u144f\\u1455cal\\u0200BLST\\u1461\\u1465\\u146a\\u1474ar;\\u6223ine;\\u407ceparator;\\u6758ilde;\\u6240ThinSpace;\\u600ar;\\uc000\\ud835\\udd19pf;\\uc000\\ud835\\udd4dcr;\\uc000\\ud835\\udcb1dash;\\u62aa\\u0280cefos\\u14a7\\u14ac\\u14b1\\u14b6\\u14bcirc;\\u4174dge;\\u62c0r;\\uc000\\ud835\\udd1apf;\\uc000\\ud835\\udd4ecr;\\uc000\\ud835\\udcb2\\u0200fios\\u14cb\\u14d0\\u14d2\\u14d8r;\\uc000\\ud835\\udd1b;\\u439epf;\\uc000\\ud835\\udd4fcr;\\uc000\\ud835\\udcb3\\u0480AIUacfosu\\u14f1\\u14f5\\u14f9\\u14fd\\u1504\\u150f\\u1514\\u151a\\u1520cy;\\u442fcy;\\u4407cy;\\u442ecute\\u803b\\xdd\\u40dd\\u0100iy\\u1509\\u150drc;\\u4176;\\u442br;\\uc000\\ud835\\udd1cpf;\\uc000\\ud835\\udd50cr;\\uc000\\ud835\\udcb4ml;\\u4178\\u0400Hacdefos\\u1535\\u1539\\u153f\\u154b\\u154f\\u155d\\u1560\\u1564cy;\\u4416cute;\\u4179\\u0100ay\\u1544\\u1549ron;\\u417d;\\u4417ot;\\u417b\\u01f2\\u1554\\0\\u155boWidt\\xe8\\u0ad9a;\\u4396r;\\u6128pf;\\u6124cr;\\uc000\\ud835\\udcb5\\u0be1\\u1583\\u158a\\u1590\\0\\u15b0\\u15b6\\u15bf\\0\\0\\0\\0\\u15c6\\u15db\\u15eb\\u165f\\u166d\\0\\u1695\\u169b\\u16b2\\u16b9\\0\\u16becute\\u803b\\xe1\\u40e1reve;\\u4103\\u0300;Ediuy\\u159c\\u159d\\u15a1\\u15a3\\u15a8\\u15ad\\u623e;\\uc000\\u223e\\u0333;\\u623frc\\u803b\\xe2\\u40e2te\\u80bb\\xb4\\u0306;\\u4430lig\\u803b\\xe6\\u40e6\\u0100;r\\xb2\\u15ba;\\uc000\\ud835\\udd1erave\\u803b\\xe0\\u40e0\\u0100ep\\u15ca\\u15d6\\u0100fp\\u15cf\\u15d4sym;\\u6135\\xe8\\u15d3ha;\\u43b1\\u0100ap\\u15dfc\\u0100cl\\u15e4\\u15e7r;\\u4101g;\\u6a3f\\u0264\\u15f0\\0\\0\\u160a\\u0280;adsv\\u15fa\\u15fb\\u15ff\\u1601\\u1607\\u6227nd;\\u6a55;\\u6a5clope;\\u6a58;\\u6a5a\\u0380;elmrsz\\u1618\\u1619\\u161b\\u161e\\u163f\\u164f\\u1659\\u6220;\\u69a4e\\xbb\\u1619sd\\u0100;a\\u1625\\u1626\\u6221\\u0461\\u1630\\u1632\\u1634\\u1636\\u1638\\u163a\\u163c\\u163e;\\u69a8;\\u69a9;\\u69aa;\\u69ab;\\u69ac;\\u69ad;\\u69ae;\\u69aft\\u0100;v\\u1645\\u1646\\u621fb\\u0100;d\\u164c\\u164d\\u62be;\\u699d\\u0100pt\\u1654\\u1657h;\\u6222\\xbb\\xb9arr;\\u637c\\u0100gp\\u1663\\u1667on;\\u4105f;\\uc000\\ud835\\udd52\\u0380;Eaeiop\\u12c1\\u167b\\u167d\\u1682\\u1684\\u1687\\u168a;\\u6a70cir;\\u6a6f;\\u624ad;\\u624bs;\\u4027rox\\u0100;e\\u12c1\\u1692\\xf1\\u1683ing\\u803b\\xe5\\u40e5\\u0180cty\\u16a1\\u16a6\\u16a8r;\\uc000\\ud835\\udcb6;\\u402amp\\u0100;e\\u12c1\\u16af\\xf1\\u0288ilde\\u803b\\xe3\\u40e3ml\\u803b\\xe4\\u40e4\\u0100ci\\u16c2\\u16c8onin\\xf4\\u0272nt;\\u6a11\\u0800Nabcdefiklnoprsu\\u16ed\\u16f1\\u1730\\u173c\\u1743\\u1748\\u1778\\u177d\\u17e0\\u17e6\\u1839\\u1850\\u170d\\u193d\\u1948\\u1970ot;\\u6aed\\u0100cr\\u16f6\\u171ek\\u0200ceps\\u1700\\u1705\\u170d\\u1713ong;\\u624cpsilon;\\u43f6rime;\\u6035im\\u0100;e\\u171a\\u171b\\u623dq;\\u62cd\\u0176\\u1722\\u1726ee;\\u62bded\\u0100;g\\u172c\\u172d\\u6305e\\xbb\\u172drk\\u0100;t\\u135c\\u1737brk;\\u63b6\\u0100oy\\u1701\\u1741;\\u4431quo;\\u601e\\u0280cmprt\\u1753\\u175b\\u1761\\u1764\\u1768aus\\u0100;e\\u010a\\u0109ptyv;\\u69b0s\\xe9\\u170cno\\xf5\\u0113\\u0180ahw\\u176f\\u1771\\u1773;\\u43b2;\\u6136een;\\u626cr;\\uc000\\ud835\\udd1fg\\u0380costuvw\\u178d\\u179d\\u17b3\\u17c1\\u17d5\\u17db\\u17de\\u0180aiu\\u1794\\u1796\\u179a\\xf0\\u0760rc;\\u65efp\\xbb\\u1371\\u0180dpt\\u17a4\\u17a8\\u17adot;\\u6a00lus;\\u6a01imes;\\u6a02\\u0271\\u17b9\\0\\0\\u17becup;\\u6a06ar;\\u6605riangle\\u0100du\\u17cd\\u17d2own;\\u65bdp;\\u65b3plus;\\u6a04e\\xe5\\u1444\\xe5\\u14adarow;\\u690d\\u0180ako\\u17ed\\u1826\\u1835\\u0100cn\\u17f2\\u1823k\\u0180lst\\u17fa\\u05ab\\u1802ozenge;\\u69ebriangle\\u0200;dlr\\u1812\\u1813\\u1818\\u181d\\u65b4own;\\u65beeft;\\u65c2ight;\\u65b8k;\\u6423\\u01b1\\u182b\\0\\u1833\\u01b2\\u182f\\0\\u1831;\\u6592;\\u65914;\\u6593ck;\\u6588\\u0100eo\\u183e\\u184d\\u0100;q\\u1843\\u1846\\uc000=\\u20e5uiv;\\uc000\\u2261\\u20e5t;\\u6310\\u0200ptwx\\u1859\\u185e\\u1867\\u186cf;\\uc000\\ud835\\udd53\\u0100;t\\u13cb\\u1863om\\xbb\\u13cctie;\\u62c8\\u0600DHUVbdhmptuv\\u1885\\u1896\\u18aa\\u18bb\\u18d7\\u18db\\u18ec\\u18ff\\u1905\\u190a\\u1910\\u1921\\u0200LRlr\\u188e\\u1890\\u1892\\u1894;\\u6557;\\u6554;\\u6556;\\u6553\\u0280;DUdu\\u18a1\\u18a2\\u18a4\\u18a6\\u18a8\\u6550;\\u6566;\\u6569;\\u6564;\\u6567\\u0200LRlr\\u18b3\\u18b5\\u18b7\\u18b9;\\u655d;\\u655a;\\u655c;\\u6559\\u0380;HLRhlr\\u18ca\\u18cb\\u18cd\\u18cf\\u18d1\\u18d3\\u18d5\\u6551;\\u656c;\\u6563;\\u6560;\\u656b;\\u6562;\\u655fox;\\u69c9\\u0200LRlr\\u18e4\\u18e6\\u18e8\\u18ea;\\u6555;\\u6552;\\u6510;\\u650c\\u0280;DUdu\\u06bd\\u18f7\\u18f9\\u18fb\\u18fd;\\u6565;\\u6568;\\u652c;\\u6534inus;\\u629flus;\\u629eimes;\\u62a0\\u0200LRlr\\u1919\\u191b\\u191d\\u191f;\\u655b;\\u6558;\\u6518;\\u6514\\u0380;HLRhlr\\u1930\\u1931\\u1933\\u1935\\u1937\\u1939\\u193b\\u6502;\\u656a;\\u6561;\\u655e;\\u653c;\\u6524;\\u651c\\u0100ev\\u0123\\u1942bar\\u803b\\xa6\\u40a6\\u0200ceio\\u1951\\u1956\\u195a\\u1960r;\\uc000\\ud835\\udcb7mi;\\u604fm\\u0100;e\\u171a\\u171cl\\u0180;bh\\u1968\\u1969\\u196b\\u405c;\\u69c5sub;\\u67c8\\u016c\\u1974\\u197el\\u0100;e\\u1979\\u197a\\u6022t\\xbb\\u197ap\\u0180;Ee\\u012f\\u1985\\u1987;\\u6aae\\u0100;q\\u06dc\\u06db\\u0ce1\\u19a7\\0\\u19e8\\u1a11\\u1a15\\u1a32\\0\\u1a37\\u1a50\\0\\0\\u1ab4\\0\\0\\u1ac1\\0\\0\\u1b21\\u1b2e\\u1b4d\\u1b52\\0\\u1bfd\\0\\u1c0c\\u0180cpr\\u19ad\\u19b2\\u19ddute;\\u4107\\u0300;abcds\\u19bf\\u19c0\\u19c4\\u19ca\\u19d5\\u19d9\\u6229nd;\\u6a44rcup;\\u6a49\\u0100au\\u19cf\\u19d2p;\\u6a4bp;\\u6a47ot;\\u6a40;\\uc000\\u2229\\ufe00\\u0100eo\\u19e2\\u19e5t;\\u6041\\xee\\u0693\\u0200aeiu\\u19f0\\u19fb\\u1a01\\u1a05\\u01f0\\u19f5\\0\\u19f8s;\\u6a4don;\\u410ddil\\u803b\\xe7\\u40e7rc;\\u4109ps\\u0100;s\\u1a0c\\u1a0d\\u6a4cm;\\u6a50ot;\\u410b\\u0180dmn\\u1a1b\\u1a20\\u1a26il\\u80bb\\xb8\\u01adptyv;\\u69b2t\\u8100\\xa2;e\\u1a2d\\u1a2e\\u40a2r\\xe4\\u01b2r;\\uc000\\ud835\\udd20\\u0180cei\\u1a3d\\u1a40\\u1a4dy;\\u4447ck\\u0100;m\\u1a47\\u1a48\\u6713ark\\xbb\\u1a48;\\u43c7r\\u0380;Ecefms\\u1a5f\\u1a60\\u1a62\\u1a6b\\u1aa4\\u1aaa\\u1aae\\u65cb;\\u69c3\\u0180;el\\u1a69\\u1a6a\\u1a6d\\u42c6q;\\u6257e\\u0261\\u1a74\\0\\0\\u1a88rrow\\u0100lr\\u1a7c\\u1a81eft;\\u61baight;\\u61bb\\u0280RSacd\\u1a92\\u1a94\\u1a96\\u1a9a\\u1a9f\\xbb\\u0f47;\\u64c8st;\\u629birc;\\u629aash;\\u629dnint;\\u6a10id;\\u6aefcir;\\u69c2ubs\\u0100;u\\u1abb\\u1abc\\u6663it\\xbb\\u1abc\\u02ec\\u1ac7\\u1ad4\\u1afa\\0\\u1b0aon\\u0100;e\\u1acd\\u1ace\\u403a\\u0100;q\\xc7\\xc6\\u026d\\u1ad9\\0\\0\\u1ae2a\\u0100;t\\u1ade\\u1adf\\u402c;\\u4040\\u0180;fl\\u1ae8\\u1ae9\\u1aeb\\u6201\\xee\\u1160e\\u0100mx\\u1af1\\u1af6ent\\xbb\\u1ae9e\\xf3\\u024d\\u01e7\\u1afe\\0\\u1b07\\u0100;d\\u12bb\\u1b02ot;\\u6a6dn\\xf4\\u0246\\u0180fry\\u1b10\\u1b14\\u1b17;\\uc000\\ud835\\udd54o\\xe4\\u0254\\u8100\\xa9;s\\u0155\\u1b1dr;\\u6117\\u0100ao\\u1b25\\u1b29rr;\\u61b5ss;\\u6717\\u0100cu\\u1b32\\u1b37r;\\uc000\\ud835\\udcb8\\u0100bp\\u1b3c\\u1b44\\u0100;e\\u1b41\\u1b42\\u6acf;\\u6ad1\\u0100;e\\u1b49\\u1b4a\\u6ad0;\\u6ad2dot;\\u62ef\\u0380delprvw\\u1b60\\u1b6c\\u1b77\\u1b82\\u1bac\\u1bd4\\u1bf9arr\\u0100lr\\u1b68\\u1b6a;\\u6938;\\u6935\\u0270\\u1b72\\0\\0\\u1b75r;\\u62dec;\\u62dfarr\\u0100;p\\u1b7f\\u1b80\\u61b6;\\u693d\\u0300;bcdos\\u1b8f\\u1b90\\u1b96\\u1ba1\\u1ba5\\u1ba8\\u622arcap;\\u6a48\\u0100au\\u1b9b\\u1b9ep;\\u6a46p;\\u6a4aot;\\u628dr;\\u6a45;\\uc000\\u222a\\ufe00\\u0200alrv\\u1bb5\\u1bbf\\u1bde\\u1be3rr\\u0100;m\\u1bbc\\u1bbd\\u61b7;\\u693cy\\u0180evw\\u1bc7\\u1bd4\\u1bd8q\\u0270\\u1bce\\0\\0\\u1bd2re\\xe3\\u1b73u\\xe3\\u1b75ee;\\u62ceedge;\\u62cfen\\u803b\\xa4\\u40a4earrow\\u0100lr\\u1bee\\u1bf3eft\\xbb\\u1b80ight\\xbb\\u1bbde\\xe4\\u1bdd\\u0100ci\\u1c01\\u1c07onin\\xf4\\u01f7nt;\\u6231lcty;\\u632d\\u0980AHabcdefhijlorstuwz\\u1c38\\u1c3b\\u1c3f\\u1c5d\\u1c69\\u1c75\\u1c8a\\u1c9e\\u1cac\\u1cb7\\u1cfb\\u1cff\\u1d0d\\u1d7b\\u1d91\\u1dab\\u1dbb\\u1dc6\\u1dcdr\\xf2\\u0381ar;\\u6965\\u0200glrs\\u1c48\\u1c4d\\u1c52\\u1c54ger;\\u6020eth;\\u6138\\xf2\\u1133h\\u0100;v\\u1c5a\\u1c5b\\u6010\\xbb\\u090a\\u016b\\u1c61\\u1c67arow;\\u690fa\\xe3\\u0315\\u0100ay\\u1c6e\\u1c73ron;\\u410f;\\u4434\\u0180;ao\\u0332\\u1c7c\\u1c84\\u0100gr\\u02bf\\u1c81r;\\u61catseq;\\u6a77\\u0180glm\\u1c91\\u1c94\\u1c98\\u803b\\xb0\\u40b0ta;\\u43b4ptyv;\\u69b1\\u0100ir\\u1ca3\\u1ca8sht;\\u697f;\\uc000\\ud835\\udd21ar\\u0100lr\\u1cb3\\u1cb5\\xbb\\u08dc\\xbb\\u101e\\u0280aegsv\\u1cc2\\u0378\\u1cd6\\u1cdc\\u1ce0m\\u0180;os\\u0326\\u1cca\\u1cd4nd\\u0100;s\\u0326\\u1cd1uit;\\u6666amma;\\u43ddin;\\u62f2\\u0180;io\\u1ce7\\u1ce8\\u1cf8\\u40f7de\\u8100\\xf7;o\\u1ce7\\u1cf0ntimes;\\u62c7n\\xf8\\u1cf7cy;\\u4452c\\u026f\\u1d06\\0\\0\\u1d0arn;\\u631eop;\\u630d\\u0280lptuw\\u1d18\\u1d1d\\u1d22\\u1d49\\u1d55lar;\\u4024f;\\uc000\\ud835\\udd55\\u0280;emps\\u030b\\u1d2d\\u1d37\\u1d3d\\u1d42q\\u0100;d\\u0352\\u1d33ot;\\u6251inus;\\u6238lus;\\u6214quare;\\u62a1blebarwedg\\xe5\\xfan\\u0180adh\\u112e\\u1d5d\\u1d67ownarrow\\xf3\\u1c83arpoon\\u0100lr\\u1d72\\u1d76ef\\xf4\\u1cb4igh\\xf4\\u1cb6\\u0162\\u1d7f\\u1d85karo\\xf7\\u0f42\\u026f\\u1d8a\\0\\0\\u1d8ern;\\u631fop;\\u630c\\u0180cot\\u1d98\\u1da3\\u1da6\\u0100ry\\u1d9d\\u1da1;\\uc000\\ud835\\udcb9;\\u4455l;\\u69f6rok;\\u4111\\u0100dr\\u1db0\\u1db4ot;\\u62f1i\\u0100;f\\u1dba\\u1816\\u65bf\\u0100ah\\u1dc0\\u1dc3r\\xf2\\u0429a\\xf2\\u0fa6angle;\\u69a6\\u0100ci\\u1dd2\\u1dd5y;\\u445fgrarr;\\u67ff\\u0900Dacdefglmnopqrstux\\u1e01\\u1e09\\u1e19\\u1e38\\u0578\\u1e3c\\u1e49\\u1e61\\u1e7e\\u1ea5\\u1eaf\\u1ebd\\u1ee1\\u1f2a\\u1f37\\u1f44\\u1f4e\\u1f5a\\u0100Do\\u1e06\\u1d34o\\xf4\\u1c89\\u0100cs\\u1e0e\\u1e14ute\\u803b\\xe9\\u40e9ter;\\u6a6e\\u0200aioy\\u1e22\\u1e27\\u1e31\\u1e36ron;\\u411br\\u0100;c\\u1e2d\\u1e2e\\u6256\\u803b\\xea\\u40ealon;\\u6255;\\u444dot;\\u4117\\u0100Dr\\u1e41\\u1e45ot;\\u6252;\\uc000\\ud835\\udd22\\u0180;rs\\u1e50\\u1e51\\u1e57\\u6a9aave\\u803b\\xe8\\u40e8\\u0100;d\\u1e5c\\u1e5d\\u6a96ot;\\u6a98\\u0200;ils\\u1e6a\\u1e6b\\u1e72\\u1e74\\u6a99nters;\\u63e7;\\u6113\\u0100;d\\u1e79\\u1e7a\\u6a95ot;\\u6a97\\u0180aps\\u1e85\\u1e89\\u1e97cr;\\u4113ty\\u0180;sv\\u1e92\\u1e93\\u1e95\\u6205et\\xbb\\u1e93p\\u01001;\\u1e9d\\u1ea4\\u0133\\u1ea1\\u1ea3;\\u6004;\\u6005\\u6003\\u0100gs\\u1eaa\\u1eac;\\u414bp;\\u6002\\u0100gp\\u1eb4\\u1eb8on;\\u4119f;\\uc000\\ud835\\udd56\\u0180als\\u1ec4\\u1ece\\u1ed2r\\u0100;s\\u1eca\\u1ecb\\u62d5l;\\u69e3us;\\u6a71i\\u0180;lv\\u1eda\\u1edb\\u1edf\\u43b5on\\xbb\\u1edb;\\u43f5\\u0200csuv\\u1eea\\u1ef3\\u1f0b\\u1f23\\u0100io\\u1eef\\u1e31rc\\xbb\\u1e2e\\u0269\\u1ef9\\0\\0\\u1efb\\xed\\u0548ant\\u0100gl\\u1f02\\u1f06tr\\xbb\\u1e5dess\\xbb\\u1e7a\\u0180aei\\u1f12\\u1f16\\u1f1als;\\u403dst;\\u625fv\\u0100;D\\u0235\\u1f20D;\\u6a78parsl;\\u69e5\\u0100Da\\u1f2f\\u1f33ot;\\u6253rr;\\u6971\\u0180cdi\\u1f3e\\u1f41\\u1ef8r;\\u612fo\\xf4\\u0352\\u0100ah\\u1f49\\u1f4b;\\u43b7\\u803b\\xf0\\u40f0\\u0100mr\\u1f53\\u1f57l\\u803b\\xeb\\u40ebo;\\u60ac\\u0180cip\\u1f61\\u1f64\\u1f67l;\\u4021s\\xf4\\u056e\\u0100eo\\u1f6c\\u1f74ctatio\\xee\\u0559nential\\xe5\\u0579\\u09e1\\u1f92\\0\\u1f9e\\0\\u1fa1\\u1fa7\\0\\0\\u1fc6\\u1fcc\\0\\u1fd3\\0\\u1fe6\\u1fea\\u2000\\0\\u2008\\u205allingdotse\\xf1\\u1e44y;\\u4444male;\\u6640\\u0180ilr\\u1fad\\u1fb3\\u1fc1lig;\\u8000\\ufb03\\u0269\\u1fb9\\0\\0\\u1fbdg;\\u8000\\ufb00ig;\\u8000\\ufb04;\\uc000\\ud835\\udd23lig;\\u8000\\ufb01lig;\\uc000fj\\u0180alt\\u1fd9\\u1fdc\\u1fe1t;\\u666dig;\\u8000\\ufb02ns;\\u65b1of;\\u4192\\u01f0\\u1fee\\0\\u1ff3f;\\uc000\\ud835\\udd57\\u0100ak\\u05bf\\u1ff7\\u0100;v\\u1ffc\\u1ffd\\u62d4;\\u6ad9artint;\\u6a0d\\u0100ao\\u200c\\u2055\\u0100cs\\u2011\\u2052\\u03b1\\u201a\\u2030\\u2038\\u2045\\u2048\\0\\u2050\\u03b2\\u2022\\u2025\\u2027\\u202a\\u202c\\0\\u202e\\u803b\\xbd\\u40bd;\\u6153\\u803b\\xbc\\u40bc;\\u6155;\\u6159;\\u615b\\u01b3\\u2034\\0\\u2036;\\u6154;\\u6156\\u02b4\\u203e\\u2041\\0\\0\\u2043\\u803b\\xbe\\u40be;\\u6157;\\u615c5;\\u6158\\u01b6\\u204c\\0\\u204e;\\u615a;\\u615d8;\\u615el;\\u6044wn;\\u6322cr;\\uc000\\ud835\\udcbb\\u0880Eabcdefgijlnorstv\\u2082\\u2089\\u209f\\u20a5\\u20b0\\u20b4\\u20f0\\u20f5\\u20fa\\u20ff\\u2103\\u2112\\u2138\\u0317\\u213e\\u2152\\u219e\\u0100;l\\u064d\\u2087;\\u6a8c\\u0180cmp\\u2090\\u2095\\u209dute;\\u41f5ma\\u0100;d\\u209c\\u1cda\\u43b3;\\u6a86reve;\\u411f\\u0100iy\\u20aa\\u20aerc;\\u411d;\\u4433ot;\\u4121\\u0200;lqs\\u063e\\u0642\\u20bd\\u20c9\\u0180;qs\\u063e\\u064c\\u20c4lan\\xf4\\u0665\\u0200;cdl\\u0665\\u20d2\\u20d5\\u20e5c;\\u6aa9ot\\u0100;o\\u20dc\\u20dd\\u6a80\\u0100;l\\u20e2\\u20e3\\u6a82;\\u6a84\\u0100;e\\u20ea\\u20ed\\uc000\\u22db\\ufe00s;\\u6a94r;\\uc000\\ud835\\udd24\\u0100;g\\u0673\\u061bmel;\\u6137cy;\\u4453\\u0200;Eaj\\u065a\\u210c\\u210e\\u2110;\\u6a92;\\u6aa5;\\u6aa4\\u0200Eaes\\u211b\\u211d\\u2129\\u2134;\\u6269p\\u0100;p\\u2123\\u2124\\u6a8arox\\xbb\\u2124\\u0100;q\\u212e\\u212f\\u6a88\\u0100;q\\u212e\\u211bim;\\u62e7pf;\\uc000\\ud835\\udd58\\u0100ci\\u2143\\u2146r;\\u610am\\u0180;el\\u066b\\u214e\\u2150;\\u6a8e;\\u6a90\\u8300>;cdlqr\\u05ee\\u2160\\u216a\\u216e\\u2173\\u2179\\u0100ci\\u2165\\u2167;\\u6aa7r;\\u6a7aot;\\u62d7Par;\\u6995uest;\\u6a7c\\u0280adels\\u2184\\u216a\\u2190\\u0656\\u219b\\u01f0\\u2189\\0\\u218epro\\xf8\\u209er;\\u6978q\\u0100lq\\u063f\\u2196les\\xf3\\u2088i\\xed\\u066b\\u0100en\\u21a3\\u21adrtneqq;\\uc000\\u2269\\ufe00\\xc5\\u21aa\\u0500Aabcefkosy\\u21c4\\u21c7\\u21f1\\u21f5\\u21fa\\u2218\\u221d\\u222f\\u2268\\u227dr\\xf2\\u03a0\\u0200ilmr\\u21d0\\u21d4\\u21d7\\u21dbrs\\xf0\\u1484f\\xbb\\u2024il\\xf4\\u06a9\\u0100dr\\u21e0\\u21e4cy;\\u444a\\u0180;cw\\u08f4\\u21eb\\u21efir;\\u6948;\\u61adar;\\u610firc;\\u4125\\u0180alr\\u2201\\u220e\\u2213rts\\u0100;u\\u2209\\u220a\\u6665it\\xbb\\u220alip;\\u6026con;\\u62b9r;\\uc000\\ud835\\udd25s\\u0100ew\\u2223\\u2229arow;\\u6925arow;\\u6926\\u0280amopr\\u223a\\u223e\\u2243\\u225e\\u2263rr;\\u61fftht;\\u623bk\\u0100lr\\u2249\\u2253eftarrow;\\u61a9ightarrow;\\u61aaf;\\uc000\\ud835\\udd59bar;\\u6015\\u0180clt\\u226f\\u2274\\u2278r;\\uc000\\ud835\\udcbdas\\xe8\\u21f4rok;\\u4127\\u0100bp\\u2282\\u2287ull;\\u6043hen\\xbb\\u1c5b\\u0ae1\\u22a3\\0\\u22aa\\0\\u22b8\\u22c5\\u22ce\\0\\u22d5\\u22f3\\0\\0\\u22f8\\u2322\\u2367\\u2362\\u237f\\0\\u2386\\u23aa\\u23b4cute\\u803b\\xed\\u40ed\\u0180;iy\\u0771\\u22b0\\u22b5rc\\u803b\\xee\\u40ee;\\u4438\\u0100cx\\u22bc\\u22bfy;\\u4435cl\\u803b\\xa1\\u40a1\\u0100fr\\u039f\\u22c9;\\uc000\\ud835\\udd26rave\\u803b\\xec\\u40ec\\u0200;ino\\u073e\\u22dd\\u22e9\\u22ee\\u0100in\\u22e2\\u22e6nt;\\u6a0ct;\\u622dfin;\\u69dcta;\\u6129lig;\\u4133\\u0180aop\\u22fe\\u231a\\u231d\\u0180cgt\\u2305\\u2308\\u2317r;\\u412b\\u0180elp\\u071f\\u230f\\u2313in\\xe5\\u078ear\\xf4\\u0720h;\\u4131f;\\u62b7ed;\\u41b5\\u0280;cfot\\u04f4\\u232c\\u2331\\u233d\\u2341are;\\u6105in\\u0100;t\\u2338\\u2339\\u621eie;\\u69dddo\\xf4\\u2319\\u0280;celp\\u0757\\u234c\\u2350\\u235b\\u2361al;\\u62ba\\u0100gr\\u2355\\u2359er\\xf3\\u1563\\xe3\\u234darhk;\\u6a17rod;\\u6a3c\\u0200cgpt\\u236f\\u2372\\u2376\\u237by;\\u4451on;\\u412ff;\\uc000\\ud835\\udd5aa;\\u43b9uest\\u803b\\xbf\\u40bf\\u0100ci\\u238a\\u238fr;\\uc000\\ud835\\udcben\\u0280;Edsv\\u04f4\\u239b\\u239d\\u23a1\\u04f3;\\u62f9ot;\\u62f5\\u0100;v\\u23a6\\u23a7\\u62f4;\\u62f3\\u0100;i\\u0777\\u23aelde;\\u4129\\u01eb\\u23b8\\0\\u23bccy;\\u4456l\\u803b\\xef\\u40ef\\u0300cfmosu\\u23cc\\u23d7\\u23dc\\u23e1\\u23e7\\u23f5\\u0100iy\\u23d1\\u23d5rc;\\u4135;\\u4439r;\\uc000\\ud835\\udd27ath;\\u4237pf;\\uc000\\ud835\\udd5b\\u01e3\\u23ec\\0\\u23f1r;\\uc000\\ud835\\udcbfrcy;\\u4458kcy;\\u4454\\u0400acfghjos\\u240b\\u2416\\u2422\\u2427\\u242d\\u2431\\u2435\\u243bppa\\u0100;v\\u2413\\u2414\\u43ba;\\u43f0\\u0100ey\\u241b\\u2420dil;\\u4137;\\u443ar;\\uc000\\ud835\\udd28reen;\\u4138cy;\\u4445cy;\\u445cpf;\\uc000\\ud835\\udd5ccr;\\uc000\\ud835\\udcc0\\u0b80ABEHabcdefghjlmnoprstuv\\u2470\\u2481\\u2486\\u248d\\u2491\\u250e\\u253d\\u255a\\u2580\\u264e\\u265e\\u2665\\u2679\\u267d\\u269a\\u26b2\\u26d8\\u275d\\u2768\\u278b\\u27c0\\u2801\\u2812\\u0180art\\u2477\\u247a\\u247cr\\xf2\\u09c6\\xf2\\u0395ail;\\u691barr;\\u690e\\u0100;g\\u0994\\u248b;\\u6a8bar;\\u6962\\u0963\\u24a5\\0\\u24aa\\0\\u24b1\\0\\0\\0\\0\\0\\u24b5\\u24ba\\0\\u24c6\\u24c8\\u24cd\\0\\u24f9ute;\\u413amptyv;\\u69b4ra\\xee\\u084cbda;\\u43bbg\\u0180;dl\\u088e\\u24c1\\u24c3;\\u6991\\xe5\\u088e;\\u6a85uo\\u803b\\xab\\u40abr\\u0400;bfhlpst\\u0899\\u24de\\u24e6\\u24e9\\u24eb\\u24ee\\u24f1\\u24f5\\u0100;f\\u089d\\u24e3s;\\u691fs;\\u691d\\xeb\\u2252p;\\u61abl;\\u6939im;\\u6973l;\\u61a2\\u0180;ae\\u24ff\\u2500\\u2504\\u6aabil;\\u6919\\u0100;s\\u2509\\u250a\\u6aad;\\uc000\\u2aad\\ufe00\\u0180abr\\u2515\\u2519\\u251drr;\\u690crk;\\u6772\\u0100ak\\u2522\\u252cc\\u0100ek\\u2528\\u252a;\\u407b;\\u405b\\u0100es\\u2531\\u2533;\\u698bl\\u0100du\\u2539\\u253b;\\u698f;\\u698d\\u0200aeuy\\u2546\\u254b\\u2556\\u2558ron;\\u413e\\u0100di\\u2550\\u2554il;\\u413c\\xec\\u08b0\\xe2\\u2529;\\u443b\\u0200cqrs\\u2563\\u2566\\u256d\\u257da;\\u6936uo\\u0100;r\\u0e19\\u1746\\u0100du\\u2572\\u2577har;\\u6967shar;\\u694bh;\\u61b2\\u0280;fgqs\\u258b\\u258c\\u0989\\u25f3\\u25ff\\u6264t\\u0280ahlrt\\u2598\\u25a4\\u25b7\\u25c2\\u25e8rrow\\u0100;t\\u0899\\u25a1a\\xe9\\u24f6arpoon\\u0100du\\u25af\\u25b4own\\xbb\\u045ap\\xbb\\u0966eftarrows;\\u61c7ight\\u0180ahs\\u25cd\\u25d6\\u25derrow\\u0100;s\\u08f4\\u08a7arpoon\\xf3\\u0f98quigarro\\xf7\\u21f0hreetimes;\\u62cb\\u0180;qs\\u258b\\u0993\\u25falan\\xf4\\u09ac\\u0280;cdgs\\u09ac\\u260a\\u260d\\u261d\\u2628c;\\u6aa8ot\\u0100;o\\u2614\\u2615\\u6a7f\\u0100;r\\u261a\\u261b\\u6a81;\\u6a83\\u0100;e\\u2622\\u2625\\uc000\\u22da\\ufe00s;\\u6a93\\u0280adegs\\u2633\\u2639\\u263d\\u2649\\u264bppro\\xf8\\u24c6ot;\\u62d6q\\u0100gq\\u2643\\u2645\\xf4\\u0989gt\\xf2\\u248c\\xf4\\u099bi\\xed\\u09b2\\u0180ilr\\u2655\\u08e1\\u265asht;\\u697c;\\uc000\\ud835\\udd29\\u0100;E\\u099c\\u2663;\\u6a91\\u0161\\u2669\\u2676r\\u0100du\\u25b2\\u266e\\u0100;l\\u0965\\u2673;\\u696alk;\\u6584cy;\\u4459\\u0280;acht\\u0a48\\u2688\\u268b\\u2691\\u2696r\\xf2\\u25c1orne\\xf2\\u1d08ard;\\u696bri;\\u65fa\\u0100io\\u269f\\u26a4dot;\\u4140ust\\u0100;a\\u26ac\\u26ad\\u63b0che\\xbb\\u26ad\\u0200Eaes\\u26bb\\u26bd\\u26c9\\u26d4;\\u6268p\\u0100;p\\u26c3\\u26c4\\u6a89rox\\xbb\\u26c4\\u0100;q\\u26ce\\u26cf\\u6a87\\u0100;q\\u26ce\\u26bbim;\\u62e6\\u0400abnoptwz\\u26e9\\u26f4\\u26f7\\u271a\\u272f\\u2741\\u2747\\u2750\\u0100nr\\u26ee\\u26f1g;\\u67ecr;\\u61fdr\\xeb\\u08c1g\\u0180lmr\\u26ff\\u270d\\u2714eft\\u0100ar\\u09e6\\u2707ight\\xe1\\u09f2apsto;\\u67fcight\\xe1\\u09fdparrow\\u0100lr\\u2725\\u2729ef\\xf4\\u24edight;\\u61ac\\u0180afl\\u2736\\u2739\\u273dr;\\u6985;\\uc000\\ud835\\udd5dus;\\u6a2dimes;\\u6a34\\u0161\\u274b\\u274fst;\\u6217\\xe1\\u134e\\u0180;ef\\u2757\\u2758\\u1800\\u65cange\\xbb\\u2758ar\\u0100;l\\u2764\\u2765\\u4028t;\\u6993\\u0280achmt\\u2773\\u2776\\u277c\\u2785\\u2787r\\xf2\\u08a8orne\\xf2\\u1d8car\\u0100;d\\u0f98\\u2783;\\u696d;\\u600eri;\\u62bf\\u0300achiqt\\u2798\\u279d\\u0a40\\u27a2\\u27ae\\u27bbquo;\\u6039r;\\uc000\\ud835\\udcc1m\\u0180;eg\\u09b2\\u27aa\\u27ac;\\u6a8d;\\u6a8f\\u0100bu\\u252a\\u27b3o\\u0100;r\\u0e1f\\u27b9;\\u601arok;\\u4142\\u8400<;cdhilqr\\u082b\\u27d2\\u2639\\u27dc\\u27e0\\u27e5\\u27ea\\u27f0\\u0100ci\\u27d7\\u27d9;\\u6aa6r;\\u6a79re\\xe5\\u25f2mes;\\u62c9arr;\\u6976uest;\\u6a7b\\u0100Pi\\u27f5\\u27f9ar;\\u6996\\u0180;ef\\u2800\\u092d\\u181b\\u65c3r\\u0100du\\u2807\\u280dshar;\\u694ahar;\\u6966\\u0100en\\u2817\\u2821rtneqq;\\uc000\\u2268\\ufe00\\xc5\\u281e\\u0700Dacdefhilnopsu\\u2840\\u2845\\u2882\\u288e\\u2893\\u28a0\\u28a5\\u28a8\\u28da\\u28e2\\u28e4\\u0a83\\u28f3\\u2902Dot;\\u623a\\u0200clpr\\u284e\\u2852\\u2863\\u287dr\\u803b\\xaf\\u40af\\u0100et\\u2857\\u2859;\\u6642\\u0100;e\\u285e\\u285f\\u6720se\\xbb\\u285f\\u0100;s\\u103b\\u2868to\\u0200;dlu\\u103b\\u2873\\u2877\\u287bow\\xee\\u048cef\\xf4\\u090f\\xf0\\u13d1ker;\\u65ae\\u0100oy\\u2887\\u288cmma;\\u6a29;\\u443cash;\\u6014asuredangle\\xbb\\u1626r;\\uc000\\ud835\\udd2ao;\\u6127\\u0180cdn\\u28af\\u28b4\\u28c9ro\\u803b\\xb5\\u40b5\\u0200;acd\\u1464\\u28bd\\u28c0\\u28c4s\\xf4\\u16a7ir;\\u6af0ot\\u80bb\\xb7\\u01b5us\\u0180;bd\\u28d2\\u1903\\u28d3\\u6212\\u0100;u\\u1d3c\\u28d8;\\u6a2a\\u0163\\u28de\\u28e1p;\\u6adb\\xf2\\u2212\\xf0\\u0a81\\u0100dp\\u28e9\\u28eeels;\\u62a7f;\\uc000\\ud835\\udd5e\\u0100ct\\u28f8\\u28fdr;\\uc000\\ud835\\udcc2pos\\xbb\\u159d\\u0180;lm\\u2909\\u290a\\u290d\\u43bctimap;\\u62b8\\u0c00GLRVabcdefghijlmoprstuvw\\u2942\\u2953\\u297e\\u2989\\u2998\\u29da\\u29e9\\u2a15\\u2a1a\\u2a58\\u2a5d\\u2a83\\u2a95\\u2aa4\\u2aa8\\u2b04\\u2b07\\u2b44\\u2b7f\\u2bae\\u2c34\\u2c67\\u2c7c\\u2ce9\\u0100gt\\u2947\\u294b;\\uc000\\u22d9\\u0338\\u0100;v\\u2950\\u0bcf\\uc000\\u226b\\u20d2\\u0180elt\\u295a\\u2972\\u2976ft\\u0100ar\\u2961\\u2967rrow;\\u61cdightarrow;\\u61ce;\\uc000\\u22d8\\u0338\\u0100;v\\u297b\\u0c47\\uc000\\u226a\\u20d2ightarrow;\\u61cf\\u0100Dd\\u298e\\u2993ash;\\u62afash;\\u62ae\\u0280bcnpt\\u29a3\\u29a7\\u29ac\\u29b1\\u29ccla\\xbb\\u02deute;\\u4144g;\\uc000\\u2220\\u20d2\\u0280;Eiop\\u0d84\\u29bc\\u29c0\\u29c5\\u29c8;\\uc000\\u2a70\\u0338d;\\uc000\\u224b\\u0338s;\\u4149ro\\xf8\\u0d84ur\\u0100;a\\u29d3\\u29d4\\u666el\\u0100;s\\u29d3\\u0b38\\u01f3\\u29df\\0\\u29e3p\\u80bb\\xa0\\u0b37mp\\u0100;e\\u0bf9\\u0c00\\u0280aeouy\\u29f4\\u29fe\\u2a03\\u2a10\\u2a13\\u01f0\\u29f9\\0\\u29fb;\\u6a43on;\\u4148dil;\\u4146ng\\u0100;d\\u0d7e\\u2a0aot;\\uc000\\u2a6d\\u0338p;\\u6a42;\\u443dash;\\u6013\\u0380;Aadqsx\\u0b92\\u2a29\\u2a2d\\u2a3b\\u2a41\\u2a45\\u2a50rr;\\u61d7r\\u0100hr\\u2a33\\u2a36k;\\u6924\\u0100;o\\u13f2\\u13f0ot;\\uc000\\u2250\\u0338ui\\xf6\\u0b63\\u0100ei\\u2a4a\\u2a4ear;\\u6928\\xed\\u0b98ist\\u0100;s\\u0ba0\\u0b9fr;\\uc000\\ud835\\udd2b\\u0200Eest\\u0bc5\\u2a66\\u2a79\\u2a7c\\u0180;qs\\u0bbc\\u2a6d\\u0be1\\u0180;qs\\u0bbc\\u0bc5\\u2a74lan\\xf4\\u0be2i\\xed\\u0bea\\u0100;r\\u0bb6\\u2a81\\xbb\\u0bb7\\u0180Aap\\u2a8a\\u2a8d\\u2a91r\\xf2\\u2971rr;\\u61aear;\\u6af2\\u0180;sv\\u0f8d\\u2a9c\\u0f8c\\u0100;d\\u2aa1\\u2aa2\\u62fc;\\u62facy;\\u445a\\u0380AEadest\\u2ab7\\u2aba\\u2abe\\u2ac2\\u2ac5\\u2af6\\u2af9r\\xf2\\u2966;\\uc000\\u2266\\u0338rr;\\u619ar;\\u6025\\u0200;fqs\\u0c3b\\u2ace\\u2ae3\\u2aeft\\u0100ar\\u2ad4\\u2ad9rro\\xf7\\u2ac1ightarro\\xf7\\u2a90\\u0180;qs\\u0c3b\\u2aba\\u2aealan\\xf4\\u0c55\\u0100;s\\u0c55\\u2af4\\xbb\\u0c36i\\xed\\u0c5d\\u0100;r\\u0c35\\u2afei\\u0100;e\\u0c1a\\u0c25i\\xe4\\u0d90\\u0100pt\\u2b0c\\u2b11f;\\uc000\\ud835\\udd5f\\u8180\\xac;in\\u2b19\\u2b1a\\u2b36\\u40acn\\u0200;Edv\\u0b89\\u2b24\\u2b28\\u2b2e;\\uc000\\u22f9\\u0338ot;\\uc000\\u22f5\\u0338\\u01e1\\u0b89\\u2b33\\u2b35;\\u62f7;\\u62f6i\\u0100;v\\u0cb8\\u2b3c\\u01e1\\u0cb8\\u2b41\\u2b43;\\u62fe;\\u62fd\\u0180aor\\u2b4b\\u2b63\\u2b69r\\u0200;ast\\u0b7b\\u2b55\\u2b5a\\u2b5flle\\xec\\u0b7bl;\\uc000\\u2afd\\u20e5;\\uc000\\u2202\\u0338lint;\\u6a14\\u0180;ce\\u0c92\\u2b70\\u2b73u\\xe5\\u0ca5\\u0100;c\\u0c98\\u2b78\\u0100;e\\u0c92\\u2b7d\\xf1\\u0c98\\u0200Aait\\u2b88\\u2b8b\\u2b9d\\u2ba7r\\xf2\\u2988rr\\u0180;cw\\u2b94\\u2b95\\u2b99\\u619b;\\uc000\\u2933\\u0338;\\uc000\\u219d\\u0338ghtarrow\\xbb\\u2b95ri\\u0100;e\\u0ccb\\u0cd6\\u0380chimpqu\\u2bbd\\u2bcd\\u2bd9\\u2b04\\u0b78\\u2be4\\u2bef\\u0200;cer\\u0d32\\u2bc6\\u0d37\\u2bc9u\\xe5\\u0d45;\\uc000\\ud835\\udcc3ort\\u026d\\u2b05\\0\\0\\u2bd6ar\\xe1\\u2b56m\\u0100;e\\u0d6e\\u2bdf\\u0100;q\\u0d74\\u0d73su\\u0100bp\\u2beb\\u2bed\\xe5\\u0cf8\\xe5\\u0d0b\\u0180bcp\\u2bf6\\u2c11\\u2c19\\u0200;Ees\\u2bff\\u2c00\\u0d22\\u2c04\\u6284;\\uc000\\u2ac5\\u0338et\\u0100;e\\u0d1b\\u2c0bq\\u0100;q\\u0d23\\u2c00c\\u0100;e\\u0d32\\u2c17\\xf1\\u0d38\\u0200;Ees\\u2c22\\u2c23\\u0d5f\\u2c27\\u6285;\\uc000\\u2ac6\\u0338et\\u0100;e\\u0d58\\u2c2eq\\u0100;q\\u0d60\\u2c23\\u0200gilr\\u2c3d\\u2c3f\\u2c45\\u2c47\\xec\\u0bd7lde\\u803b\\xf1\\u40f1\\xe7\\u0c43iangle\\u0100lr\\u2c52\\u2c5ceft\\u0100;e\\u0c1a\\u2c5a\\xf1\\u0c26ight\\u0100;e\\u0ccb\\u2c65\\xf1\\u0cd7\\u0100;m\\u2c6c\\u2c6d\\u43bd\\u0180;es\\u2c74\\u2c75\\u2c79\\u4023ro;\\u6116p;\\u6007\\u0480DHadgilrs\\u2c8f\\u2c94\\u2c99\\u2c9e\\u2ca3\\u2cb0\\u2cb6\\u2cd3\\u2ce3ash;\\u62adarr;\\u6904p;\\uc000\\u224d\\u20d2ash;\\u62ac\\u0100et\\u2ca8\\u2cac;\\uc000\\u2265\\u20d2;\\uc000>\\u20d2nfin;\\u69de\\u0180Aet\\u2cbd\\u2cc1\\u2cc5rr;\\u6902;\\uc000\\u2264\\u20d2\\u0100;r\\u2cca\\u2ccd\\uc000<\\u20d2ie;\\uc000\\u22b4\\u20d2\\u0100At\\u2cd8\\u2cdcrr;\\u6903rie;\\uc000\\u22b5\\u20d2im;\\uc000\\u223c\\u20d2\\u0180Aan\\u2cf0\\u2cf4\\u2d02rr;\\u61d6r\\u0100hr\\u2cfa\\u2cfdk;\\u6923\\u0100;o\\u13e7\\u13e5ear;\\u6927\\u1253\\u1a95\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\u2d2d\\0\\u2d38\\u2d48\\u2d60\\u2d65\\u2d72\\u2d84\\u1b07\\0\\0\\u2d8d\\u2dab\\0\\u2dc8\\u2dce\\0\\u2ddc\\u2e19\\u2e2b\\u2e3e\\u2e43\\u0100cs\\u2d31\\u1a97ute\\u803b\\xf3\\u40f3\\u0100iy\\u2d3c\\u2d45r\\u0100;c\\u1a9e\\u2d42\\u803b\\xf4\\u40f4;\\u443e\\u0280abios\\u1aa0\\u2d52\\u2d57\\u01c8\\u2d5alac;\\u4151v;\\u6a38old;\\u69bclig;\\u4153\\u0100cr\\u2d69\\u2d6dir;\\u69bf;\\uc000\\ud835\\udd2c\\u036f\\u2d79\\0\\0\\u2d7c\\0\\u2d82n;\\u42dbave\\u803b\\xf2\\u40f2;\\u69c1\\u0100bm\\u2d88\\u0df4ar;\\u69b5\\u0200acit\\u2d95\\u2d98\\u2da5\\u2da8r\\xf2\\u1a80\\u0100ir\\u2d9d\\u2da0r;\\u69beoss;\\u69bbn\\xe5\\u0e52;\\u69c0\\u0180aei\\u2db1\\u2db5\\u2db9cr;\\u414dga;\\u43c9\\u0180cdn\\u2dc0\\u2dc5\\u01cdron;\\u43bf;\\u69b6pf;\\uc000\\ud835\\udd60\\u0180ael\\u2dd4\\u2dd7\\u01d2r;\\u69b7rp;\\u69b9\\u0380;adiosv\\u2dea\\u2deb\\u2dee\\u2e08\\u2e0d\\u2e10\\u2e16\\u6228r\\xf2\\u1a86\\u0200;efm\\u2df7\\u2df8\\u2e02\\u2e05\\u6a5dr\\u0100;o\\u2dfe\\u2dff\\u6134f\\xbb\\u2dff\\u803b\\xaa\\u40aa\\u803b\\xba\\u40bagof;\\u62b6r;\\u6a56lope;\\u6a57;\\u6a5b\\u0180clo\\u2e1f\\u2e21\\u2e27\\xf2\\u2e01ash\\u803b\\xf8\\u40f8l;\\u6298i\\u016c\\u2e2f\\u2e34de\\u803b\\xf5\\u40f5es\\u0100;a\\u01db\\u2e3as;\\u6a36ml\\u803b\\xf6\\u40f6bar;\\u633d\\u0ae1\\u2e5e\\0\\u2e7d\\0\\u2e80\\u2e9d\\0\\u2ea2\\u2eb9\\0\\0\\u2ecb\\u0e9c\\0\\u2f13\\0\\0\\u2f2b\\u2fbc\\0\\u2fc8r\\u0200;ast\\u0403\\u2e67\\u2e72\\u0e85\\u8100\\xb6;l\\u2e6d\\u2e6e\\u40b6le\\xec\\u0403\\u0269\\u2e78\\0\\0\\u2e7bm;\\u6af3;\\u6afdy;\\u443fr\\u0280cimpt\\u2e8b\\u2e8f\\u2e93\\u1865\\u2e97nt;\\u4025od;\\u402eil;\\u6030enk;\\u6031r;\\uc000\\ud835\\udd2d\\u0180imo\\u2ea8\\u2eb0\\u2eb4\\u0100;v\\u2ead\\u2eae\\u43c6;\\u43d5ma\\xf4\\u0a76ne;\\u660e\\u0180;tv\\u2ebf\\u2ec0\\u2ec8\\u43c0chfork\\xbb\\u1ffd;\\u43d6\\u0100au\\u2ecf\\u2edfn\\u0100ck\\u2ed5\\u2eddk\\u0100;h\\u21f4\\u2edb;\\u610e\\xf6\\u21f4s\\u0480;abcdemst\\u2ef3\\u2ef4\\u1908\\u2ef9\\u2efd\\u2f04\\u2f06\\u2f0a\\u2f0e\\u402bcir;\\u6a23ir;\\u6a22\\u0100ou\\u1d40\\u2f02;\\u6a25;\\u6a72n\\u80bb\\xb1\\u0e9dim;\\u6a26wo;\\u6a27\\u0180ipu\\u2f19\\u2f20\\u2f25ntint;\\u6a15f;\\uc000\\ud835\\udd61nd\\u803b\\xa3\\u40a3\\u0500;Eaceinosu\\u0ec8\\u2f3f\\u2f41\\u2f44\\u2f47\\u2f81\\u2f89\\u2f92\\u2f7e\\u2fb6;\\u6ab3p;\\u6ab7u\\xe5\\u0ed9\\u0100;c\\u0ece\\u2f4c\\u0300;acens\\u0ec8\\u2f59\\u2f5f\\u2f66\\u2f68\\u2f7eppro\\xf8\\u2f43urlye\\xf1\\u0ed9\\xf1\\u0ece\\u0180aes\\u2f6f\\u2f76\\u2f7approx;\\u6ab9qq;\\u6ab5im;\\u62e8i\\xed\\u0edfme\\u0100;s\\u2f88\\u0eae\\u6032\\u0180Eas\\u2f78\\u2f90\\u2f7a\\xf0\\u2f75\\u0180dfp\\u0eec\\u2f99\\u2faf\\u0180als\\u2fa0\\u2fa5\\u2faalar;\\u632eine;\\u6312urf;\\u6313\\u0100;t\\u0efb\\u2fb4\\xef\\u0efbrel;\\u62b0\\u0100ci\\u2fc0\\u2fc5r;\\uc000\\ud835\\udcc5;\\u43c8ncsp;\\u6008\\u0300fiopsu\\u2fda\\u22e2\\u2fdf\\u2fe5\\u2feb\\u2ff1r;\\uc000\\ud835\\udd2epf;\\uc000\\ud835\\udd62rime;\\u6057cr;\\uc000\\ud835\\udcc6\\u0180aeo\\u2ff8\\u3009\\u3013t\\u0100ei\\u2ffe\\u3005rnion\\xf3\\u06b0nt;\\u6a16st\\u0100;e\\u3010\\u3011\\u403f\\xf1\\u1f19\\xf4\\u0f14\\u0a80ABHabcdefhilmnoprstux\\u3040\\u3051\\u3055\\u3059\\u30e0\\u310e\\u312b\\u3147\\u3162\\u3172\\u318e\\u3206\\u3215\\u3224\\u3229\\u3258\\u326e\\u3272\\u3290\\u32b0\\u32b7\\u0180art\\u3047\\u304a\\u304cr\\xf2\\u10b3\\xf2\\u03ddail;\\u691car\\xf2\\u1c65ar;\\u6964\\u0380cdenqrt\\u3068\\u3075\\u3078\\u307f\\u308f\\u3094\\u30cc\\u0100eu\\u306d\\u3071;\\uc000\\u223d\\u0331te;\\u4155i\\xe3\\u116emptyv;\\u69b3g\\u0200;del\\u0fd1\\u3089\\u308b\\u308d;\\u6992;\\u69a5\\xe5\\u0fd1uo\\u803b\\xbb\\u40bbr\\u0580;abcfhlpstw\\u0fdc\\u30ac\\u30af\\u30b7\\u30b9\\u30bc\\u30be\\u30c0\\u30c3\\u30c7\\u30cap;\\u6975\\u0100;f\\u0fe0\\u30b4s;\\u6920;\\u6933s;\\u691e\\xeb\\u225d\\xf0\\u272el;\\u6945im;\\u6974l;\\u61a3;\\u619d\\u0100ai\\u30d1\\u30d5il;\\u691ao\\u0100;n\\u30db\\u30dc\\u6236al\\xf3\\u0f1e\\u0180abr\\u30e7\\u30ea\\u30eer\\xf2\\u17e5rk;\\u6773\\u0100ak\\u30f3\\u30fdc\\u0100ek\\u30f9\\u30fb;\\u407d;\\u405d\\u0100es\\u3102\\u3104;\\u698cl\\u0100du\\u310a\\u310c;\\u698e;\\u6990\\u0200aeuy\\u3117\\u311c\\u3127\\u3129ron;\\u4159\\u0100di\\u3121\\u3125il;\\u4157\\xec\\u0ff2\\xe2\\u30fa;\\u4440\\u0200clqs\\u3134\\u3137\\u313d\\u3144a;\\u6937dhar;\\u6969uo\\u0100;r\\u020e\\u020dh;\\u61b3\\u0180acg\\u314e\\u315f\\u0f44l\\u0200;ips\\u0f78\\u3158\\u315b\\u109cn\\xe5\\u10bbar\\xf4\\u0fa9t;\\u65ad\\u0180ilr\\u3169\\u1023\\u316esht;\\u697d;\\uc000\\ud835\\udd2f\\u0100ao\\u3177\\u3186r\\u0100du\\u317d\\u317f\\xbb\\u047b\\u0100;l\\u1091\\u3184;\\u696c\\u0100;v\\u318b\\u318c\\u43c1;\\u43f1\\u0180gns\\u3195\\u31f9\\u31fcht\\u0300ahlrst\\u31a4\\u31b0\\u31c2\\u31d8\\u31e4\\u31eerrow\\u0100;t\\u0fdc\\u31ada\\xe9\\u30c8arpoon\\u0100du\\u31bb\\u31bfow\\xee\\u317ep\\xbb\\u1092eft\\u0100ah\\u31ca\\u31d0rrow\\xf3\\u0feaarpoon\\xf3\\u0551ightarrows;\\u61c9quigarro\\xf7\\u30cbhreetimes;\\u62ccg;\\u42daingdotse\\xf1\\u1f32\\u0180ahm\\u320d\\u3210\\u3213r\\xf2\\u0feaa\\xf2\\u0551;\\u600foust\\u0100;a\\u321e\\u321f\\u63b1che\\xbb\\u321fmid;\\u6aee\\u0200abpt\\u3232\\u323d\\u3240\\u3252\\u0100nr\\u3237\\u323ag;\\u67edr;\\u61fer\\xeb\\u1003\\u0180afl\\u3247\\u324a\\u324er;\\u6986;\\uc000\\ud835\\udd63us;\\u6a2eimes;\\u6a35\\u0100ap\\u325d\\u3267r\\u0100;g\\u3263\\u3264\\u4029t;\\u6994olint;\\u6a12ar\\xf2\\u31e3\\u0200achq\\u327b\\u3280\\u10bc\\u3285quo;\\u603ar;\\uc000\\ud835\\udcc7\\u0100bu\\u30fb\\u328ao\\u0100;r\\u0214\\u0213\\u0180hir\\u3297\\u329b\\u32a0re\\xe5\\u31f8mes;\\u62cai\\u0200;efl\\u32aa\\u1059\\u1821\\u32ab\\u65b9tri;\\u69celuhar;\\u6968;\\u611e\\u0d61\\u32d5\\u32db\\u32df\\u332c\\u3338\\u3371\\0\\u337a\\u33a4\\0\\0\\u33ec\\u33f0\\0\\u3428\\u3448\\u345a\\u34ad\\u34b1\\u34ca\\u34f1\\0\\u3616\\0\\0\\u3633cute;\\u415bqu\\xef\\u27ba\\u0500;Eaceinpsy\\u11ed\\u32f3\\u32f5\\u32ff\\u3302\\u330b\\u330f\\u331f\\u3326\\u3329;\\u6ab4\\u01f0\\u32fa\\0\\u32fc;\\u6ab8on;\\u4161u\\xe5\\u11fe\\u0100;d\\u11f3\\u3307il;\\u415frc;\\u415d\\u0180Eas\\u3316\\u3318\\u331b;\\u6ab6p;\\u6abaim;\\u62e9olint;\\u6a13i\\xed\\u1204;\\u4441ot\\u0180;be\\u3334\\u1d47\\u3335\\u62c5;\\u6a66\\u0380Aacmstx\\u3346\\u334a\\u3357\\u335b\\u335e\\u3363\\u336drr;\\u61d8r\\u0100hr\\u3350\\u3352\\xeb\\u2228\\u0100;o\\u0a36\\u0a34t\\u803b\\xa7\\u40a7i;\\u403bwar;\\u6929m\\u0100in\\u3369\\xf0nu\\xf3\\xf1t;\\u6736r\\u0100;o\\u3376\\u2055\\uc000\\ud835\\udd30\\u0200acoy\\u3382\\u3386\\u3391\\u33a0rp;\\u666f\\u0100hy\\u338b\\u338fcy;\\u4449;\\u4448rt\\u026d\\u3399\\0\\0\\u339ci\\xe4\\u1464ara\\xec\\u2e6f\\u803b\\xad\\u40ad\\u0100gm\\u33a8\\u33b4ma\\u0180;fv\\u33b1\\u33b2\\u33b2\\u43c3;\\u43c2\\u0400;deglnpr\\u12ab\\u33c5\\u33c9\\u33ce\\u33d6\\u33de\\u33e1\\u33e6ot;\\u6a6a\\u0100;q\\u12b1\\u12b0\\u0100;E\\u33d3\\u33d4\\u6a9e;\\u6aa0\\u0100;E\\u33db\\u33dc\\u6a9d;\\u6a9fe;\\u6246lus;\\u6a24arr;\\u6972ar\\xf2\\u113d\\u0200aeit\\u33f8\\u3408\\u340f\\u3417\\u0100ls\\u33fd\\u3404lsetm\\xe9\\u336ahp;\\u6a33parsl;\\u69e4\\u0100dl\\u1463\\u3414e;\\u6323\\u0100;e\\u341c\\u341d\\u6aaa\\u0100;s\\u3422\\u3423\\u6aac;\\uc000\\u2aac\\ufe00\\u0180flp\\u342e\\u3433\\u3442tcy;\\u444c\\u0100;b\\u3438\\u3439\\u402f\\u0100;a\\u343e\\u343f\\u69c4r;\\u633ff;\\uc000\\ud835\\udd64a\\u0100dr\\u344d\\u0402es\\u0100;u\\u3454\\u3455\\u6660it\\xbb\\u3455\\u0180csu\\u3460\\u3479\\u349f\\u0100au\\u3465\\u346fp\\u0100;s\\u1188\\u346b;\\uc000\\u2293\\ufe00p\\u0100;s\\u11b4\\u3475;\\uc000\\u2294\\ufe00u\\u0100bp\\u347f\\u348f\\u0180;es\\u1197\\u119c\\u3486et\\u0100;e\\u1197\\u348d\\xf1\\u119d\\u0180;es\\u11a8\\u11ad\\u3496et\\u0100;e\\u11a8\\u349d\\xf1\\u11ae\\u0180;af\\u117b\\u34a6\\u05b0r\\u0165\\u34ab\\u05b1\\xbb\\u117car\\xf2\\u1148\\u0200cemt\\u34b9\\u34be\\u34c2\\u34c5r;\\uc000\\ud835\\udcc8tm\\xee\\xf1i\\xec\\u3415ar\\xe6\\u11be\\u0100ar\\u34ce\\u34d5r\\u0100;f\\u34d4\\u17bf\\u6606\\u0100an\\u34da\\u34edight\\u0100ep\\u34e3\\u34eapsilo\\xee\\u1ee0h\\xe9\\u2eafs\\xbb\\u2852\\u0280bcmnp\\u34fb\\u355e\\u1209\\u358b\\u358e\\u0480;Edemnprs\\u350e\\u350f\\u3511\\u3515\\u351e\\u3523\\u352c\\u3531\\u3536\\u6282;\\u6ac5ot;\\u6abd\\u0100;d\\u11da\\u351aot;\\u6ac3ult;\\u6ac1\\u0100Ee\\u3528\\u352a;\\u6acb;\\u628alus;\\u6abfarr;\\u6979\\u0180eiu\\u353d\\u3552\\u3555t\\u0180;en\\u350e\\u3545\\u354bq\\u0100;q\\u11da\\u350feq\\u0100;q\\u352b\\u3528m;\\u6ac7\\u0100bp\\u355a\\u355c;\\u6ad5;\\u6ad3c\\u0300;acens\\u11ed\\u356c\\u3572\\u3579\\u357b\\u3326ppro\\xf8\\u32faurlye\\xf1\\u11fe\\xf1\\u11f3\\u0180aes\\u3582\\u3588\\u331bppro\\xf8\\u331aq\\xf1\\u3317g;\\u666a\\u0680123;Edehlmnps\\u35a9\\u35ac\\u35af\\u121c\\u35b2\\u35b4\\u35c0\\u35c9\\u35d5\\u35da\\u35df\\u35e8\\u35ed\\u803b\\xb9\\u40b9\\u803b\\xb2\\u40b2\\u803b\\xb3\\u40b3;\\u6ac6\\u0100os\\u35b9\\u35bct;\\u6abeub;\\u6ad8\\u0100;d\\u1222\\u35c5ot;\\u6ac4s\\u0100ou\\u35cf\\u35d2l;\\u67c9b;\\u6ad7arr;\\u697bult;\\u6ac2\\u0100Ee\\u35e4\\u35e6;\\u6acc;\\u628blus;\\u6ac0\\u0180eiu\\u35f4\\u3609\\u360ct\\u0180;en\\u121c\\u35fc\\u3602q\\u0100;q\\u1222\\u35b2eq\\u0100;q\\u35e7\\u35e4m;\\u6ac8\\u0100bp\\u3611\\u3613;\\u6ad4;\\u6ad6\\u0180Aan\\u361c\\u3620\\u362drr;\\u61d9r\\u0100hr\\u3626\\u3628\\xeb\\u222e\\u0100;o\\u0a2b\\u0a29war;\\u692alig\\u803b\\xdf\\u40df\\u0be1\\u3651\\u365d\\u3660\\u12ce\\u3673\\u3679\\0\\u367e\\u36c2\\0\\0\\0\\0\\0\\u36db\\u3703\\0\\u3709\\u376c\\0\\0\\0\\u3787\\u0272\\u3656\\0\\0\\u365bget;\\u6316;\\u43c4r\\xeb\\u0e5f\\u0180aey\\u3666\\u366b\\u3670ron;\\u4165dil;\\u4163;\\u4442lrec;\\u6315r;\\uc000\\ud835\\udd31\\u0200eiko\\u3686\\u369d\\u36b5\\u36bc\\u01f2\\u368b\\0\\u3691e\\u01004f\\u1284\\u1281a\\u0180;sv\\u3698\\u3699\\u369b\\u43b8ym;\\u43d1\\u0100cn\\u36a2\\u36b2k\\u0100as\\u36a8\\u36aeppro\\xf8\\u12c1im\\xbb\\u12acs\\xf0\\u129e\\u0100as\\u36ba\\u36ae\\xf0\\u12c1rn\\u803b\\xfe\\u40fe\\u01ec\\u031f\\u36c6\\u22e7es\\u8180\\xd7;bd\\u36cf\\u36d0\\u36d8\\u40d7\\u0100;a\\u190f\\u36d5r;\\u6a31;\\u6a30\\u0180eps\\u36e1\\u36e3\\u3700\\xe1\\u2a4d\\u0200;bcf\\u0486\\u36ec\\u36f0\\u36f4ot;\\u6336ir;\\u6af1\\u0100;o\\u36f9\\u36fc\\uc000\\ud835\\udd65rk;\\u6ada\\xe1\\u3362rime;\\u6034\\u0180aip\\u370f\\u3712\\u3764d\\xe5\\u1248\\u0380adempst\\u3721\\u374d\\u3740\\u3751\\u3757\\u375c\\u375fngle\\u0280;dlqr\\u3730\\u3731\\u3736\\u3740\\u3742\\u65b5own\\xbb\\u1dbbeft\\u0100;e\\u2800\\u373e\\xf1\\u092e;\\u625cight\\u0100;e\\u32aa\\u374b\\xf1\\u105aot;\\u65ecinus;\\u6a3alus;\\u6a39b;\\u69cdime;\\u6a3bezium;\\u63e2\\u0180cht\\u3772\\u377d\\u3781\\u0100ry\\u3777\\u377b;\\uc000\\ud835\\udcc9;\\u4446cy;\\u445brok;\\u4167\\u0100io\\u378b\\u378ex\\xf4\\u1777head\\u0100lr\\u3797\\u37a0eftarro\\xf7\\u084fightarrow\\xbb\\u0f5d\\u0900AHabcdfghlmoprstuw\\u37d0\\u37d3\\u37d7\\u37e4\\u37f0\\u37fc\\u380e\\u381c\\u3823\\u3834\\u3851\\u385d\\u386b\\u38a9\\u38cc\\u38d2\\u38ea\\u38f6r\\xf2\\u03edar;\\u6963\\u0100cr\\u37dc\\u37e2ute\\u803b\\xfa\\u40fa\\xf2\\u1150r\\u01e3\\u37ea\\0\\u37edy;\\u445eve;\\u416d\\u0100iy\\u37f5\\u37farc\\u803b\\xfb\\u40fb;\\u4443\\u0180abh\\u3803\\u3806\\u380br\\xf2\\u13adlac;\\u4171a\\xf2\\u13c3\\u0100ir\\u3813\\u3818sht;\\u697e;\\uc000\\ud835\\udd32rave\\u803b\\xf9\\u40f9\\u0161\\u3827\\u3831r\\u0100lr\\u382c\\u382e\\xbb\\u0957\\xbb\\u1083lk;\\u6580\\u0100ct\\u3839\\u384d\\u026f\\u383f\\0\\0\\u384arn\\u0100;e\\u3845\\u3846\\u631cr\\xbb\\u3846op;\\u630fri;\\u65f8\\u0100al\\u3856\\u385acr;\\u416b\\u80bb\\xa8\\u0349\\u0100gp\\u3862\\u3866on;\\u4173f;\\uc000\\ud835\\udd66\\u0300adhlsu\\u114b\\u3878\\u387d\\u1372\\u3891\\u38a0own\\xe1\\u13b3arpoon\\u0100lr\\u3888\\u388cef\\xf4\\u382digh\\xf4\\u382fi\\u0180;hl\\u3899\\u389a\\u389c\\u43c5\\xbb\\u13faon\\xbb\\u389aparrows;\\u61c8\\u0180cit\\u38b0\\u38c4\\u38c8\\u026f\\u38b6\\0\\0\\u38c1rn\\u0100;e\\u38bc\\u38bd\\u631dr\\xbb\\u38bdop;\\u630eng;\\u416fri;\\u65f9cr;\\uc000\\ud835\\udcca\\u0180dir\\u38d9\\u38dd\\u38e2ot;\\u62f0lde;\\u4169i\\u0100;f\\u3730\\u38e8\\xbb\\u1813\\u0100am\\u38ef\\u38f2r\\xf2\\u38a8l\\u803b\\xfc\\u40fcangle;\\u69a7\\u0780ABDacdeflnoprsz\\u391c\\u391f\\u3929\\u392d\\u39b5\\u39b8\\u39bd\\u39df\\u39e4\\u39e8\\u39f3\\u39f9\\u39fd\\u3a01\\u3a20r\\xf2\\u03f7ar\\u0100;v\\u3926\\u3927\\u6ae8;\\u6ae9as\\xe8\\u03e1\\u0100nr\\u3932\\u3937grt;\\u699c\\u0380eknprst\\u34e3\\u3946\\u394b\\u3952\\u395d\\u3964\\u3996app\\xe1\\u2415othin\\xe7\\u1e96\\u0180hir\\u34eb\\u2ec8\\u3959op\\xf4\\u2fb5\\u0100;h\\u13b7\\u3962\\xef\\u318d\\u0100iu\\u3969\\u396dgm\\xe1\\u33b3\\u0100bp\\u3972\\u3984setneq\\u0100;q\\u397d\\u3980\\uc000\\u228a\\ufe00;\\uc000\\u2acb\\ufe00setneq\\u0100;q\\u398f\\u3992\\uc000\\u228b\\ufe00;\\uc000\\u2acc\\ufe00\\u0100hr\\u399b\\u399fet\\xe1\\u369ciangle\\u0100lr\\u39aa\\u39afeft\\xbb\\u0925ight\\xbb\\u1051y;\\u4432ash\\xbb\\u1036\\u0180elr\\u39c4\\u39d2\\u39d7\\u0180;be\\u2dea\\u39cb\\u39cfar;\\u62bbq;\\u625alip;\\u62ee\\u0100bt\\u39dc\\u1468a\\xf2\\u1469r;\\uc000\\ud835\\udd33tr\\xe9\\u39aesu\\u0100bp\\u39ef\\u39f1\\xbb\\u0d1c\\xbb\\u0d59pf;\\uc000\\ud835\\udd67ro\\xf0\\u0efbtr\\xe9\\u39b4\\u0100cu\\u3a06\\u3a0br;\\uc000\\ud835\\udccb\\u0100bp\\u3a10\\u3a18n\\u0100Ee\\u3980\\u3a16\\xbb\\u397en\\u0100Ee\\u3992\\u3a1e\\xbb\\u3990igzag;\\u699a\\u0380cefoprs\\u3a36\\u3a3b\\u3a56\\u3a5b\\u3a54\\u3a61\\u3a6airc;\\u4175\\u0100di\\u3a40\\u3a51\\u0100bg\\u3a45\\u3a49ar;\\u6a5fe\\u0100;q\\u15fa\\u3a4f;\\u6259erp;\\u6118r;\\uc000\\ud835\\udd34pf;\\uc000\\ud835\\udd68\\u0100;e\\u1479\\u3a66at\\xe8\\u1479cr;\\uc000\\ud835\\udccc\\u0ae3\\u178e\\u3a87\\0\\u3a8b\\0\\u3a90\\u3a9b\\0\\0\\u3a9d\\u3aa8\\u3aab\\u3aaf\\0\\0\\u3ac3\\u3ace\\0\\u3ad8\\u17dc\\u17dftr\\xe9\\u17d1r;\\uc000\\ud835\\udd35\\u0100Aa\\u3a94\\u3a97r\\xf2\\u03c3r\\xf2\\u09f6;\\u43be\\u0100Aa\\u3aa1\\u3aa4r\\xf2\\u03b8r\\xf2\\u09eba\\xf0\\u2713is;\\u62fb\\u0180dpt\\u17a4\\u3ab5\\u3abe\\u0100fl\\u3aba\\u17a9;\\uc000\\ud835\\udd69im\\xe5\\u17b2\\u0100Aa\\u3ac7\\u3acar\\xf2\\u03cer\\xf2\\u0a01\\u0100cq\\u3ad2\\u17b8r;\\uc000\\ud835\\udccd\\u0100pt\\u17d6\\u3adcr\\xe9\\u17d4\\u0400acefiosu\\u3af0\\u3afd\\u3b08\\u3b0c\\u3b11\\u3b15\\u3b1b\\u3b21c\\u0100uy\\u3af6\\u3afbte\\u803b\\xfd\\u40fd;\\u444f\\u0100iy\\u3b02\\u3b06rc;\\u4177;\\u444bn\\u803b\\xa5\\u40a5r;\\uc000\\ud835\\udd36cy;\\u4457pf;\\uc000\\ud835\\udd6acr;\\uc000\\ud835\\udcce\\u0100cm\\u3b26\\u3b29y;\\u444el\\u803b\\xff\\u40ff\\u0500acdefhiosw\\u3b42\\u3b48\\u3b54\\u3b58\\u3b64\\u3b69\\u3b6d\\u3b74\\u3b7a\\u3b80cute;\\u417a\\u0100ay\\u3b4d\\u3b52ron;\\u417e;\\u4437ot;\\u417c\\u0100et\\u3b5d\\u3b61tr\\xe6\\u155fa;\\u43b6r;\\uc000\\ud835\\udd37cy;\\u4436grarr;\\u61ddpf;\\uc000\\ud835\\udd6bcr;\\uc000\\ud835\\udccf\\u0100jn\\u3b85\\u3b87;\\u600dj;\\u600c\"\n    .split(\"\")\n    .map(function (c) { return c.charCodeAt(0); }));\n//# sourceMappingURL=decode-data-html.js.map","\"use strict\";\n// Adapted from https://github.com/mathiasbynens/he/blob/36afe179392226cf1b6ccdb16ebbb7a5a844d93a/src/he.js#L106-L134\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.replaceCodePoint = exports.fromCodePoint = void 0;\nvar decodeMap = new Map([\n    [0, 65533],\n    // C1 Unicode control character reference replacements\n    [128, 8364],\n    [130, 8218],\n    [131, 402],\n    [132, 8222],\n    [133, 8230],\n    [134, 8224],\n    [135, 8225],\n    [136, 710],\n    [137, 8240],\n    [138, 352],\n    [139, 8249],\n    [140, 338],\n    [142, 381],\n    [145, 8216],\n    [146, 8217],\n    [147, 8220],\n    [148, 8221],\n    [149, 8226],\n    [150, 8211],\n    [151, 8212],\n    [152, 732],\n    [153, 8482],\n    [154, 353],\n    [155, 8250],\n    [156, 339],\n    [158, 382],\n    [159, 376],\n]);\n/**\n * Polyfill for `String.fromCodePoint`. It is used to create a string from a Unicode code point.\n */\nexports.fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, node/no-unsupported-features/es-builtins\n(_a = String.fromCodePoint) !== null && _a !== void 0 ? _a : function (codePoint) {\n    var output = \"\";\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n};\n/**\n * Replace the given code point with a replacement character if it is a\n * surrogate or is outside the valid range. Otherwise return the code\n * point unchanged.\n */\nfunction replaceCodePoint(codePoint) {\n    var _a;\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return 0xfffd;\n    }\n    return (_a = decodeMap.get(codePoint)) !== null && _a !== void 0 ? _a : codePoint;\n}\nexports.replaceCodePoint = replaceCodePoint;\n/**\n * Replace the code point if relevant, then convert it to a string.\n *\n * @deprecated Use `fromCodePoint(replaceCodePoint(codePoint))` instead.\n * @param codePoint The code point to decode.\n * @returns The decoded code point.\n */\nfunction decodeCodePoint(codePoint) {\n    return (0, exports.fromCodePoint)(replaceCodePoint(codePoint));\n}\nexports.default = decodeCodePoint;\n//# sourceMappingURL=decode_codepoint.js.map","export var CharClassType;\n(function (CharClassType) {\n    CharClassType[CharClassType[\"WORD_CHAR\"] = 0] = \"WORD_CHAR\";\n    CharClassType[CharClassType[\"DIGITS\"] = 1] = \"DIGITS\";\n    CharClassType[CharClassType[\"SPACES\"] = 2] = \"SPACES\";\n})(CharClassType || (CharClassType = {}));\nconst ZERO = \"0\".charCodeAt(0);\nconst NINE = \"9\".charCodeAt(0);\nconst lA = \"a\".charCodeAt(0);\nconst lZ = \"z\".charCodeAt(0);\nconst uA = \"A\".charCodeAt(0);\nconst uZ = \"Z\".charCodeAt(0);\nconst USCORE = \"_\".charCodeAt(0);\nexport class CharClassHelper {\n    matches(charCode, neg) {\n        const res = this.match(charCode);\n        return neg ? !res : res;\n    }\n}\nconst spaceChars = \" \\f\\n\\r\\t\\v\\u00a0\\u1680\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff\";\nexport class Spaces extends CharClassHelper {\n    match(charCode) {\n        if (charCode >= 0x2000 && charCode <= 0x200a)\n            return true;\n        for (let i = 0; i < spaceChars.length; i++) {\n            if (spaceChars.charCodeAt(i) == charCode)\n                return true;\n        }\n        return false;\n    }\n    reString(neg) {\n        return neg ? \"\\\\S\" : \"\\\\s\";\n    }\n}\nexport class Digit extends CharClassHelper {\n    match(charCode) {\n        return charCode >= ZERO && charCode <= NINE;\n    }\n    reString(neg) {\n        return neg ? \"\\\\D\" : \"\\\\d\";\n    }\n}\nexport class WordChar extends CharClassHelper {\n    match(charCode) {\n        return (charCode == USCORE ||\n            (charCode >= ZERO && charCode <= NINE) ||\n            (charCode >= lA && charCode <= lZ) ||\n            (charCode >= uA && charCode <= uZ));\n        return true;\n    }\n    reString(neg) {\n        return neg ? \"\\\\W\" : \"\\\\w\";\n    }\n}\nexport const CharClassHelpers = [new WordChar(), new Digit(), new Spaces()];\n//# sourceMappingURL=charclasses.js.map","export var PropertyName;\n(function (PropertyName) {\n    PropertyName[PropertyName[\"gc\"] = 0] = \"gc\";\n    PropertyName[PropertyName[\"General_Category\"] = 0] = \"General_Category\";\n    PropertyName[PropertyName[\"sc\"] = 1] = \"sc\";\n    PropertyName[PropertyName[\"Script\"] = 1] = \"Script\";\n    PropertyName[PropertyName[\"scx\"] = 2] = \"scx\";\n    PropertyName[PropertyName[\"Script_Extension\"] = 2] = \"Script_Extension\";\n    PropertyName[PropertyName[\"Any\"] = 3] = \"Any\";\n    PropertyName[PropertyName[\"ASCII\"] = 4] = \"ASCII\";\n    PropertyName[PropertyName[\"AHex\"] = 5] = \"AHex\";\n    PropertyName[PropertyName[\"ASCII_Hex_Digit\"] = 5] = \"ASCII_Hex_Digit\";\n    PropertyName[PropertyName[\"Alpha\"] = 6] = \"Alpha\";\n    PropertyName[PropertyName[\"Alphabetic\"] = 6] = \"Alphabetic\";\n    PropertyName[PropertyName[\"Bidi_M\"] = 7] = \"Bidi_M\";\n    PropertyName[PropertyName[\"Bidi_Mirrored\"] = 7] = \"Bidi_Mirrored\";\n    PropertyName[PropertyName[\"Bidi_C\"] = 8] = \"Bidi_C\";\n    PropertyName[PropertyName[\"Bidi_Control\"] = 8] = \"Bidi_Control\";\n    PropertyName[PropertyName[\"CI\"] = 9] = \"CI\";\n    PropertyName[PropertyName[\"Case_Ignorable\"] = 9] = \"Case_Ignorable\";\n    PropertyName[PropertyName[\"Cased\"] = 10] = \"Cased\";\n    PropertyName[PropertyName[\"CWCF\"] = 11] = \"CWCF\";\n    PropertyName[PropertyName[\"Changes_When_Casefolded\"] = 11] = \"Changes_When_Casefolded\";\n    PropertyName[PropertyName[\"CWCM\"] = 12] = \"CWCM\";\n    PropertyName[PropertyName[\"Changes_When_Casemapped\"] = 12] = \"Changes_When_Casemapped\";\n    PropertyName[PropertyName[\"CWL\"] = 13] = \"CWL\";\n    PropertyName[PropertyName[\"Changes_When_Lowercased\"] = 13] = \"Changes_When_Lowercased\";\n    PropertyName[PropertyName[\"CWKCF\"] = 14] = \"CWKCF\";\n    PropertyName[PropertyName[\"Changes_When_NFKC_Casefolded\"] = 14] = \"Changes_When_NFKC_Casefolded\";\n    PropertyName[PropertyName[\"CWT\"] = 15] = \"CWT\";\n    PropertyName[PropertyName[\"Changes_When_Titlecased\"] = 15] = \"Changes_When_Titlecased\";\n    PropertyName[PropertyName[\"CWU\"] = 16] = \"CWU\";\n    PropertyName[PropertyName[\"Changes_When_Uppercased\"] = 16] = \"Changes_When_Uppercased\";\n    PropertyName[PropertyName[\"Dash\"] = 17] = \"Dash\";\n    PropertyName[PropertyName[\"DI\"] = 18] = \"DI\";\n    PropertyName[PropertyName[\"Default_Ignorable_Code_Point\"] = 18] = \"Default_Ignorable_Code_Point\";\n    PropertyName[PropertyName[\"Dep\"] = 19] = \"Dep\";\n    PropertyName[PropertyName[\"Deprecated\"] = 19] = \"Deprecated\";\n    PropertyName[PropertyName[\"Dia\"] = 20] = \"Dia\";\n    PropertyName[PropertyName[\"Diacritic\"] = 20] = \"Diacritic\";\n    PropertyName[PropertyName[\"Emoji\"] = 21] = \"Emoji\";\n    PropertyName[PropertyName[\"Emoji_Component\"] = 22] = \"Emoji_Component\";\n    PropertyName[PropertyName[\"Emoji_Modifier\"] = 23] = \"Emoji_Modifier\";\n    PropertyName[PropertyName[\"Emoji_Modifier_Base\"] = 24] = \"Emoji_Modifier_Base\";\n    PropertyName[PropertyName[\"Emoji_Presentation\"] = 25] = \"Emoji_Presentation\";\n    PropertyName[PropertyName[\"Ext\"] = 26] = \"Ext\";\n    PropertyName[PropertyName[\"Extender\"] = 26] = \"Extender\";\n    PropertyName[PropertyName[\"Gr_Base\"] = 27] = \"Gr_Base\";\n    PropertyName[PropertyName[\"Grapheme_Base\"] = 27] = \"Grapheme_Base\";\n    PropertyName[PropertyName[\"Gr_Ext\"] = 28] = \"Gr_Ext\";\n    PropertyName[PropertyName[\"Grapheme_Extend\"] = 28] = \"Grapheme_Extend\";\n    PropertyName[PropertyName[\"Hex\"] = 29] = \"Hex\";\n    PropertyName[PropertyName[\"Hex_Digit\"] = 29] = \"Hex_Digit\";\n    PropertyName[PropertyName[\"IDSB\"] = 30] = \"IDSB\";\n    PropertyName[PropertyName[\"IDS_Binary_Operator\"] = 30] = \"IDS_Binary_Operator\";\n    PropertyName[PropertyName[\"IDST\"] = 31] = \"IDST\";\n    PropertyName[PropertyName[\"IDS_Trinary_Operator\"] = 31] = \"IDS_Trinary_Operator\";\n    PropertyName[PropertyName[\"IDC\"] = 32] = \"IDC\";\n    PropertyName[PropertyName[\"ID_Continue\"] = 32] = \"ID_Continue\";\n    PropertyName[PropertyName[\"IDS\"] = 33] = \"IDS\";\n    PropertyName[PropertyName[\"ID_Start\"] = 33] = \"ID_Start\";\n    PropertyName[PropertyName[\"Ideo\"] = 34] = \"Ideo\";\n    PropertyName[PropertyName[\"Ideographic\"] = 34] = \"Ideographic\";\n    PropertyName[PropertyName[\"Join_C\"] = 35] = \"Join_C\";\n    PropertyName[PropertyName[\"Join_Control\"] = 35] = \"Join_Control\";\n    PropertyName[PropertyName[\"LOE\"] = 36] = \"LOE\";\n    PropertyName[PropertyName[\"Logical_Order_Exception\"] = 36] = \"Logical_Order_Exception\";\n    PropertyName[PropertyName[\"Lower\"] = 37] = \"Lower\";\n    PropertyName[PropertyName[\"Lowercase\"] = 37] = \"Lowercase\";\n    PropertyName[PropertyName[\"Math\"] = 38] = \"Math\";\n    PropertyName[PropertyName[\"NChar\"] = 39] = \"NChar\";\n    PropertyName[PropertyName[\"Noncharacter_Code_Point\"] = 39] = \"Noncharacter_Code_Point\";\n    PropertyName[PropertyName[\"Pat_Syn\"] = 40] = \"Pat_Syn\";\n    PropertyName[PropertyName[\"Pattern_Syntax\"] = 40] = \"Pattern_Syntax\";\n    PropertyName[PropertyName[\"Pat_WS\"] = 41] = \"Pat_WS\";\n    PropertyName[PropertyName[\"Pattern_White_Space\"] = 41] = \"Pattern_White_Space\";\n    PropertyName[PropertyName[\"QMark\"] = 42] = \"QMark\";\n    PropertyName[PropertyName[\"Quotation_Mark\"] = 42] = \"Quotation_Mark\";\n    PropertyName[PropertyName[\"Radical\"] = 43] = \"Radical\";\n    PropertyName[PropertyName[\"RI\"] = 44] = \"RI\";\n    PropertyName[PropertyName[\"Regional_Indicator\"] = 44] = \"Regional_Indicator\";\n    PropertyName[PropertyName[\"STerm\"] = 45] = \"STerm\";\n    PropertyName[PropertyName[\"Sentence_Terminal\"] = 45] = \"Sentence_Terminal\";\n    PropertyName[PropertyName[\"SD\"] = 46] = \"SD\";\n    PropertyName[PropertyName[\"Soft_Dotted\"] = 46] = \"Soft_Dotted\";\n    PropertyName[PropertyName[\"Term\"] = 47] = \"Term\";\n    PropertyName[PropertyName[\"Terminal_Punctuation\"] = 47] = \"Terminal_Punctuation\";\n    PropertyName[PropertyName[\"UIdeo\"] = 48] = \"UIdeo\";\n    PropertyName[PropertyName[\"Unified_Ideograph\"] = 48] = \"Unified_Ideograph\";\n    PropertyName[PropertyName[\"Upper\"] = 49] = \"Upper\";\n    PropertyName[PropertyName[\"Uppercase\"] = 49] = \"Uppercase\";\n    PropertyName[PropertyName[\"VS\"] = 50] = \"VS\";\n    PropertyName[PropertyName[\"Variation_Selector\"] = 50] = \"Variation_Selector\";\n    PropertyName[PropertyName[\"space\"] = 51] = \"space\";\n    PropertyName[PropertyName[\"White_Space\"] = 51] = \"White_Space\";\n    PropertyName[PropertyName[\"XIDC\"] = 52] = \"XIDC\";\n    PropertyName[PropertyName[\"XID_Continue\"] = 52] = \"XID_Continue\";\n    PropertyName[PropertyName[\"XIDS\"] = 53] = \"XIDS\";\n    PropertyName[PropertyName[\"XID_Start\"] = 53] = \"XID_Start\";\n})(PropertyName || (PropertyName = {}));\nexport var PropertyValue;\n(function (PropertyValue) {\n    PropertyValue[PropertyValue[\"LC\"] = 0] = \"LC\";\n    PropertyValue[PropertyValue[\"Cased_Letter\"] = 0] = \"Cased_Letter\";\n    PropertyValue[PropertyValue[\"Pe\"] = 1] = \"Pe\";\n    PropertyValue[PropertyValue[\"Close_Punctuation\"] = 1] = \"Close_Punctuation\";\n    PropertyValue[PropertyValue[\"Pc\"] = 2] = \"Pc\";\n    PropertyValue[PropertyValue[\"Connector_Punctuation\"] = 2] = \"Connector_Punctuation\";\n    PropertyValue[PropertyValue[\"Cc\"] = 3] = \"Cc\";\n    PropertyValue[PropertyValue[\"cntrl\"] = 3] = \"cntrl\";\n    PropertyValue[PropertyValue[\"Control\"] = 3] = \"Control\";\n    PropertyValue[PropertyValue[\"Sc\"] = 4] = \"Sc\";\n    PropertyValue[PropertyValue[\"Currency_Symbol\"] = 4] = \"Currency_Symbol\";\n    PropertyValue[PropertyValue[\"Pd\"] = 5] = \"Pd\";\n    PropertyValue[PropertyValue[\"Dash_Punctuation\"] = 5] = \"Dash_Punctuation\";\n    PropertyValue[PropertyValue[\"Nd\"] = 6] = \"Nd\";\n    PropertyValue[PropertyValue[\"digit\"] = 6] = \"digit\";\n    PropertyValue[PropertyValue[\"Decimal_Number\"] = 6] = \"Decimal_Number\";\n    PropertyValue[PropertyValue[\"Me\"] = 7] = \"Me\";\n    PropertyValue[PropertyValue[\"Enclosing_Mark\"] = 7] = \"Enclosing_Mark\";\n    PropertyValue[PropertyValue[\"Pf\"] = 8] = \"Pf\";\n    PropertyValue[PropertyValue[\"Final_Punctuation\"] = 8] = \"Final_Punctuation\";\n    PropertyValue[PropertyValue[\"Cf\"] = 9] = \"Cf\";\n    PropertyValue[PropertyValue[\"Format\"] = 9] = \"Format\";\n    PropertyValue[PropertyValue[\"Pi\"] = 10] = \"Pi\";\n    PropertyValue[PropertyValue[\"Initial_Punctuation\"] = 10] = \"Initial_Punctuation\";\n    PropertyValue[PropertyValue[\"L\"] = 11] = \"L\";\n    PropertyValue[PropertyValue[\"Letter\"] = 11] = \"Letter\";\n    PropertyValue[PropertyValue[\"Nl\"] = 12] = \"Nl\";\n    PropertyValue[PropertyValue[\"Letter_Number\"] = 12] = \"Letter_Number\";\n    PropertyValue[PropertyValue[\"Zl\"] = 13] = \"Zl\";\n    PropertyValue[PropertyValue[\"Line_Separator\"] = 13] = \"Line_Separator\";\n    PropertyValue[PropertyValue[\"Ll\"] = 14] = \"Ll\";\n    PropertyValue[PropertyValue[\"Lowercase_Letter\"] = 14] = \"Lowercase_Letter\";\n    PropertyValue[PropertyValue[\"M\"] = 15] = \"M\";\n    PropertyValue[PropertyValue[\"Combining_Mark\"] = 15] = \"Combining_Mark\";\n    PropertyValue[PropertyValue[\"Mark\"] = 16] = \"Mark\";\n    PropertyValue[PropertyValue[\"Sm\"] = 17] = \"Sm\";\n    PropertyValue[PropertyValue[\"Math_Symbol\"] = 17] = \"Math_Symbol\";\n    PropertyValue[PropertyValue[\"Lm\"] = 18] = \"Lm\";\n    PropertyValue[PropertyValue[\"Modifier_Letter\"] = 18] = \"Modifier_Letter\";\n    PropertyValue[PropertyValue[\"Sk\"] = 19] = \"Sk\";\n    PropertyValue[PropertyValue[\"Modifier_Symbol\"] = 19] = \"Modifier_Symbol\";\n    PropertyValue[PropertyValue[\"Mn\"] = 20] = \"Mn\";\n    PropertyValue[PropertyValue[\"Nonspacing_Mark\"] = 20] = \"Nonspacing_Mark\";\n    PropertyValue[PropertyValue[\"N\"] = 21] = \"N\";\n    PropertyValue[PropertyValue[\"Number\"] = 21] = \"Number\";\n    PropertyValue[PropertyValue[\"Ps\"] = 22] = \"Ps\";\n    PropertyValue[PropertyValue[\"Open_Punctuation\"] = 22] = \"Open_Punctuation\";\n    PropertyValue[PropertyValue[\"C\"] = 23] = \"C\";\n    PropertyValue[PropertyValue[\"Other\"] = 23] = \"Other\";\n    PropertyValue[PropertyValue[\"Lo\"] = 24] = \"Lo\";\n    PropertyValue[PropertyValue[\"Other_Letter\"] = 24] = \"Other_Letter\";\n    PropertyValue[PropertyValue[\"No\"] = 25] = \"No\";\n    PropertyValue[PropertyValue[\"Other_Number\"] = 25] = \"Other_Number\";\n    PropertyValue[PropertyValue[\"Po\"] = 26] = \"Po\";\n    PropertyValue[PropertyValue[\"Other_Punctuation\"] = 26] = \"Other_Punctuation\";\n    PropertyValue[PropertyValue[\"So\"] = 27] = \"So\";\n    PropertyValue[PropertyValue[\"Other_Symbol\"] = 27] = \"Other_Symbol\";\n    PropertyValue[PropertyValue[\"Zp\"] = 28] = \"Zp\";\n    PropertyValue[PropertyValue[\"Paragraph_Separator\"] = 28] = \"Paragraph_Separator\";\n    PropertyValue[PropertyValue[\"Co\"] = 29] = \"Co\";\n    PropertyValue[PropertyValue[\"Private_Use\"] = 29] = \"Private_Use\";\n    PropertyValue[PropertyValue[\"P\"] = 30] = \"P\";\n    PropertyValue[PropertyValue[\"punct\"] = 30] = \"punct\";\n    PropertyValue[PropertyValue[\"Punctuation\"] = 30] = \"Punctuation\";\n    PropertyValue[PropertyValue[\"Z\"] = 31] = \"Z\";\n    PropertyValue[PropertyValue[\"Separator\"] = 31] = \"Separator\";\n    PropertyValue[PropertyValue[\"Zs\"] = 32] = \"Zs\";\n    PropertyValue[PropertyValue[\"Space_Separator\"] = 32] = \"Space_Separator\";\n    PropertyValue[PropertyValue[\"Mc\"] = 33] = \"Mc\";\n    PropertyValue[PropertyValue[\"Spacing_Mark\"] = 33] = \"Spacing_Mark\";\n    PropertyValue[PropertyValue[\"Cs\"] = 34] = \"Cs\";\n    PropertyValue[PropertyValue[\"Surrogate\"] = 34] = \"Surrogate\";\n    PropertyValue[PropertyValue[\"S\"] = 35] = \"S\";\n    PropertyValue[PropertyValue[\"Symbol\"] = 35] = \"Symbol\";\n    PropertyValue[PropertyValue[\"Lt\"] = 36] = \"Lt\";\n    PropertyValue[PropertyValue[\"Titlecase_Letter\"] = 36] = \"Titlecase_Letter\";\n    PropertyValue[PropertyValue[\"Cn\"] = 37] = \"Cn\";\n    PropertyValue[PropertyValue[\"Unassigned\"] = 37] = \"Unassigned\";\n    PropertyValue[PropertyValue[\"Lu\"] = 38] = \"Lu\";\n    PropertyValue[PropertyValue[\"Uppercase_Letter\"] = 38] = \"Uppercase_Letter\";\n})(PropertyValue || (PropertyValue = {}));\nexport function propertyNameFor(value) {\n    value = value.trim();\n    if (!(value in PropertyName)) {\n        throw new SyntaxError(\"Invalid property name: \" + value);\n    }\n    return PropertyName[value];\n}\nexport function propertyValueFor(value) {\n    value = value.trim();\n    if (!(value in PropertyValue)) {\n        throw new SyntaxError(\"Invalid property value: \" + value);\n    }\n    return PropertyValue[value];\n}\nexport function propertyNameString(value) {\n    if (!(value in PropertyName)) {\n        throw new Error(\"Invalid property name: \" + value);\n    }\n    return PropertyName[value];\n}\nexport function propertyValueString(value) {\n    if (!(value in PropertyValue)) {\n        throw new Error(\"Invalid property value: \" + value);\n    }\n    return PropertyValue[value];\n}\n//# sourceMappingURL=propertyescapes.js.map","import * as TSU from \"@panyam/tsutils\";\nimport { CharClassHelpers } from \"./charclasses\";\nimport * as PropertyEscapes from \"./propertyescapes\";\nexport var RegexType;\n(function (RegexType) {\n    RegexType[RegexType[\"START_OF_INPUT\"] = 0] = \"START_OF_INPUT\";\n    RegexType[RegexType[\"END_OF_INPUT\"] = 1] = \"END_OF_INPUT\";\n    RegexType[RegexType[\"START_OF_WORD\"] = 2] = \"START_OF_WORD\";\n    RegexType[RegexType[\"END_OF_WORD\"] = 3] = \"END_OF_WORD\";\n    RegexType[RegexType[\"UNION\"] = 4] = \"UNION\";\n    RegexType[RegexType[\"CAT\"] = 5] = \"CAT\";\n    RegexType[RegexType[\"VAR\"] = 6] = \"VAR\";\n    RegexType[RegexType[\"BACK_NAMED_REF\"] = 7] = \"BACK_NAMED_REF\";\n    RegexType[RegexType[\"BACK_NUM_REF\"] = 8] = \"BACK_NUM_REF\";\n    RegexType[RegexType[\"QUANT\"] = 9] = \"QUANT\";\n    RegexType[RegexType[\"LOOK_AHEAD\"] = 10] = \"LOOK_AHEAD\";\n    RegexType[RegexType[\"LOOK_BACK\"] = 11] = \"LOOK_BACK\";\n    RegexType[RegexType[\"CHAR\"] = 12] = \"CHAR\";\n})(RegexType || (RegexType = {}));\nfunction stringRep(ch) {\n    return String.fromCharCode(ch)\n        .replace(\"\\n\", \"\\\\n\")\n        .replace(\"\\0\", \"\\\\0\")\n        .replace(\"\\r\", \"\\\\r\")\n        .replace(\"\\t\", \"\\\\t\")\n        .replace(\"\\f\", \"\\\\f\")\n        .replace(\"\\b\", \"\\\\b\");\n}\nexport class Regex {\n    constructor() {\n        this.parent = null;\n        this.reString = null;\n        this.groupIndex = -1;\n        this.groupName = null;\n        this.groupIsSilent = false;\n        this.ignoreCase = null;\n        this.dotAll = null;\n        this.multiline = null;\n    }\n    setOptions(options) {\n        if (\"dotAll\" in options)\n            this.dotAll = options.dotAll;\n        if (\"ignoreCase\" in options)\n            this.ignoreCase = options.ignoreCase;\n        if (\"groupIndex\" in options)\n            this.groupIndex = options.groupIndex;\n        if (\"multiline\" in options)\n            this.multiline = options.multiline;\n        return this;\n    }\n    debugValue() {\n        const out = {};\n        if (this.dotAll)\n            out.dotAll = true;\n        if (this.ignoreCase)\n            out.ignoreCase = true;\n        if (this.multiline)\n            out.multiline = true;\n        if (this.groupIndex >= 0)\n            out.groupIndex = this.groupIndex;\n        return out;\n    }\n    get isVariable() {\n        return false;\n    }\n    get toString() {\n        if (this.reString == null) {\n            this.reString = this.evalREString();\n        }\n        return this.reString;\n    }\n    get modifiers() {\n        let mod = \"\";\n        if (this.dotAll)\n            mod += \"d\";\n        if (this.ignoreCase)\n            mod += \"i\";\n        if (this.multiline)\n            mod += \"m\";\n        if (this.groupIndex >= 0)\n            mod += \"g:\" + this.groupIndex;\n        return mod.length == 0 ? mod : \"<\" + mod + \">\";\n    }\n}\nexport class StartOfInput extends Regex {\n    constructor() {\n        super(...arguments);\n        this.tag = RegexType.START_OF_INPUT;\n    }\n    debugValue() {\n        return \"^\";\n    }\n    reverse() {\n        return this;\n    }\n    evalREString() {\n        return \"^\";\n    }\n}\nexport class EndOfInput extends Regex {\n    constructor() {\n        super(...arguments);\n        this.tag = RegexType.END_OF_INPUT;\n    }\n    debugValue() {\n        return \"$\";\n    }\n    evalREString() {\n        return \"$\";\n    }\n    reverse() {\n        return this;\n    }\n}\nexport class StartOfWord extends Regex {\n    constructor() {\n        super(...arguments);\n        this.tag = RegexType.START_OF_WORD;\n    }\n    debugValue() {\n        return \"\\\\b\";\n    }\n    reverse() {\n        return this;\n    }\n    evalREString() {\n        return \"\\\\b\";\n    }\n}\nexport class EndOfWord extends Regex {\n    constructor() {\n        super(...arguments);\n        this.tag = RegexType.END_OF_WORD;\n    }\n    debugValue() {\n        return \"\\\\b\";\n    }\n    reverse() {\n        return this;\n    }\n    evalREString() {\n        return \"\\\\b\";\n    }\n}\nclass Assertion extends Regex {\n    constructor(expr, cond, negate = false) {\n        super();\n        this.expr = expr;\n        this.cond = cond;\n        this.negate = negate;\n    }\n}\nexport class LookAhead extends Assertion {\n    constructor() {\n        super(...arguments);\n        this.tag = RegexType.LOOK_AHEAD;\n    }\n    evalREString() {\n        return `${this.expr.toString}(?${this.negate ? \"!\" : \"=\"}${this.cond.toString})`;\n    }\n    debugValue() {\n        return [\n            \"LookAhead\",\n            {\n                ...super.debugValue(),\n                negate: this.negate,\n                expr: this.expr.debugValue(),\n                cond: this.cond.debugValue(),\n            },\n        ];\n    }\n    reverse() {\n        return new LookBack(this.expr.reverse(), this.cond.reverse(), this.negate);\n    }\n}\nexport class LookBack extends Assertion {\n    constructor() {\n        super(...arguments);\n        this.tag = RegexType.LOOK_BACK;\n    }\n    evalREString() {\n        return `(?<${this.negate ? \"!\" : \"=\"}${this.cond.toString})${this.expr.toString}`;\n    }\n    debugValue() {\n        return [\n            \"LookBack\",\n            {\n                ...super.debugValue(),\n                negate: this.negate,\n                expr: this.expr.debugValue(),\n                cond: this.cond.debugValue(),\n            },\n        ];\n    }\n    reverse() {\n        return new LookAhead(this.expr.reverse(), this.cond.reverse(), this.negate);\n    }\n}\nexport class Quant extends Regex {\n    constructor(expr, minCount = 1, maxCount = 1, greedy = true) {\n        super();\n        this.expr = expr;\n        this.minCount = minCount;\n        this.maxCount = maxCount;\n        this.greedy = greedy;\n        this.tag = RegexType.QUANT;\n    }\n    get isUnlimited() {\n        return this.maxCount < 0 || this.maxCount == TSU.Constants.MAX_INT;\n    }\n    get isVariable() {\n        return this.minCount != this.maxCount || !this.expr.isVariable;\n    }\n    reverse() {\n        return new Quant(this.expr.reverse(), this.minCount, this.maxCount, this.greedy);\n    }\n    evalREString() {\n        let quant = \"*\";\n        if (this.minCount == 1 && this.isUnlimited)\n            quant = \"+\";\n        else if (this.minCount == 0 && this.isUnlimited)\n            quant = \"*\";\n        else if (this.minCount == 0 && this.maxCount == 1)\n            quant = \"?\";\n        else if (this.minCount != 1 || this.maxCount != 1) {\n            if (this.minCount == this.maxCount) {\n                quant = `{${this.minCount}}`;\n            }\n            else {\n                quant = `{${this.minCount},${this.isUnlimited ? \"\" : this.maxCount}}`;\n            }\n        }\n        return `${this.expr.toString}${quant}`;\n    }\n    debugValue() {\n        let quant = \"*\";\n        if (this.minCount == 1 && this.isUnlimited)\n            quant = this.greedy ? \"+?\" : \"+\";\n        else if (this.minCount == 0 && this.isUnlimited)\n            quant = this.greedy ? \"*?\" : \"*\";\n        else if (this.minCount == 0 && this.maxCount == 1)\n            quant = this.greedy ? \"??\" : \"?\";\n        else if (this.minCount != 1 || this.maxCount != 1) {\n            if (this.minCount == this.maxCount) {\n                quant = `{${this.minCount}}` + (this.greedy ? \"?\" : \"\");\n            }\n            else {\n                quant = `{${this.minCount},${this.maxCount}}` + (this.greedy ? \"?\" : \"\");\n            }\n        }\n        return [quant, super.debugValue(), this.expr.debugValue()];\n    }\n}\nexport class Cat extends Regex {\n    constructor(...children) {\n        super();\n        this.tag = RegexType.CAT;\n        this.children = [];\n        for (const child of children) {\n            this.add(child);\n        }\n    }\n    get isVariable() {\n        for (const child of this.children) {\n            if (child.isVariable)\n                return true;\n        }\n        return false;\n    }\n    evalREString() {\n        const out = this.children.map((c) => c.toString).join(\"\");\n        return this.children.length > 1 ? \"(\" + out + \")\" : out;\n    }\n    reverse() {\n        const out = this.children.map((c) => c.reverse());\n        out.reverse();\n        return new Cat(...out);\n    }\n    add(child) {\n        if (child.tag != RegexType.CAT || child.groupIndex >= 0) {\n            this.children.push(child);\n        }\n        else {\n            for (const opt of child.children) {\n                this.add(opt);\n            }\n        }\n        return this;\n    }\n    debugValue() {\n        return [\"Cat\", { ...super.debugValue() }, this.children.map((c) => c.debugValue())];\n    }\n}\nexport class Union extends Regex {\n    constructor(...options) {\n        super();\n        this.tag = RegexType.UNION;\n        this.options = [];\n        for (const option of options) {\n            this.add(option);\n        }\n    }\n    get isVariable() {\n        for (const child of this.options) {\n            if (child.isVariable)\n                return true;\n        }\n        return false;\n    }\n    evalREString() {\n        const out = this.options.map((c) => c.toString).join(\"|\");\n        return this.options.length > 1 ? \"(\" + out + \")\" : out;\n    }\n    reverse() {\n        const out = this.options.map((c) => c.reverse());\n        return new Union(...out);\n    }\n    add(option) {\n        if (option.tag != RegexType.UNION || option.groupIndex >= 0) {\n            this.options.push(option);\n        }\n        else {\n            for (const opt of option.options) {\n                this.add(opt);\n            }\n        }\n        return this;\n    }\n    debugValue() {\n        return [\"Union\", { ...super.debugValue() }, this.options.map((c) => c.debugValue())];\n    }\n}\nexport var CharType;\n(function (CharType) {\n    CharType[CharType[\"AnyChar\"] = 1] = \"AnyChar\";\n    CharType[CharType[\"SingleChar\"] = 2] = \"SingleChar\";\n    CharType[CharType[\"CharRange\"] = 3] = \"CharRange\";\n    CharType[CharType[\"PropertyEscape\"] = 4] = \"PropertyEscape\";\n    CharType[CharType[\"CharClass\"] = 5] = \"CharClass\";\n    CharType[CharType[\"Union\"] = 6] = \"Union\";\n    CharType[CharType[\"Intersection\"] = 7] = \"Intersection\";\n})(CharType || (CharType = {}));\nexport class Char extends Regex {\n    constructor(op, neg = false) {\n        super();\n        this.op = op;\n        this.neg = neg;\n        this.tag = RegexType.CHAR;\n    }\n    match(ch) {\n        const result = this.matchChar(ch);\n        return (result && !this.neg) || (this.neg && !result);\n        return result;\n    }\n    reverse() {\n        return this;\n    }\n    debugValue() {\n        return this.toString + this.modifiers;\n    }\n}\nexport class LeafChar extends Char {\n    constructor(op, neg = false, args = []) {\n        super(op, neg);\n        this.op = op;\n        this.neg = neg;\n        this.args = args;\n    }\n    static Any(neg = false) {\n        return new LeafChar(CharType.AnyChar, neg);\n    }\n    static Class(charClass, neg = false) {\n        return new LeafChar(CharType.CharClass, neg, [charClass]);\n    }\n    static Single(ch, neg = false) {\n        if (typeof ch === \"string\") {\n            ch = ch.charCodeAt(0);\n        }\n        return new LeafChar(CharType.SingleChar, neg, [ch]);\n    }\n    static PropertyEscape(propNameOrId, propValueOrId, neg = false) {\n        if (typeof propNameOrId === \"string\")\n            propNameOrId = PropertyEscapes.propertyNameFor(propNameOrId);\n        if (typeof propValueOrId === \"string\")\n            propValueOrId = PropertyEscapes.propertyValueFor(propValueOrId);\n        return new LeafChar(CharType.PropertyEscape, neg, [propNameOrId, propValueOrId]);\n    }\n    matchChar(ch) {\n        const args = this.args;\n        switch (this.op) {\n            case CharType.SingleChar:\n                return ch == this.args[0];\n            case CharType.CharClass:\n                return CharClassHelpers[args[0]].matches(ch, false);\n            case CharType.PropertyEscape:\n                throw new Error(\"Property Escape Matching - TBD\");\n            default:\n                throw new Error(\"Custom Chars - TBD i: \" + this.op);\n        }\n        return false;\n    }\n    compareTo(another) {\n        if (this.op != another.op)\n            return this.op - another.op;\n        for (let i = 0; i < this.args.length && i < another.args.length; i++) {\n            if (this.args[i] != another.args[i])\n                return this.args[i] - another.args[i];\n        }\n        return this.args.length - another.args.length;\n    }\n    evalREString() {\n        if (this.op == CharType.AnyChar) {\n            return \".\";\n        }\n        else if (this.op == CharType.SingleChar) {\n            return stringRep(this.args[0]);\n        }\n        else if (this.op == CharType.CharClass) {\n            return CharClassHelpers[this.args[0]].reString(this.neg);\n        }\n        else if (this.op == CharType.PropertyEscape) {\n            return this.neg ? \"\\\\P{\" : \"\\\\p{\" + \"}\";\n            return `${PropertyEscapes.propertyNameString(this.args[0])}=${PropertyEscapes.propertyValueString(this.args[1])}\\}`;\n        }\n        return \"Custom \" + this.args.join(\" \");\n    }\n}\nexport class CharGroup extends Char {\n    constructor(op, neg = false, chars = []) {\n        super(op, neg);\n        this.op = op;\n        this.neg = neg;\n        this.chars = chars;\n    }\n    compareTo(another) {\n        if (this.op != another.op)\n            return this.op - another.op;\n        for (let i = 0; i < this.chars.length && i < another.chars.length; i++) {\n            const d = this.chars[i].compareTo(another.chars[i]);\n            if (d != 0)\n                return d;\n        }\n        return this.chars.length - another.chars.length;\n    }\n    matchChar(ch) {\n        const chars = this.chars;\n        switch (this.op) {\n            case CharType.CharRange:\n                return ch >= chars[0].args[0] && ch <= chars[1].args[0];\n            case CharType.Union: {\n                for (let i = 0; i < chars.length; i++) {\n                    if (chars[i].match(ch))\n                        return true;\n                }\n                return false;\n            }\n            case CharType.Intersection: {\n                for (let i = 0; i < chars.length; i++) {\n                    if (!chars[i].match(ch))\n                        return false;\n                }\n                return true;\n            }\n            default:\n                throw new Error(\"Custom CharGroup - TBD i: \" + this.op);\n        }\n        return false;\n    }\n    evalREString() {\n        const out = this.chars.map((ch) => ch.debugValue()).join(\"\");\n        if (this.op == CharType.CharRange) {\n            return `${this.chars[0].toString}-${this.chars[1].toString}`;\n        }\n        else if (this.op == CharType.Union) {\n            return out.length > 1 ? (this.neg ? \"[^\" : \"[\") + out + \"]\" : out;\n        }\n        else if (this.op == CharType.Intersection) {\n            return out.length > 1 ? (this.neg ? \"[^\" : \"[\") + out + \"]\" : out;\n        }\n        return \"Custom \" + this.chars.join(\" \");\n    }\n    static Range(start, end, neg = false) {\n        return new CharGroup(CharType.CharRange, neg, [start, end]);\n    }\n    static Union(neg = false, chars) {\n        return new CharGroup(CharType.Union, neg, chars);\n    }\n    static Intersection(neg = false, chars) {\n        return new CharGroup(CharType.Intersection, neg, chars);\n    }\n}\nexport class Var extends Regex {\n    constructor(name, reversed = false) {\n        super();\n        this.name = name;\n        this.reversed = reversed;\n        this.tag = RegexType.VAR;\n    }\n    reverse() {\n        return new Var(this.name, !this.reversed);\n    }\n    evalREString() {\n        return \"<\" + this.name + \">\";\n    }\n    debugValue() {\n        return [\"V:\" + this.name, { ...super.debugValue() }];\n    }\n}\nexport class BackNamedRef extends Regex {\n    constructor(name, reversed = false) {\n        super();\n        this.name = name;\n        this.reversed = reversed;\n        this.tag = RegexType.BACK_NAMED_REF;\n    }\n    reverse() {\n        return new BackNamedRef(this.name, !this.reversed);\n    }\n    evalREString() {\n        return \"\\\\k<\" + this.name + \">\";\n    }\n    debugValue() {\n        return { ...super.debugValue, BackRef: this.name };\n    }\n}\nexport class BackNumRef extends Regex {\n    constructor(num, reversed = false) {\n        super();\n        this.num = num;\n        this.reversed = reversed;\n        this.tag = RegexType.BACK_NUM_REF;\n    }\n    reverse() {\n        return new BackNumRef(this.num, !this.reversed);\n    }\n    evalREString() {\n        return \"\\\\\" + this.num;\n    }\n    debugValue() {\n        return \"\\\\\" + this.num;\n    }\n}\nexport class Rule {\n    constructor(expr, config) {\n        this.expr = expr;\n        this.skip = false;\n        config = config || {};\n        this.tag = config.tag || null;\n        if (config.priority == 0) {\n            this.priority = 0;\n        }\n        else {\n            this.priority = config.priority || 10;\n        }\n        if (config.matchIndex == 0) {\n            this.matchIndex = 0;\n        }\n        else {\n            this.matchIndex = config.matchIndex || -1;\n        }\n        this.skip = config.skip || false;\n        this.activeStates = config.activeStates || null;\n    }\n    stateCanActivate(state) {\n        return (this.activeStates == null ||\n            this.activeStates.size == 0 ||\n            this.activeStates.has(\"*\") ||\n            this.activeStates.has(state));\n    }\n    get needsSpecificStates() {\n        return this.activeStates != null && this.activeStates.size > 0 && !this.activeStates.has(\"*\");\n    }\n}\n//# sourceMappingURL=core.js.map","import * as TSU from \"@panyam/tsutils\";\nfunction isNewLineChar(ch) {\n    return ch == \"\\r\" || ch == \"\\n\" || ch == \"\\u2028\" || ch == \"\\u2029\";\n}\nexport class Match {\n    constructor(priority = 10, matchIndex = -1, start = -1, end = -1) {\n        this.priority = priority;\n        this.matchIndex = matchIndex;\n        this.start = start;\n        this.end = end;\n        this.groups = [];\n        this.positions = [];\n    }\n}\nexport var OpCode;\n(function (OpCode) {\n    OpCode[OpCode[\"Any\"] = 0] = \"Any\";\n    OpCode[OpCode[\"AnyNonNL\"] = 1] = \"AnyNonNL\";\n    OpCode[OpCode[\"Char\"] = 2] = \"Char\";\n    OpCode[OpCode[\"CIChar\"] = 3] = \"CIChar\";\n    OpCode[OpCode[\"Match\"] = 4] = \"Match\";\n    OpCode[OpCode[\"Noop\"] = 5] = \"Noop\";\n    OpCode[OpCode[\"Save\"] = 6] = \"Save\";\n    OpCode[OpCode[\"Split\"] = 7] = \"Split\";\n    OpCode[OpCode[\"Jump\"] = 8] = \"Jump\";\n    OpCode[OpCode[\"Begin\"] = 9] = \"Begin\";\n    OpCode[OpCode[\"RBegin\"] = 10] = \"RBegin\";\n    OpCode[OpCode[\"End\"] = 11] = \"End\";\n    OpCode[OpCode[\"StartingChar\"] = 12] = \"StartingChar\";\n    OpCode[OpCode[\"EndingChar\"] = 13] = \"EndingChar\";\n    OpCode[OpCode[\"MLStartingChar\"] = 14] = \"MLStartingChar\";\n    OpCode[OpCode[\"MLEndingChar\"] = 15] = \"MLEndingChar\";\n    OpCode[OpCode[\"StartOfWord\"] = 16] = \"StartOfWord\";\n    OpCode[OpCode[\"EndOfWord\"] = 17] = \"EndOfWord\";\n    OpCode[OpCode[\"GroupStart\"] = 18] = \"GroupStart\";\n    OpCode[OpCode[\"GroupEnd\"] = 19] = \"GroupEnd\";\n    OpCode[OpCode[\"EnsureState\"] = 20] = \"EnsureState\";\n})(OpCode || (OpCode = {}));\nexport class Prog {\n    constructor(startCondition = \"INITIAL\", scIsInclusive = true) {\n        this.startCondition = startCondition;\n        this.scIsInclusive = scIsInclusive;\n        this.instrs = [];\n        this.stateMapping = new Map();\n        this.registerState(\"INITIAL\");\n        this.registerState(startCondition);\n    }\n    get length() {\n        return this.instrs.length;\n    }\n    registerState(state) {\n        if (!this.stateMapping.has(state)) {\n            this.stateMapping.set(state, this.stateMapping.size);\n        }\n        return this.stateMapping.get(state) || -1;\n    }\n    add(opcode, char = null, ...args) {\n        const out = new Instr(opcode, char).add(...args);\n        out.offset = this.instrs.length;\n        this.instrs.push(out);\n        return out;\n    }\n    static with(initializer) {\n        const out = new Prog();\n        initializer(out);\n        return out;\n    }\n    debugValue(instrDebugValue = InstrDebugValue) {\n        if (instrDebugValue) {\n            return this.instrs.map((instr, index) => {\n                if (instr.comment.trim().length > 0)\n                    return `L${index}: ${instrDebugValue(instr)}     # ${instr.comment}`;\n                else\n                    return `L${index}: ${instrDebugValue(instr)}`;\n            });\n        }\n        else {\n            return this.instrs.map((instr, index) => `L${index}: ${instr.debugValue}`);\n        }\n    }\n}\nexport class Instr {\n    constructor(opcode, char = null) {\n        this.opcode = opcode;\n        this.char = char;\n        this.offset = 0;\n        this.comment = \"\";\n        this.args = [];\n        this.char = char;\n    }\n    add(...args) {\n        this.args.push(...args);\n        return this;\n    }\n    get debugValue() {\n        let c = this.comment.trim();\n        if (c.length > 0)\n            c = \"    # \" + c;\n        return `${this.opcode} ${this.args.join(\" \")}    ${this.char || \"\"}   ${c}`;\n    }\n}\nexport class Thread {\n    constructor(offset = 0, gen = 0) {\n        this.offset = offset;\n        this.gen = gen;\n        this.parentId = -1;\n        this.id = 0;\n        this.priority = 0;\n        this.groups = [];\n        this.positions = [];\n        this.registers = {};\n    }\n    regIncr(regId) {\n        if (!(regId in this.registers)) {\n            throw new Error(`Register at offset ${regId} is invalid`);\n        }\n        this.registers[regId]++;\n    }\n    regAcquire(regId) {\n        if (regId in this.registers) {\n            throw new Error(`Register at offset ${regId} already acquired.  Release it first`);\n        }\n        this.registers[regId] = 0;\n    }\n    regRelease(regId) {\n        if (!(regId in this.registers)) {\n            throw new Error(`Register at offset ${regId} is invalid`);\n        }\n        delete this.registers[regId];\n    }\n    regValue(regId) {\n        if (!(regId in this.registers)) {\n            throw new Error(`Register at offset ${regId} is invalid`);\n        }\n        return this.registers[regId];\n    }\n}\nexport class VM {\n    getState() {\n        return this.currState;\n    }\n    setState(state) {\n        this.currState = state;\n    }\n    constructor(prog, start = 0, end = -1, forward = true, configs = {}) {\n        this.prog = prog;\n        this.start = start;\n        this.end = end;\n        this.forward = forward;\n        this.threadCounter = 0;\n        this.currThreads = [];\n        this.nextThreads = [];\n        this.startPos = 0;\n        this.currState = 0;\n        this.gen = 0;\n        this.genForOffset = {};\n        if (end < 0) {\n            end = prog.length - 1;\n        }\n        this.end = end;\n    }\n    savePosition(thread, pos, tapeIndex) {\n        while (thread.positions.length <= pos)\n            thread.positions.push(-1);\n        thread.positions[pos] = tapeIndex;\n    }\n    jumpBy(thread, delta = 1) {\n        return this.jumpTo(thread, thread.offset + delta);\n    }\n    jumpTo(thread, newOffset) {\n        const out = new Thread(newOffset, this.gen);\n        out.id = thread.id;\n        out.parentId = thread.parentId;\n        out.priority = thread.priority;\n        out.positions = thread.positions;\n        out.groups = thread.groups;\n        out.registers = thread.registers;\n        return out;\n    }\n    forkTo(thread, newOffset) {\n        const out = new Thread(newOffset, this.gen);\n        out.id = ++this.threadCounter;\n        out.parentId = thread.id;\n        out.priority = thread.priority;\n        out.positions = [...thread.positions];\n        out.groups = [...thread.groups];\n        out.registers = { ...thread.registers };\n        return out;\n    }\n    startGroup(thread, groupIndex, tapeIndex) {\n        const newThread = this.forkTo(thread, thread.offset + 1);\n        newThread.groups.push([groupIndex, tapeIndex]);\n        return newThread;\n    }\n    endGroup(thread, groupIndex, tapeIndex) {\n        const newThread = this.forkTo(thread, thread.offset + 1);\n        newThread.groups.push([-groupIndex, tapeIndex]);\n        return newThread;\n    }\n    addThread(thread, list, tape, delta = 0) {\n        if (thread.offset < this.start ||\n            thread.offset > this.end ||\n            this.genForOffset[thread.offset - this.start] == this.gen) {\n            return;\n        }\n        this.genForOffset[thread.offset - this.start] = this.gen;\n        const instr = this.prog.instrs[thread.offset];\n        let nextCh;\n        let lastCh;\n        let newThread;\n        const opcode = instr.opcode;\n        switch (opcode) {\n            case OpCode.Jump:\n                newThread = this.jumpTo(thread, instr.args[0]);\n                this.addThread(newThread, list, tape, delta);\n                break;\n            case OpCode.Split:\n                for (let j = 0; j < instr.args.length; j++) {\n                    const newOff = instr.args[j];\n                    const newThread = j == 0 ? this.jumpTo(thread, newOff) : this.forkTo(thread, newOff);\n                    this.addThread(newThread, list, tape, delta);\n                }\n                break;\n            case OpCode.Save:\n                newThread = this.jumpTo(thread, thread.offset + 1);\n                this.savePosition(newThread, instr.args[0], tape.index + delta);\n                if (this.tracer)\n                    this.tracer.threadQueued(thread, tape.index + delta);\n                this.addThread(newThread, list, tape, delta);\n                break;\n            case OpCode.GroupStart:\n                newThread = this.startGroup(thread, instr.args[0], tape.index + delta);\n                if (this.tracer)\n                    this.tracer.threadQueued(thread, tape.index + delta);\n                this.addThread(newThread, list, tape, delta);\n                break;\n            case OpCode.GroupEnd:\n                newThread = this.endGroup(thread, instr.args[0], tape.index + delta);\n                if (this.tracer)\n                    this.tracer.threadQueued(thread, tape.index + delta);\n                this.addThread(newThread, list, tape, delta);\n                break;\n            case OpCode.StartingChar:\n            case OpCode.MLStartingChar:\n                lastCh = this.prevCh(tape);\n                if (tape.index == 0 || (opcode == OpCode.MLStartingChar && isNewLineChar(lastCh))) {\n                    this.addThread(this.jumpBy(thread, 1), list, tape, delta);\n                }\n                break;\n            case OpCode.EndingChar:\n            case OpCode.MLEndingChar:\n                nextCh = this.nextCh(tape);\n                if (nextCh == \"\" || (opcode == OpCode.MLEndingChar && isNewLineChar(nextCh))) {\n                    this.addThread(this.jumpBy(thread, 1), list, tape, delta);\n                }\n                break;\n            case OpCode.StartOfWord:\n                break;\n            case OpCode.EndOfWord:\n                break;\n            case OpCode.RBegin:\n                {\n                    const [groupIndex, negate, end] = instr.args;\n                    const pos = (1 + groupIndex) * 2;\n                    const groupStart = thread.positions[pos];\n                    const [matchSuccess, matchEnd] = this.recurseMatch(tape, groupStart - 1, instr.offset + 1, end, false, negate == 1);\n                    if (matchSuccess) {\n                        this.addThread(this.jumpTo(thread, end + 1), list, tape, delta);\n                    }\n                }\n                break;\n            case OpCode.Begin:\n                const [consume, negate, end] = instr.args;\n                if (consume == 1) {\n                    if (this.tracer)\n                        this.tracer.threadQueued(thread, tape.index);\n                    list.push(thread);\n                }\n                else {\n                    const [matchSuccess, matchEnd] = this.recurseMatch(tape, tape.index + 1, instr.offset + 1, end, true, negate == 1);\n                    if (matchSuccess) {\n                        this.addThread(this.jumpTo(thread, end + 1), list, tape, delta);\n                    }\n                }\n                break;\n            case OpCode.EnsureState:\n                const states = instr.args;\n                for (const state of states) {\n                    if (this.currState == state) {\n                        this.addThread(this.jumpBy(thread, 1), list, tape, delta);\n                        break;\n                    }\n                }\n                break;\n            default:\n                if (this.tracer)\n                    this.tracer.threadQueued(thread, tape.index);\n                list.push(thread);\n                break;\n        }\n    }\n    matchCurrPos(tape, char, ignoreCase = false) {\n        if (ignoreCase) {\n            return char.match(tape.currChCodeLower) || char.match(tape.currChCodeUpper);\n        }\n        else {\n            return char.match(tape.currChCode);\n        }\n    }\n    hasMore(tape) {\n        return this.forward ? tape.hasMore : tape.index >= 0;\n    }\n    nextCh(tape) {\n        const next = tape.index + (this.forward ? 1 : -1);\n        return tape.charAt(next);\n    }\n    prevCh(tape) {\n        return tape.charAt(tape.index - (this.forward ? 1 : -1));\n    }\n    match(tape) {\n        if (this.end < this.start)\n            return null;\n        this.startMatching(tape);\n        let bestMatch = null;\n        while (this.currThreads.length > 0) {\n            bestMatch = this.stepChar(tape, bestMatch);\n        }\n        if (bestMatch != null)\n            tape.index = bestMatch.end;\n        return bestMatch;\n    }\n    recurseMatch(tape, tapeIndex, startOffset, endOffset, forward = true, negate = false) {\n        const savedPos = tape.index;\n        if (!tape.canAdvance(forward ? 1 : -1))\n            return [negate, -1];\n        tape.index = tapeIndex;\n        const vm = new VM(this.prog, startOffset, endOffset, forward);\n        const match = vm.match(tape);\n        const newPos = tape.index;\n        tape.index = savedPos;\n        return [(match != null && !negate) || (match == null && negate), newPos];\n    }\n    startMatching(tape) {\n        this.currThreads = [];\n        this.nextThreads = [];\n        this.gen++;\n        this.addThread(new Thread(this.start, this.gen), this.currThreads, tape);\n        this.startPos = tape.index;\n    }\n    stepChar(tape, currMatch = null) {\n        this.gen++;\n        for (let i = 0; i < this.currThreads.length; i++) {\n            const thread = this.currThreads[i];\n            const nextMatch = this.stepThread(tape, thread);\n            if (nextMatch != null) {\n                if (currMatch == null ||\n                    nextMatch.priority > currMatch.priority ||\n                    (nextMatch.priority == currMatch.priority && nextMatch.end > currMatch.end)) {\n                    currMatch = nextMatch;\n                    break;\n                }\n                else if (currMatch != nextMatch) {\n                }\n            }\n        }\n        if (this.hasMore(tape)) {\n            tape.advance(this.forward ? 1 : -1);\n        }\n        this.currThreads = this.nextThreads;\n        this.nextThreads = [];\n        return currMatch;\n    }\n    stepThread(tape, thread) {\n        if (this.tracer)\n            this.tracer.threadStepped(thread, tape.index, this.gen);\n        let currMatch = null;\n        const instrs = this.prog.instrs;\n        const instr = instrs[thread.offset];\n        const opcode = instr.opcode;\n        const args = instr.args;\n        const delta = this.forward ? 1 : -1;\n        let advanceTape = false;\n        let ch;\n        switch (opcode) {\n            case OpCode.RBegin:\n                throw new Error(\"Invalid state.  Reverse matches must be handled in addThread\");\n                break;\n            case OpCode.Begin:\n                const [consume, negate, end] = instr.args;\n                TSU.assert(consume == 1, \"Plain lookahead cannot be here\");\n                const [matchSuccess, matchEnd] = this.recurseMatch(tape, tape.index, instr.offset + 1, end, true, negate == 1);\n                if (matchSuccess) {\n                    this.addThread(this.jumpTo(thread, end + 1), this.nextThreads, tape);\n                }\n                break;\n            case OpCode.End:\n                const out = new Match(-1, -1, this.startPos, tape.index);\n                out.groups = thread.groups;\n                out.positions = thread.positions;\n                return out;\n                break;\n            case OpCode.Match:\n                if (tape.index > this.startPos) {\n                    const currPriority = instr.args[0];\n                    const matchIndex = instr.args[1];\n                    currMatch = new Match();\n                    currMatch.start = this.startPos;\n                    currMatch.end = tape.index;\n                    currMatch.priority = currPriority;\n                    currMatch.matchIndex = matchIndex;\n                    currMatch.groups = thread.groups;\n                    currMatch.positions = thread.positions;\n                }\n                break;\n            case OpCode.Char:\n            case OpCode.CIChar:\n                if (this.hasMore(tape)) {\n                    advanceTape = this.matchCurrPos(tape, instr.char, opcode == OpCode.CIChar);\n                }\n                break;\n            case OpCode.AnyNonNL:\n            case OpCode.Any:\n                if (this.hasMore(tape)) {\n                    advanceTape = opcode == OpCode.Any || !isNewLineChar(tape.currCh);\n                }\n                break;\n        }\n        if (advanceTape) {\n            this.addThread(this.jumpBy(thread, 1), this.nextThreads, tape, delta);\n        }\n        return currMatch;\n    }\n}\nexport function InstrDebugValue(instr) {\n    switch (instr.opcode) {\n        case OpCode.Match:\n            return `Match ${instr.args[0]} ${instr.args[1]}`;\n        case OpCode.Char:\n        case OpCode.CIChar: {\n            let out = `${OpCode[instr.opcode].toString()} `;\n            out += `${instr.char.debugValue()}`;\n            return out;\n        }\n        case OpCode.Any:\n            return \".\";\n        case OpCode.AnyNonNL:\n            return \"NL.\";\n        case OpCode.StartingChar:\n            return \"^\";\n        case OpCode.MLStartingChar:\n            return \"NL^\";\n        case OpCode.EndingChar:\n            return \"$NL\";\n        case OpCode.MLEndingChar:\n            return \"$NL_MultiLine\";\n        case OpCode.Save:\n            return `Save ${instr.args[0]}`;\n        case OpCode.GroupStart:\n            return `GroupStart ${instr.args[0]}`;\n        case OpCode.GroupEnd:\n            return `GroupEnd ${instr.args[0]}`;\n        case OpCode.Split:\n            return `Split ${instr.args.join(\", \")}`;\n        case OpCode.Jump:\n            return `Jump ${instr.args[0]}`;\n        case OpCode.Begin:\n            return `Begin ${instr.args.join(\" \")}`;\n        case OpCode.RBegin:\n            return `RBegin ${instr.args.join(\" \")}`;\n        case OpCode.End:\n            return `End ${instr.args.join(\" \")}`;\n        case OpCode.EnsureState:\n            return `EnsureState ${instr.args.join(\" \")}`;\n        default:\n            throw new Error(\"Invalid Opcode: \" + instr.opcode);\n    }\n}\n//# sourceMappingURL=vm.js.map","import * as TSU from \"@panyam/tsutils\";\nimport { RegexType, CharType, } from \"./core\";\nimport { OpCode, Prog, Instr } from \"./vm\";\nexport class Compiler {\n    constructor(regexResolver, listener = null) {\n        this.regexResolver = regexResolver;\n        this.listener = listener;\n        this.emitGroups = false;\n        this.emitPosition = true;\n    }\n    compile(rules) {\n        const out = new Prog();\n        const split = rules.length <= 1 ? new Instr(OpCode.Split) : out.add(OpCode.Split, null);\n        rules.forEach((rule, i) => {\n            split.add(out.instrs.length);\n            const ignoreCase = rule.expr.ignoreCase == null ? false : rule.expr.ignoreCase;\n            const dotAll = rule.expr.dotAll == null ? true : rule.expr.dotAll;\n            const multiline = rule.expr.multiline == null ? true : rule.expr.multiline;\n            if (rule.needsSpecificStates && rule.activeStates != null) {\n                const ensureInstr = out.add(OpCode.EnsureState, null);\n                rule.activeStates.forEach((state) => {\n                    const ind = out.registerState(state);\n                    ensureInstr.add(ind);\n                });\n            }\n            this.compileExpr(rule.expr, out, ignoreCase, dotAll, multiline);\n            out.add(OpCode.Match, null).add(rule.priority, rule.matchIndex >= 0 ? rule.matchIndex : i);\n        });\n        return out;\n    }\n    compileExpr(expr, prog, ignoreCase, dotAll, multiline) {\n        const start = prog.length;\n        const currOffset = prog.length;\n        if (expr.groupIndex >= 0) {\n            if (this.emitPosition)\n                prog.add(OpCode.Save).add((1 + expr.groupIndex) * 2);\n            if (this.emitGroups)\n                prog.add(OpCode.GroupStart).add(1 + expr.groupIndex);\n        }\n        if (expr.tag == RegexType.CHAR) {\n            this.compileChar(expr, prog, ignoreCase, dotAll, multiline);\n        }\n        else if (expr.tag == RegexType.START_OF_INPUT) {\n            const ml = expr.multiline == null ? multiline : expr.multiline;\n            prog.add(ml ? OpCode.MLStartingChar : OpCode.StartingChar);\n        }\n        else if (expr.tag == RegexType.END_OF_INPUT) {\n            const ml = expr.multiline == null ? multiline : expr.multiline;\n            prog.add(ml ? OpCode.MLEndingChar : OpCode.EndingChar);\n        }\n        else if (expr.tag == RegexType.START_OF_WORD) {\n            prog.add(OpCode.StartOfWord);\n        }\n        else if (expr.tag == RegexType.END_OF_WORD) {\n            prog.add(OpCode.EndOfWord);\n        }\n        else if (expr.tag == RegexType.CAT) {\n            this.compileCat(expr, prog, ignoreCase, dotAll, multiline);\n        }\n        else if (expr.tag == RegexType.UNION) {\n            this.compileUnion(expr, prog, ignoreCase, dotAll, multiline);\n        }\n        else if (expr.tag == RegexType.QUANT) {\n            this.compileQuant(expr, prog, ignoreCase, dotAll, multiline);\n        }\n        else if (expr.tag == RegexType.VAR) {\n            this.compileVar(expr, prog, ignoreCase, dotAll, multiline);\n        }\n        else if (expr.tag == RegexType.BACK_NAMED_REF) {\n            this.compileBackNamedRef(expr, prog, ignoreCase, dotAll, multiline);\n        }\n        else if (expr.tag == RegexType.BACK_NUM_REF) {\n            this.compileBackNumRef(expr, prog, ignoreCase, dotAll, multiline);\n        }\n        else if (expr.tag == RegexType.LOOK_AHEAD) {\n            this.compileLookAhead(expr, prog, ignoreCase, dotAll, multiline);\n        }\n        else if (expr.tag == RegexType.LOOK_BACK) {\n            this.compileLookBack(expr, prog, ignoreCase, dotAll, multiline);\n        }\n        else {\n            throw new Error(\"Regex Type not yet supported: \" + expr.tag);\n        }\n        if (expr.groupIndex >= 0) {\n            if (this.emitGroups)\n                prog.add(OpCode.GroupEnd).add(1 + expr.groupIndex);\n            if (this.emitPosition)\n                prog.add(OpCode.Save).add((1 + expr.groupIndex) * 2 + 1);\n        }\n        if (this.listener && prog.length > currOffset) {\n            this.listener(expr, prog, currOffset, prog.length - currOffset);\n        }\n        return prog.length - start;\n    }\n    compileChar(char, prog, ignoreCase, dotAll, multiline) {\n        if (char.op == CharType.AnyChar) {\n            prog.add(dotAll ? OpCode.Any : OpCode.AnyNonNL);\n        }\n        else {\n            const instr = prog.add(ignoreCase ? OpCode.CIChar : OpCode.Char);\n            instr.char = char;\n        }\n    }\n    compileCat(cat, prog, ignoreCase, dotAll, multiline) {\n        for (const child of cat.children) {\n            this.compileExpr(child, prog, ignoreCase, dotAll, multiline);\n        }\n    }\n    compileBackNumRef(ne, prog, ignoreCase, dotAll, multiline) {\n        throw new Error(\"BackNumRef Not Implemented\");\n    }\n    compileBackNamedRef(ne, prog, ignoreCase, dotAll, multiline) {\n        throw new Error(\"BackNameRef Not Implemented\");\n    }\n    compileVar(v, prog, ignoreCase, dotAll, multiline) {\n        const name = v.name.trim();\n        const expr = this.regexResolver ? this.regexResolver(name) : null;\n        if (expr == null) {\n            throw new Error(`Cannot find expression: ${name}`);\n        }\n        this.compileExpr(expr, prog, ignoreCase, dotAll, multiline);\n    }\n    compileUnion(union, prog, ignoreCase, dotAll, multiline) {\n        const split = prog.add(OpCode.Split);\n        const jumps = [];\n        for (let i = 0; i < union.options.length; i++) {\n            split.add(prog.length);\n            this.compileExpr(union.options[i], prog, ignoreCase, dotAll, multiline);\n            if (i < union.options.length - 1) {\n                jumps.push(prog.add(OpCode.Jump));\n            }\n        }\n        for (const jmp of jumps) {\n            jmp.add(prog.length);\n        }\n    }\n    compileQuant(quant, prog, ignoreCase, dotAll, multiline) {\n        if (quant.minCount == 0 && quant.maxCount == TSU.Constants.MAX_INT) {\n            this.compileAtleast0(quant.expr, prog, quant.greedy, ignoreCase, dotAll, multiline);\n        }\n        else if (quant.minCount == 1 && quant.maxCount == TSU.Constants.MAX_INT) {\n            this.compileAtleast1(quant.expr, prog, quant.greedy, ignoreCase, dotAll, multiline);\n        }\n        else if (quant.minCount == 0 && quant.maxCount == 1) {\n            this.compileOptional(quant.expr, prog, quant.greedy, ignoreCase, dotAll, multiline);\n        }\n        else {\n            for (let i = 0; i < quant.minCount; i++) {\n                this.compileExpr(quant.expr, prog, ignoreCase, dotAll, multiline);\n            }\n            if (quant.isUnlimited) {\n                this.compileAtleast0(quant.expr, prog, quant.greedy, ignoreCase, dotAll, multiline);\n            }\n            else {\n                for (let i = quant.minCount; i < quant.maxCount; i++) {\n                    this.compileOptional(quant.expr, prog, quant.greedy, ignoreCase, dotAll, multiline);\n                }\n            }\n        }\n    }\n    compileAtleast1(expr, prog, greedy = true, ignoreCase, dotAll, multiline) {\n        const l1 = prog.length;\n        this.compileExpr(expr, prog, ignoreCase, dotAll, multiline);\n        const split = prog.add(OpCode.Split);\n        const l3 = prog.length;\n        if (greedy) {\n            split.add(l1, l3);\n        }\n        else {\n            split.add(l3, l1);\n        }\n    }\n    compileAtleast0(expr, prog, greedy, ignoreCase, dotAll, multiline) {\n        const split = prog.add(OpCode.Split);\n        const l1 = split.offset;\n        const l2 = prog.length;\n        this.compileExpr(expr, prog, ignoreCase, dotAll, multiline);\n        prog.add(OpCode.Jump).add(l1);\n        const l3 = prog.length;\n        if (greedy) {\n            split.add(l2, l3);\n        }\n        else {\n            split.add(l3, l2);\n        }\n    }\n    compileOptional(expr, prog, greedy, ignoreCase, dotAll, multiline) {\n        const split = prog.add(OpCode.Split);\n        const l1 = prog.length;\n        this.compileExpr(expr, prog, ignoreCase, dotAll, multiline);\n        const l2 = prog.length;\n        if (greedy) {\n            split.add(l1, l2);\n        }\n        else {\n            split.add(l2, l1);\n        }\n    }\n    compileLookAhead(la, prog, ignoreCase, dotAll, multiline) {\n        this.compileExpr(la.expr, prog, ignoreCase, dotAll, multiline);\n        const begin = prog.add(OpCode.Begin).add(0, la.negate ? 1 : 0);\n        this.compileExpr(la.cond, prog, ignoreCase, dotAll, multiline);\n        const end = prog.add(OpCode.End).add(begin.offset);\n        begin.add(end.offset);\n    }\n    compileLookBack(lb, prog, ignoreCase, dotAll, multiline) {\n        this.compileExpr(lb.expr, prog, ignoreCase, dotAll, multiline);\n        TSU.assert(lb.expr.groupIndex >= 0, \"LookBack Assertion requires expression to have a group Index\");\n        const begin = prog.add(OpCode.RBegin).add(lb.expr.groupIndex, lb.negate ? 1 : 0);\n        this.compileExpr(lb.cond.reverse(), prog, ignoreCase, dotAll, multiline);\n        const end = prog.add(OpCode.End).add(begin.offset);\n        begin.add(end.offset);\n    }\n}\n//# sourceMappingURL=compiler.js.map","export class TokenizerError extends Error {\n    constructor(message, offset, length, type, value = null) {\n        super(message);\n        this.offset = offset;\n        this.length = length;\n        this.type = type;\n        this.value = value;\n        this.name = \"TokenizerError\";\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nexport class UnexpectedTokenError extends Error {\n    constructor(foundToken, ...expectedTokens) {\n        super(`Found Token: ${foundToken?.tag || \"EOF\"} (${foundToken?.value || \"\"}), Expected: ${expectedTokens.join(\", \")}`);\n        this.foundToken = foundToken;\n        this.name = \"UnexpectedTokenError\";\n        this.expectedTokens = expectedTokens;\n    }\n}\n//# sourceMappingURL=errors.js.map","export class TapeInterface {\n    constructor(forward = true) {\n        this.forward = forward;\n        this.index = 0;\n    }\n    advance(delta = 1) {\n        const next = this.forward ? this.index + delta : this.index - delta;\n        this.index = next;\n        return true;\n    }\n    canAdvance(delta = 1) {\n        const next = this.forward ? this.index + delta : this.index - delta;\n        return this.hasIndex(next);\n    }\n    get hasMore() {\n        const next = this.forward ? this.index : this.index - 1;\n        return this.hasIndex(next);\n    }\n    get currCh() {\n        return this.charAt(this.index);\n    }\n    get prevCh() {\n        return this.charAt(this.index - (this.forward ? 1 : -1));\n    }\n    get nextCh() {\n        const next = this.index + (this.forward ? 1 : -1);\n        return this.charAt(next);\n    }\n    get currChCode() {\n        if (!this.hasMore)\n            return -1;\n        return this.currCh.charCodeAt(0);\n    }\n    get currChCodeLower() {\n        if (!this.hasMore)\n            return -1;\n        return this.currCh.toLowerCase().charCodeAt(0);\n    }\n    get currChCodeUpper() {\n        if (!this.hasMore)\n            return -1;\n        return this.currCh.toUpperCase().charCodeAt(0);\n    }\n    charCodeAt(index) {\n        if (!this.hasIndex(index))\n            return -1;\n        return this.charAt(index).charCodeAt(0);\n    }\n    charCodeAtLower(index) {\n        if (!this.hasIndex(index))\n            return -1;\n        return this.charAt(index).toLowerCase().charCodeAt(0);\n    }\n    charCodeAtUpper(index) {\n        if (!this.hasIndex(index))\n            return -1;\n        return this.charAt(index).toUpperCase().charCodeAt(0);\n    }\n}\nexport class Tape extends TapeInterface {\n    constructor(input, forward = true) {\n        super(forward);\n        this.forward = forward;\n        this._rawInput = input;\n        this.input = [...input];\n    }\n    push(content) {\n        this._rawInput += content;\n        this.input.push(...content);\n    }\n    substring(startIndex, endIndex) {\n        return this._rawInput.substring(startIndex, endIndex);\n    }\n    hasIndex(index) {\n        return index >= 0 && index < this.input.length;\n    }\n    charAt(index) {\n        if (index < 0 || index >= this.input.length)\n            return \"\";\n        return this.input[index];\n    }\n}\nexport class TapeHelper {\n    static advanceAfter(tape, pattern, ensureNoPrefixSlash = true) {\n        let pos = TapeHelper.advanceTo(tape, pattern, ensureNoPrefixSlash);\n        if (pos >= 0) {\n            pos += pattern.length;\n            tape.index = pos;\n        }\n        return pos;\n    }\n    static advanceTo(tape, pattern, ensureNoPrefixSlash = true) {\n        const lastIndex = tape.index;\n        while (tape.hasMore) {\n            const currStart = tape.index;\n            if (TapeHelper.matches(tape, pattern)) {\n                const endIndex = tape.index;\n                tape.index = currStart;\n                let numSlashes = 0;\n                if (ensureNoPrefixSlash) {\n                    for (let i = endIndex - 1; i >= 0; i--) {\n                        if (tape.charAt(i) == \"\\\\\")\n                            numSlashes++;\n                        else\n                            break;\n                    }\n                }\n                if (numSlashes % 2 == 0) {\n                    return tape.index;\n                }\n            }\n            tape.advance(1);\n        }\n        tape.index = lastIndex;\n        throw new Error(`Unexpected end of input before (${pattern})`);\n        return -1;\n    }\n    static matches(tape, prefix, advance = true) {\n        const lastIndex = tape.index;\n        let i = 0;\n        let success = true;\n        for (; i < prefix.length; i++) {\n            if (prefix[i] != tape.currCh) {\n                success = false;\n                break;\n            }\n            tape.advance(1);\n        }\n        if (!advance || !success) {\n            tape.index = lastIndex;\n        }\n        return success;\n    }\n}\n//# sourceMappingURL=tape.js.map","import { TokenizerError, UnexpectedTokenError } from \"./errors\";\nexport class Token {\n    constructor(tag, matchIndex, start, end) {\n        this.tag = tag;\n        this.matchIndex = matchIndex;\n        this.start = start;\n        this.end = end;\n        this.id = Token.idCounter++;\n        this.value = null;\n        this.groups = {};\n        this.positions = {};\n        this.state = 0;\n        this.lookahead = 1;\n        this.lookback = 1;\n    }\n    isOneOf(...expected) {\n        for (const tok of expected) {\n            if (this.tag == tok) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\nToken.idCounter = 0;\nexport class TokenBuffer {\n    constructor(nextToken, tokenizerContext) {\n        this.nextToken = nextToken;\n        this.tokenizerContext = tokenizerContext;\n        this.buffer = [];\n    }\n    next(tape) {\n        const out = this.peek(tape);\n        if (out != null) {\n            this.consume();\n        }\n        return out;\n    }\n    peek(tape, nth = 0) {\n        while (this.buffer.length <= nth) {\n            const tok = this.nextToken(tape, this.tokenizerContext);\n            if (tok == null)\n                return null;\n            this.buffer.push(tok);\n        }\n        return this.buffer[nth];\n    }\n    match(tape, matchFunc, ensure = false, consume = true, nextAction) {\n        const token = this.peek(tape);\n        if (token != null) {\n            if (matchFunc(token)) {\n                if (nextAction && nextAction != null) {\n                    nextAction(token);\n                }\n                if (consume) {\n                    this.consume();\n                }\n            }\n            else if (ensure) {\n                throw new UnexpectedTokenError(token);\n            }\n            else {\n                return null;\n            }\n        }\n        else if (ensure) {\n            throw new TokenizerError(\"Unexpected end of input\", -1, 0, \"UnexpectedEndOfInput\");\n        }\n        return token;\n    }\n    consume() {\n        this.buffer.splice(0, 1);\n    }\n    consumeIf(tape, ...expected) {\n        return this.match(tape, (t) => t.isOneOf(...expected));\n    }\n    expectToken(tape, ...expected) {\n        return this.match(tape, (t) => t.isOneOf(...expected), true, true);\n    }\n    ensureToken(tape, ...expected) {\n        return this.match(tape, (t) => t.isOneOf(...expected), true, false);\n    }\n    nextMatches(tape, ...expected) {\n        const token = this.peek(tape);\n        if (token == null)\n            return null;\n        for (const tok of expected) {\n            if (token.tag == tok)\n                return token;\n        }\n        return null;\n    }\n}\n//# sourceMappingURL=token.js.map","export class GroupCounter {\n    constructor() {\n        this.value = -1;\n    }\n    next() {\n        return ++this.value;\n    }\n    get current() {\n        return this.value;\n    }\n}\nexport function isSpace(ch) {\n    return ch == \" \" || ch == \"\\t\" || ch == \"\\n\" || ch == \"\\r\";\n}\n//# sourceMappingURL=utils.js.map","import * as TSU from \"@panyam/tsutils\";\nimport { Quant, RegexType, StartOfInput, EndOfInput, Cat, LeafChar, CharGroup, CharType, Var, BackNamedRef, BackNumRef, LookAhead, LookBack, Union, } from \"./core\";\nimport { CharClassType } from \"./charclasses\";\nimport { GroupCounter } from \"./utils\";\nexport class RegexParser {\n    constructor(pattern, config) {\n        this.pattern = pattern;\n        this.counter = new GroupCounter();\n        this.unicode = config?.unicode || false;\n    }\n    reduceLeft(stack) {\n        const r = stack.length == 1 ? stack[0] : new Cat(...stack);\n        stack.splice(0);\n        return r;\n    }\n    throwError(msg) {\n        throw new SyntaxError(`Error in JS RE '${this.pattern}': ${msg}`);\n    }\n    parse(curr = 0, end = -1) {\n        const pattern = this.pattern;\n        const stack = [];\n        if (end < 0)\n            end = pattern.length - 1;\n        while (curr <= end) {\n            const currCh = pattern[curr];\n            if (currCh == \".\") {\n                stack.push(LeafChar.Any());\n                curr++;\n            }\n            else if (currCh == \"\\\\\" && pattern[curr + 1] >= \"1\" && pattern[curr + 1] <= \"9\") {\n                curr++;\n                let num = \"\";\n                while (curr <= end && pattern[curr] >= \"0\" && pattern[curr] <= \"9\") {\n                    num = num + pattern[curr++];\n                }\n                const refNum = parseInt(num);\n                if (refNum > this.counter.current + 1) {\n                    this.throwError(\"Invalid reference: \" + refNum);\n                }\n                stack.push(new BackNumRef(refNum));\n            }\n            else if (currCh == \"\\\\\" && pattern[curr + 1] == \"k\" && pattern[curr + 2] == \"<\") {\n                curr += 3;\n                let gtPos = curr;\n                while (gtPos <= end && pattern[gtPos] != \">\")\n                    gtPos++;\n                if (gtPos > end)\n                    this.throwError(\"Expected '>' found EOI\");\n                const name = pattern.substring(curr, gtPos);\n                if (name.trim() == \"\") {\n                    this.throwError(\"Expected name\");\n                }\n                stack.push(new BackNamedRef(name));\n                curr = gtPos + 1;\n            }\n            else if (currCh == \"[\") {\n                let clPos = curr + 1;\n                while (clPos <= end && pattern[clPos] != \"]\") {\n                    if (pattern[clPos] == \"\\\\\")\n                        clPos++;\n                    clPos++;\n                }\n                if (clPos > end)\n                    this.throwError(\"Expected ']' found EOI\");\n                stack.push(this.parseCharGroup(curr + 1, clPos - 1));\n                curr = clPos + 1;\n            }\n            else if (currCh == \"^\") {\n                stack.push(new StartOfInput());\n                curr++;\n            }\n            else if (currCh == \"$\") {\n                stack.push(new EndOfInput());\n                curr++;\n            }\n            else if (currCh == \"|\") {\n                if (curr + 1 <= end) {\n                    const prev = this.reduceLeft(stack);\n                    const rest = this.parse(curr + 1, end);\n                    return new Union(prev, rest);\n                }\n                curr = end + 1;\n            }\n            else if (currCh == \"(\") {\n                curr = this.parseGroup(stack, curr, end);\n            }\n            else if (currCh == \")\" || currCh == \"]\" || currCh == \"}\") {\n                this.throwError(`Unmatched ${currCh}.  Try using \\\\${currCh}`);\n            }\n            else if (pattern[curr] == \"*\" || pattern[curr] == \"?\" || pattern[curr] == \"+\" || pattern[curr] == \"{\") {\n                curr = this.parseQuant(stack, curr, end);\n            }\n            else {\n                const [result, nchars] = this.parseChar(curr, end);\n                stack.push(result);\n                curr += nchars;\n            }\n        }\n        if (stack.length <= 0) {\n        }\n        if (stack.length == 1)\n            return stack[0];\n        return new Cat(...stack);\n    }\n    parseGroup(stack, curr, end) {\n        let clPos = curr + 1;\n        let depth = 0;\n        const pattern = this.pattern;\n        while (clPos <= end && (pattern[clPos] != \")\" || depth > 0)) {\n            if (pattern[clPos] == \"(\")\n                depth++;\n            else if (pattern[clPos] == \")\")\n                depth--;\n            if (pattern[clPos] == \"\\\\\")\n                clPos++;\n            clPos++;\n        }\n        if (clPos > end)\n            this.throwError(\"Expected ')' found EOI\");\n        curr++;\n        if (pattern[curr] == \"?\") {\n            curr++;\n            if (pattern[curr] == \":\") {\n                stack.push(this.parse(curr + 1, clPos - 1));\n            }\n            else if (pattern[curr] == \"<\" && pattern[curr + 1] != \"!\" && pattern[curr + 1] != \"=\") {\n                const groupIndex = this.counter.next();\n                let groupName = \"\";\n                let gtPos = curr + 1;\n                while (gtPos <= end && pattern[gtPos] != \">\") {\n                    groupName += pattern[gtPos];\n                    gtPos++;\n                }\n                const subExpr = this.parse(gtPos + 1, clPos - 1);\n                subExpr.groupIndex = groupIndex;\n                if (groupName.length > 0)\n                    subExpr.groupName = groupName;\n            }\n            else {\n                let after = true;\n                if (pattern[curr] == \"<\") {\n                    curr++;\n                    after = false;\n                }\n                const neg = pattern[curr++] == \"!\";\n                const cond = this.parse(curr, clPos - 1);\n                if (after) {\n                    if (stack.length == 0) {\n                    }\n                    const expr = new LookAhead(this.reduceLeft(stack), cond, neg);\n                    stack.push(expr);\n                }\n                else {\n                    const rest = this.parse(clPos + 1, end);\n                    if (rest.groupIndex < 0) {\n                        rest.groupIndex = this.counter.next();\n                        rest.groupIsSilent = true;\n                    }\n                    stack.push(new LookBack(rest, cond, neg));\n                    return end + 1;\n                }\n            }\n        }\n        else {\n            const groupIndex = this.counter.next();\n            let neg = false;\n            if (pattern[curr] == \"^\") {\n                neg = true;\n                curr++;\n            }\n            let subExpr = this.parse(curr, clPos - 1);\n            if (subExpr.groupIndex >= 0) {\n                subExpr = new Cat(subExpr);\n            }\n            subExpr.groupIndex = groupIndex;\n            stack.push(subExpr);\n        }\n        return clPos + 1;\n    }\n    parseCharGroup(curr, end) {\n        const out = [];\n        let i = curr;\n        let neg = false;\n        const pattern = this.pattern;\n        if (pattern[i] == \"^\") {\n            neg = true;\n            i++;\n        }\n        for (; i <= end;) {\n            const [currch, nchars] = this.parseChar(i, end);\n            i += nchars;\n            if (i < pattern.length && pattern[i] == \"-\") {\n                i++;\n                if (pattern[i] == \"]\" || pattern[i] == \"[\") {\n                    out.push(currch);\n                    out.push(LeafChar.Single(\"-\"));\n                }\n                else if (i <= end) {\n                    const [endch, nchars] = this.parseChar(i, end);\n                    if (currch.op != CharType.SingleChar || endch.op != CharType.SingleChar) {\n                        this.throwError(\"Char range cannot start or end in a char class\");\n                    }\n                    if (endch.args[0] < currch.args[0]) {\n                        this.throwError(\"End cannot be less than start\");\n                    }\n                    out.push(CharGroup.Range(currch, endch));\n                    i += nchars;\n                }\n                else {\n                    this.throwError(\"Unterminated char class\");\n                }\n            }\n            else {\n                out.push(currch);\n            }\n        }\n        return CharGroup.Union(neg, out);\n    }\n    parseChar(index = 0, end = 0) {\n        if (this.pattern[index] == \"\\\\\") {\n            return this.parseEscapeChar(index, end);\n        }\n        else {\n            return this.parseSingleChar(index, end);\n        }\n    }\n    parseSingleChar(index = 0, end = 0) {\n        const ch = this.pattern.charCodeAt(index);\n        return [LeafChar.Single(ch), 1];\n    }\n    parsePropertyEscape(index = 0, end = 0) {\n        const pattern = this.pattern;\n        if (pattern[index] + 1 != \"{\") {\n            this.throwError(\"Invalid property escape\");\n        }\n        index += 2;\n        let clEnd = index;\n        let eqPos = -1;\n        while (clEnd <= end && pattern[clEnd] != \"}\") {\n            if (pattern[clEnd] == \"=\")\n                eqPos = clEnd;\n            clEnd++;\n        }\n        if (clEnd > end) {\n            this.throwError(\"Invalid property escape\");\n        }\n        const propStr = pattern.substring(index, clEnd);\n        let propName = \"General_Category\";\n        let propValue = propStr;\n        if (eqPos >= 0) {\n            const parts = propStr.split(\"=\");\n            if (parts.length != 2)\n                this.throwError(\"Invalid property escape\");\n            propName = parts[0].trim();\n            propValue = parts[1].trim();\n        }\n        return [LeafChar.PropertyEscape(propName, propValue), 2 + clEnd + 1 - index];\n    }\n    parseEscapeChar(index = 0, end = 0) {\n        const pattern = this.pattern;\n        TSU.assert(pattern[index] == \"\\\\\", \"Expected '\\\\'\");\n        index++;\n        if (index > end) {\n            this.throwError(\"Encounted unexpected end of input after \\\\\");\n        }\n        const ch = pattern[index];\n        if ((this.unicode && ch == \"p\") || ch == \"P\") {\n            return this.parsePropertyEscape(index, end);\n        }\n        switch (ch) {\n            case \"w\":\n                return [LeafChar.Class(CharClassType.WORD_CHAR), 2];\n            case \"W\":\n                return [LeafChar.Class(CharClassType.WORD_CHAR, true), 2];\n            case \"d\":\n                return [LeafChar.Class(CharClassType.DIGITS), 2];\n            case \"D\":\n                return [LeafChar.Class(CharClassType.DIGITS, true), 2];\n            case \"s\":\n                return [LeafChar.Class(CharClassType.SPACES), 2];\n            case \"S\":\n                return [LeafChar.Class(CharClassType.SPACES, true), 2];\n            case \"0\":\n                if (pattern[index + 1] >= \"0\" && pattern[index + 1] <= \"9\" && this.unicode) {\n                    this.throwError(\"Invalid decimal escape\");\n                }\n                return [LeafChar.Single(\"\\0\"), 2];\n            case \"r\":\n                return [LeafChar.Single(\"\\r\"), 2];\n            case \"n\":\n                return [LeafChar.Single(\"\\n\"), 2];\n            case \"f\":\n                return [LeafChar.Single(\"\\f\"), 2];\n            case \"b\":\n                return [LeafChar.Single(\"\\b\"), 2];\n            case \"v\":\n                return [LeafChar.Single(\"\\v\"), 2];\n            case \"t\":\n                return [LeafChar.Single(\"\\t\"), 2];\n            case \"c\":\n                if (this.unicode || index >= end) {\n                    this.throwError(`Invalid char sequence at ${index}, ${end}`);\n                }\n                const next = pattern.charCodeAt(index + 1) % 32;\n                return [LeafChar.Single(next), 3];\n            case \"x\":\n                index++;\n                if (index >= end) {\n                    this.throwError(`Invalid hex sequence at ${index}, ${end}`);\n                }\n                const hexSeq = pattern.substring(index, index + 2);\n                const hexVal = parseInt(hexSeq, 16);\n                TSU.assert(!isNaN(hexVal), `Invalid hex sequence: '${hexSeq}'`);\n                return [LeafChar.Single(hexVal), 4];\n            case \"u\":\n                index++;\n                if (index > end - 3) {\n                    this.throwError(`Invalid unicode sequence at ${index}`);\n                }\n                const ucodeSeq = pattern.substring(index, index + 4);\n                const ucodeVal = parseInt(ucodeSeq, 16);\n                if (isNaN(ucodeVal)) {\n                    this.throwError(`Invalid unicode sequence: '${ucodeSeq}'`);\n                }\n                return [LeafChar.Single(ucodeVal), 6];\n            case \"^\":\n            case \"$\":\n            case \".\":\n            case \"*\":\n            case \"+\":\n            case \"?\":\n            case \"\\\\\":\n            case \"'\":\n            case '\"':\n            case \"(\":\n            case \")\":\n            case \"[\":\n            case \"]\":\n            case \"{\":\n            case \"}\":\n            case \"|\":\n            case \"/\":\n                return [LeafChar.Single(ch), 2];\n            default:\n                if (this.unicode)\n                    this.throwError(\"Invalid escape character: \" + ch);\n                return [LeafChar.Single(ch), 2];\n        }\n    }\n    parseQuant(stack, curr, end) {\n        const pattern = this.pattern;\n        const lastCh = pattern[curr - 1];\n        let minCount = 1, maxCount = 1;\n        if (pattern[curr] == \"*\") {\n            minCount = 0;\n            maxCount = TSU.Constants.MAX_INT;\n        }\n        else if (pattern[curr] == \"+\") {\n            minCount = Math.min(minCount, 1);\n            maxCount = TSU.Constants.MAX_INT;\n        }\n        else if (pattern[curr] == \"?\") {\n            minCount = 0;\n            maxCount = Math.max(maxCount, 1);\n        }\n        else if (pattern[curr] == \"{\") {\n            const clPos = pattern.indexOf(\"}\", curr + 1);\n            if (clPos <= curr || clPos > end) {\n                this.throwError(\"Unexpected end of input while looking for '}'\");\n            }\n            const sub = pattern.substring(curr + 1, clPos).trim();\n            const parts = sub.split(\",\").map((x) => parseInt(x.trim()));\n            curr = clPos;\n            if (parts.length == 1) {\n                if (isNaN(parts[0])) {\n                    if (sub.trim().length > 0) {\n                        stack.push(new Var(sub.trim()));\n                        return curr + 1;\n                    }\n                    else {\n                        this.throwError(`Invalid quantifier: /${sub}/`);\n                    }\n                }\n                minCount = maxCount = parts[0];\n            }\n            else if (parts.length == 2) {\n                minCount = isNaN(parts[0]) ? 0 : parts[0];\n                maxCount = isNaN(parts[1]) ? TSU.Constants.MAX_INT : parts[1];\n                if (minCount > maxCount) {\n                    this.throwError(`Invalid Quant /${sub}/: Min must be <= Max`);\n                }\n            }\n            else if (parts.length > 2) {\n                this.throwError(`Invalid quantifier spec: \"{${sub}}\"`);\n            }\n        }\n        else {\n            throw new Error(\"Here?\");\n        }\n        if (stack.length <= 0) {\n            this.throwError(\"Quantifier cannot appear before an expression\");\n        }\n        const last = stack[stack.length - 1];\n        if (last.tag == RegexType.QUANT && (lastCh == \"*\" || lastCh == \"?\" || lastCh == \"+\" || lastCh == \"}\")) {\n            this.throwError(\"Nothing to repeat\");\n        }\n        if (this.unicode && (last.tag == RegexType.LOOK_AHEAD || last.tag == RegexType.LOOK_BACK)) {\n            this.throwError(\"Cannot have quantifier on assertion in unicode mode\");\n        }\n        const quant = (stack[stack.length - 1] = new Quant(last));\n        quant.minCount = minCount;\n        quant.maxCount = maxCount;\n        curr++;\n        if (curr <= end && pattern[curr] == \"?\" && quant.greedy) {\n            curr++;\n            quant.greedy = false;\n        }\n        return curr;\n    }\n}\n//# sourceMappingURL=jsparser.js.map","import * as TSU from \"@panyam/tsutils\";\nimport { LookAhead, Quant, RegexType, StartOfInput, EndOfInput, Cat, CharType, LeafChar, CharGroup, Var, Union, } from \"./core\";\nimport { CharClassType } from \"./charclasses\";\nimport { GroupCounter, isSpace } from \"./utils\";\nfunction advanceIf(tape, ch) {\n    const pos = tape.index;\n    for (let i = 0; i < ch.length; i++) {\n        if (tape.currCh != ch.charAt(i)) {\n            tape.index = pos;\n            return false;\n        }\n        tape.advance(1);\n    }\n    return true;\n}\nexport class RegexParser {\n    constructor() {\n        this.counter = new GroupCounter();\n    }\n    parse(pattern, ignoreSpaces = false, obCount = 0) {\n        const stack = [];\n        while (pattern.hasMore) {\n            const currCh = pattern.currCh;\n            if (advanceIf(pattern, \".\")) {\n                stack.push(LeafChar.Any());\n            }\n            else if (advanceIf(pattern, \"^\")) {\n                const x = new StartOfInput();\n                x.multiline = true;\n                stack.push(x);\n            }\n            else if (advanceIf(pattern, \"$\")) {\n                const x = new EndOfInput();\n                x.multiline = true;\n                stack.push(x);\n            }\n            else if (advanceIf(pattern, \"|\")) {\n                const prev = this.reduceLeft(stack);\n                const rest = this.parse(pattern, ignoreSpaces, obCount);\n                return new Union(prev, rest);\n            }\n            else if (currCh == \"[\") {\n                stack.push(this.parseCharGroup(pattern));\n            }\n            else if (currCh == \"*\" || currCh == \"?\" || currCh == \"+\" || currCh == \"{\") {\n                this.parseQuant(pattern, stack);\n            }\n            else if (ignoreSpaces && isSpace(currCh)) {\n                pattern.advance(1);\n            }\n            else if (ignoreSpaces && advanceIf(pattern, \"/*\")) {\n                while (pattern.currCh != \"*\" || pattern.nextCh != \"/\") {\n                    if (!pattern.hasMore) {\n                        this.throwError(pattern, \"Unterminated comment\");\n                    }\n                    pattern.advance(1);\n                }\n                pattern.advance(2);\n            }\n            else if (advanceIf(pattern, \"{-}\")) {\n                throw new Error(\"Intersection Not yet supported\");\n            }\n            else if (advanceIf(pattern, \"{+}\")) {\n                throw new Error(\"Union Not yet supported\");\n            }\n            else if (advanceIf(pattern, \"(\")) {\n                if (advanceIf(pattern, \"?\")) {\n                    if (advanceIf(pattern, \"#\")) {\n                        while (pattern.hasMore && pattern.currCh != \")\")\n                            pattern.advance(1);\n                        TSU.assert(advanceIf(pattern, \")\"), \"Expected ')'\");\n                    }\n                    else {\n                        let ignoreCase = false;\n                        let dotAll = false;\n                        let ignoreSpaces2 = ignoreSpaces;\n                        let neg = false;\n                        while (pattern.hasMore && pattern.currCh != \":\") {\n                            if (pattern.currCh == \"i\") {\n                                ignoreCase = neg ? false : true;\n                            }\n                            else if (pattern.currCh == \"s\") {\n                                dotAll = neg ? false : true;\n                            }\n                            else if (pattern.currCh == \"x\") {\n                                ignoreSpaces2 = neg ? false : true;\n                            }\n                            else if (pattern.currCh == \"-\") {\n                                neg = true;\n                            }\n                            pattern.advance(1);\n                        }\n                        TSU.assert(advanceIf(pattern, \":\"), \"Expected ':'\");\n                        const groupIndex = this.counter.next();\n                        let subExpr = this.parse(pattern, ignoreSpaces2, obCount + 1);\n                        if (subExpr.groupIndex >= 0) {\n                            subExpr = new Cat(subExpr);\n                        }\n                        subExpr.dotAll = dotAll;\n                        subExpr.ignoreCase = ignoreCase;\n                        subExpr.groupIndex = groupIndex;\n                        stack.push(subExpr);\n                        TSU.assert(advanceIf(pattern, \")\"), \"Expected ')'\");\n                    }\n                }\n                else {\n                    const groupIndex = this.counter.next();\n                    let subExpr = this.parse(pattern, ignoreSpaces, obCount + 1);\n                    if (subExpr.groupIndex >= 0) {\n                        subExpr = new Cat(subExpr);\n                    }\n                    subExpr.groupIndex = groupIndex;\n                    stack.push(subExpr);\n                    TSU.assert(advanceIf(pattern, \")\"), \"Expected ')'\");\n                }\n            }\n            else if (currCh == \")\") {\n                if (obCount == 0) {\n                    this.throwError(pattern, `Unmatched ${currCh}.  Try using \\\\${currCh}`);\n                }\n                break;\n            }\n            else if (currCh == \"]\" || currCh == \"}\") {\n                this.throwError(pattern, `Unmatched ${currCh}.  Try using \\\\${currCh}`);\n            }\n            else if (advanceIf(pattern, \"/\")) {\n                const prev = this.reduceLeft(stack);\n                const rest = this.parse(pattern, ignoreSpaces, obCount);\n                return new LookAhead(prev, rest, false);\n            }\n            else if (advanceIf(pattern, '\"')) {\n                while (pattern.currCh != '\"') {\n                    if (!pattern.hasMore) {\n                        this.throwError(pattern, \"Unterminated string\");\n                    }\n                    stack.push(this.parseChar(pattern));\n                }\n                pattern.advance(1);\n            }\n            else {\n                stack.push(this.parseChar(pattern));\n            }\n        }\n        if (stack.length == 1)\n            return stack[0];\n        return new Cat(...stack);\n    }\n    parseQuant(pattern, stack) {\n        let minCount = 1, maxCount = 1;\n        if (advanceIf(pattern, \"*\")) {\n            minCount = 0;\n            maxCount = TSU.Constants.MAX_INT;\n        }\n        else if (advanceIf(pattern, \"+\")) {\n            minCount = Math.min(minCount, 1);\n            maxCount = TSU.Constants.MAX_INT;\n        }\n        else if (advanceIf(pattern, \"?\")) {\n            minCount = 0;\n            maxCount = Math.max(maxCount, 1);\n        }\n        else if (advanceIf(pattern, \"{\")) {\n            let foundComma = false;\n            let p1 = \"\";\n            let p2 = \"\";\n            while (pattern.hasMore && pattern.currCh != \"}\") {\n                if (pattern.currCh == \",\")\n                    foundComma = true;\n                else {\n                    if (!foundComma)\n                        p1 += pattern.currCh;\n                    else\n                        p2 += pattern.currCh;\n                }\n                pattern.advance(1);\n            }\n            if (!pattern.hasMore) {\n                this.throwError(pattern, \"Invalid property escape\");\n            }\n            p1 = p1.trim();\n            p2 = p2.trim();\n            pattern.advance(1);\n            const part1 = parseInt(p1);\n            const part2 = parseInt(p2);\n            if (foundComma) {\n                minCount = isNaN(part1) ? 0 : part1;\n                maxCount = isNaN(part2) ? TSU.Constants.MAX_INT : part2;\n                if (minCount > maxCount) {\n                    this.throwError(pattern, `Invalid Quant /${p1},${p2}/: Min must be <= Max`);\n                }\n            }\n            else {\n                if (isNaN(part1)) {\n                    if (p1.length > 0) {\n                        stack.push(new Var(p1));\n                        return;\n                    }\n                    else {\n                        this.throwError(pattern, `Invalid quantifier: /${p1}/`);\n                    }\n                    minCount = maxCount = 1;\n                }\n                else {\n                    minCount = maxCount = part1;\n                }\n            }\n        }\n        else {\n            this.throwError(pattern, \"Expected '{', '*', '?' or '+', Found: \" + pattern.currCh);\n        }\n        if (stack.length <= 0) {\n            this.throwError(pattern, \"Quantifier cannot appear before an expression\");\n        }\n        const last = stack[stack.length - 1];\n        let quant;\n        if (last.tag == RegexType.QUANT && last.groupIndex < 0) {\n            quant = last;\n            quant.minCount = Math.min(minCount, quant.minCount);\n            quant.maxCount = Math.max(maxCount, quant.maxCount);\n        }\n        else {\n            quant = stack[stack.length - 1] = new Quant(last);\n            quant.minCount = minCount;\n            quant.maxCount = maxCount;\n        }\n        if (quant.greedy && advanceIf(pattern, \"?\")) {\n            quant.greedy = false;\n        }\n    }\n    parseCharGroup(pattern) {\n        const out = [];\n        TSU.assert(advanceIf(pattern, \"[\"), \"Expected '['\");\n        const neg = advanceIf(pattern, \"^\");\n        while (pattern.currCh != \"]\") {\n            const currch = this.parseChar(pattern);\n            if (advanceIf(pattern, \"-\")) {\n                if (pattern.hasMore) {\n                    if (pattern.currCh == \"]\" || pattern.currCh == \"[\") {\n                        out.push(currch);\n                        out.push(LeafChar.Single(\"-\"));\n                    }\n                    else {\n                        const endch = this.parseChar(pattern);\n                        if (currch.op != CharType.SingleChar || endch.op != CharType.SingleChar) {\n                            this.throwError(pattern, \"Char range cannot start or end in a char class\");\n                        }\n                        if (endch.args[0] < currch.args[0]) {\n                            this.throwError(pattern, \"End cannot be less than start\");\n                        }\n                        out.push(CharGroup.Range(currch, endch));\n                    }\n                }\n                else {\n                    this.throwError(pattern, \"Unterminated char class\");\n                }\n            }\n            else {\n                out.push(currch);\n            }\n        }\n        TSU.assert(advanceIf(pattern, \"]\"), \"']' expected\");\n        return CharGroup.Union(neg, out);\n    }\n    parseChar(pattern) {\n        if (pattern.currCh == \"\\\\\") {\n            return this.parseEscapeChar(pattern);\n        }\n        else {\n            return this.parseSingleChar(pattern);\n        }\n    }\n    parseSingleChar(pattern) {\n        const ch = pattern.currCh;\n        pattern.advance(1);\n        return LeafChar.Single(ch);\n    }\n    parsePropertyEscape(pattern) {\n        TSU.assert(advanceIf(pattern, \"\\\\{\"), \"Invalid property escape\");\n        pattern.advance(2);\n        let foundEq = false;\n        let propName = \"\";\n        let propValue = \"\";\n        while (pattern.hasMore && pattern.currCh != \"}\") {\n            if (pattern.currCh == \"=\")\n                foundEq = true;\n            else {\n                if (!foundEq)\n                    propName += pattern.currCh;\n                else\n                    propValue += pattern.currCh;\n            }\n            pattern.advance(1);\n        }\n        if (!pattern.hasMore) {\n            this.throwError(pattern, \"Invalid property escape\");\n        }\n        propName = propName.trim();\n        propValue = propValue.trim();\n        if (!foundEq) {\n            propValue = propName;\n            propName = \"General_Category\";\n        }\n        pattern.advance(1);\n        return LeafChar.PropertyEscape(propName, propValue);\n    }\n    parseEscapeChar(pattern) {\n        TSU.assert(advanceIf(pattern, \"\\\\\"), \"Expected '\\\\'\");\n        if (!pattern.hasMore) {\n            this.throwError(pattern, \"Encounted unexpected end of input after \\\\\");\n        }\n        if (advanceIf(pattern, \"w\")) {\n            return LeafChar.Class(CharClassType.WORD_CHAR);\n        }\n        else if (advanceIf(pattern, \"W\")) {\n            return LeafChar.Class(CharClassType.WORD_CHAR, true);\n        }\n        else if (advanceIf(pattern, \"d\")) {\n            return LeafChar.Class(CharClassType.DIGITS);\n        }\n        else if (advanceIf(pattern, \"D\")) {\n            return LeafChar.Class(CharClassType.DIGITS, true);\n        }\n        else if (advanceIf(pattern, \"s\")) {\n            return LeafChar.Class(CharClassType.SPACES);\n        }\n        else if (advanceIf(pattern, \"S\")) {\n            return LeafChar.Class(CharClassType.SPACES, true);\n        }\n        else if (advanceIf(pattern, \"0\")) {\n            return LeafChar.Single(\"\\0\");\n        }\n        else if (advanceIf(pattern, \"r\")) {\n            return LeafChar.Single(\"\\r\");\n        }\n        else if (advanceIf(pattern, \"n\")) {\n            return LeafChar.Single(\"\\n\");\n        }\n        else if (advanceIf(pattern, \"f\")) {\n            return LeafChar.Single(\"\\f\");\n        }\n        else if (advanceIf(pattern, \"b\")) {\n            return LeafChar.Single(\"\\b\");\n        }\n        else if (advanceIf(pattern, \"v\")) {\n            return LeafChar.Single(\"\\v\");\n        }\n        else if (advanceIf(pattern, \"t\")) {\n            return LeafChar.Single(\"\\t\");\n        }\n        else if (advanceIf(pattern, \"\\\\\")) {\n            return LeafChar.Single(\"\\\\\");\n        }\n        else if (advanceIf(pattern, \"'\")) {\n            return LeafChar.Single(\"'\");\n        }\n        else if (advanceIf(pattern, '\"')) {\n            return LeafChar.Single('\"');\n        }\n        else if (advanceIf(pattern, \"x\")) {\n            if (!pattern.hasMore) {\n                this.throwError(pattern, `Invalid hex sequence at ${pattern.index}`);\n            }\n            const hexSeq = pattern.currCh + pattern.nextCh;\n            const hexVal = parseInt(hexSeq, 16);\n            TSU.assert(!isNaN(hexVal), `Invalid hex sequence: '${hexSeq}'`);\n            pattern.advance(2);\n            return LeafChar.Single(hexVal);\n        }\n        else if (advanceIf(pattern, \"u\")) {\n            if (!pattern.canAdvance(3)) {\n                this.throwError(pattern, `Invalid unicode sequence at ${pattern.index}`);\n            }\n            const ucodeSeq = pattern.substring(pattern.index, pattern.index + 4);\n            const ucodeVal = parseInt(ucodeSeq, 16);\n            if (isNaN(ucodeVal)) {\n                this.throwError(pattern, `Invalid unicode sequence: '${ucodeSeq}'`);\n            }\n            pattern.advance(4);\n            return LeafChar.Single(ucodeVal);\n        }\n        const ch = pattern.currCh;\n        pattern.advance(1);\n        return LeafChar.Single(ch);\n    }\n    reduceLeft(stack) {\n        const r = stack.length == 1 ? stack[0] : new Cat(...stack);\n        stack.splice(0);\n        return r;\n    }\n    throwError(pattern, msg) {\n        throw new Error(msg);\n    }\n}\n//# sourceMappingURL=flexparser.js.map","import { Rule, Regex } from \"./core\";\nimport { RegexParser as JSREParser } from \"./jsparser\";\nimport { RegexParser as FlexREParser } from \"./flexparser\";\nimport { Tape } from \"./tape\";\nexport function build(pattern, config) {\n    if (typeof pattern === \"string\") {\n        const rule = new Rule(exprFromJSRE(pattern, config), config);\n        rule.pattern = pattern;\n        return rule;\n    }\n    else if (pattern.constructor.name == \"RegExp\") {\n        const rule = new Rule(exprFromJSRE(pattern, config), config);\n        rule.pattern = pattern.source;\n        return rule;\n    }\n    else {\n        return new Rule(pattern, config);\n    }\n}\nexport function flatten(re, index = 0, rules) {\n    rules = rules || [];\n    if (typeof re === \"string\") {\n        rules.push(build(re, { tag: index }));\n    }\n    else if (re.constructor == RegExp) {\n        rules.push(build(re, { tag: index }));\n    }\n    else if (re.constructor == Rule) {\n        rules.push(re);\n    }\n    else if (re.constructor == Regex) {\n        rules.push(new Rule(re));\n    }\n    else {\n        const res = re;\n        for (let i = 0; i < res.length; i++) {\n            flatten(res[i], i, rules);\n        }\n    }\n    return rules;\n}\nexport function exprFromFlexRE(pattern) {\n    const parser = new FlexREParser();\n    try {\n        const expr = parser.parse(new Tape(pattern));\n        if (expr.dotAll == null)\n            expr.dotAll = false;\n        if (expr.multiline == null)\n            expr.multiline = false;\n        return expr;\n    }\n    catch (error) {\n        console.log(\"Error in FLEX RE: \", pattern);\n        throw error;\n    }\n}\nexport function exprFromJSRE(re, config) {\n    config = config || {};\n    const isRegExp = typeof re !== \"string\";\n    const pattern = typeof re === \"string\" ? re : re.source;\n    if (isRegExp)\n        config.unicode = re.unicode;\n    const expr = new JSREParser(pattern, config).parse();\n    if (typeof re !== \"string\") {\n        expr.dotAll = re.dotAll;\n        expr.ignoreCase = re.ignoreCase;\n        expr.multiline = re.multiline;\n    }\n    return expr;\n}\nexport function jsRE(strings, ...keys) {\n    const merged = String.raw(strings, ...keys);\n    return exprFromJSRE(merged);\n}\nexport function flexRE(strings, ...keys) {\n    const merged = String.raw(strings, ...keys);\n    return exprFromFlexRE(merged);\n}\n//# sourceMappingURL=builder.js.map","import { Union } from \"./core\";\nimport { VM } from \"./vm\";\nimport { Compiler } from \"./compiler\";\nimport { Tape as DefaultTape } from \"./tape\";\nimport { TokenizerError } from \"./errors\";\nimport * as Builder from \"./builder\";\nimport { Token } from \"./token\";\nexport function toToken(tag, m, tape) {\n    const out = new Token(tag, m.matchIndex, m.start, m.end);\n    for (let i = 0; i < m.positions.length; i += 2) {\n        if (m.positions[i] >= 0) {\n            out.positions[Math.floor(i / 2)] = [m.positions[i], m.positions[i + 1]];\n        }\n    }\n    for (const [groupIndex, tapeIndex] of m.groups) {\n        const gi = Math.abs(groupIndex);\n        if (!(gi in out.groups)) {\n            out.groups[gi] = [];\n        }\n        out.groups[gi].push(tapeIndex);\n    }\n    if (tape != null)\n        out.value = tape.substring(m.start, m.end);\n    return out;\n}\nexport class BaseTokenizer {\n    constructor() {\n        this._prog = null;\n        this._vm = null;\n        this.onError = null;\n        this.allRules = [];\n        this.onMatchHandlers = [];\n        this.matchHandlersByValue = {};\n        this.variables = new Map();\n        this.compiler = new Compiler((name) => {\n            let out = this.variables.get(name) || null;\n            if (out == null)\n                out = this.findRuleByValue(name)?.expr || null;\n            if (out == null)\n                throw new Error(`Invalid regex reference: ${name}`);\n            return out;\n        });\n    }\n    getVar(name) {\n        return this.variables.get(name) || null;\n    }\n    addVar(name, regex) {\n        let currValue = this.variables.get(name) || null;\n        if (currValue == null) {\n            currValue = regex;\n        }\n        else {\n            currValue = new Union(currValue, regex);\n        }\n        this.variables.set(name, regex);\n        return this;\n    }\n    findRuleByValue(value) {\n        return this.allRules.find((r) => r.tag == value) || null;\n    }\n    add(pattern, config, onMatch = null) {\n        if (typeof config === \"function\") {\n            onMatch = config;\n            config = null;\n        }\n        return this.addRule(Builder.build(pattern, config), onMatch);\n    }\n    addRule(rule, onMatch = null) {\n        rule.matchIndex = this.allRules.length;\n        this.allRules.push(rule);\n        this.onMatchHandlers.push(onMatch);\n        this._prog = null;\n        this._vm = null;\n        return this;\n    }\n    on(tag, onMatch) {\n        this.matchHandlersByValue[tag] = onMatch;\n        return this;\n    }\n    get prog() {\n        if (this._prog == null) {\n            const sortedRules = this.sortRules();\n            this._prog = this.compiler.compile(sortedRules);\n        }\n        return this._prog;\n    }\n    get vm() {\n        if (this._vm == null) {\n            this._vm = new VM(this.prog);\n        }\n        return this._vm;\n    }\n    sortRules() {\n        const sortedRules = this.allRules.map((rule) => rule);\n        sortedRules.sort((r1, r2) => {\n            if (r1.priority != r2.priority)\n                return r2.priority - r1.priority;\n            return r1.matchIndex - r2.matchIndex;\n        });\n        return sortedRules;\n    }\n}\nexport class Tokenizer extends BaseTokenizer {\n    constructor() {\n        super(...arguments);\n        this.idCounter = 0;\n    }\n    getState() {\n        return this.vm.getState();\n    }\n    setState(state) {\n        this.vm.setState(state);\n    }\n    reset() {\n        this.idCounter = 0;\n        if (this._vm) {\n            this._vm.setState(0);\n        }\n    }\n    next(tape, owner) {\n        if (!tape.hasMore) {\n            return null;\n        }\n        const startIndex = tape.index;\n        const startChar = tape.currCh;\n        const m = this.vm.match(tape);\n        if (m == null) {\n            let err = null;\n            if (tape.index == startIndex + 1) {\n                err = new TokenizerError(`Unexpected Character: ${startChar}`, startIndex, 1, \"UnexpectedCharacter\", startChar);\n            }\n            else {\n                err = new TokenizerError(`Unexpected Symbol: ${tape.substring(startIndex, tape.index)}`, startIndex, tape.index - startIndex, \"UnexpectedLexeme\");\n            }\n            if (this.onError) {\n                err = this.onError(err, tape, startIndex);\n            }\n            if (err != null) {\n                throw err;\n            }\n            else {\n                return this.next(tape, owner);\n            }\n        }\n        const rule = this.allRules[m.matchIndex];\n        let token = toToken(rule.tag, m, tape);\n        token.id = this.idCounter++;\n        let onMatch = this.onMatchHandlers[m.matchIndex];\n        if (!onMatch) {\n            onMatch = this.matchHandlersByValue[rule.tag];\n        }\n        if (onMatch) {\n            token = onMatch(rule, tape, token, owner);\n            if (token == null) {\n                return this.next(tape, owner);\n            }\n        }\n        else if (rule.skip) {\n            return this.next(tape, owner);\n        }\n        return token;\n    }\n    tokenize(tape, owner = null) {\n        const tokens = [];\n        if (typeof tape === \"string\") {\n            tape = new DefaultTape(tape);\n        }\n        let next = this.next(tape, owner);\n        while (next) {\n            tokens.push(next);\n            try {\n                next = this.next(tape, owner);\n            }\n            catch (err) {\n                tokens.push({\n                    tag: \"ERROR\",\n                    start: err.offset,\n                    end: err.offset + err.length,\n                    value: err.message,\n                });\n                break;\n            }\n        }\n        return tokens;\n    }\n}\n//# sourceMappingURL=tokenizer.js.map","import { flexRE } from \"./builder\";\nexport const SINGLE_QUOTE_STRING = flexRE `[\"]([^\"\\\\\\n]|\\\\.|\\\\\\n)*[\"]`;\nexport const DOUBLE_QUOTE_STRING = flexRE `[']([^'\\\\\\n]|\\\\.|\\\\\\n)*[']`;\nexport const SIMPLE_JS_STRING = '\"(.*?(?<!\\\\\\\\))\"';\nexport const JS_REGEX_WITHOUT_LB = String.raw `/([^\\\\/]|\\\\.)*/([imus]*)`;\nexport const JS_REGEX = String.raw `/(.+?(?<!\\\\))/([imus]*)`;\n//# sourceMappingURL=samples.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escapeText = exports.escapeAttribute = exports.escapeUTF8 = exports.escape = exports.encodeXML = exports.getCodePoint = exports.xmlReplacer = void 0;\nexports.xmlReplacer = /[\"&'<>$\\x80-\\uFFFF]/g;\nvar xmlCodeMap = new Map([\n    [34, \"&quot;\"],\n    [38, \"&amp;\"],\n    [39, \"&apos;\"],\n    [60, \"&lt;\"],\n    [62, \"&gt;\"],\n]);\n// For compatibility with node < 4, we wrap `codePointAt`\nexports.getCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.prototype.codePointAt != null\n    ? function (str, index) { return str.codePointAt(index); }\n    : // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n        function (c, index) {\n            return (c.charCodeAt(index) & 0xfc00) === 0xd800\n                ? (c.charCodeAt(index) - 0xd800) * 0x400 +\n                    c.charCodeAt(index + 1) -\n                    0xdc00 +\n                    0x10000\n                : c.charCodeAt(index);\n        };\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using XML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nfunction encodeXML(str) {\n    var ret = \"\";\n    var lastIdx = 0;\n    var match;\n    while ((match = exports.xmlReplacer.exec(str)) !== null) {\n        var i = match.index;\n        var char = str.charCodeAt(i);\n        var next = xmlCodeMap.get(char);\n        if (next !== undefined) {\n            ret += str.substring(lastIdx, i) + next;\n            lastIdx = i + 1;\n        }\n        else {\n            ret += \"\".concat(str.substring(lastIdx, i), \"&#x\").concat((0, exports.getCodePoint)(str, i).toString(16), \";\");\n            // Increase by 1 if we have a surrogate pair\n            lastIdx = exports.xmlReplacer.lastIndex += Number((char & 0xfc00) === 0xd800);\n        }\n    }\n    return ret + str.substr(lastIdx);\n}\nexports.encodeXML = encodeXML;\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using numeric hexadecimal reference (eg. `&#xfc;`).\n *\n * Have a look at `escapeUTF8` if you want a more concise output at the expense\n * of reduced transportability.\n *\n * @param data String to escape.\n */\nexports.escape = encodeXML;\n/**\n * Creates a function that escapes all characters matched by the given regular\n * expression using the given map of characters to escape to their entities.\n *\n * @param regex Regular expression to match characters to escape.\n * @param map Map of characters to escape to their entities.\n *\n * @returns Function that escapes all characters matched by the given regular\n * expression using the given map of characters to escape to their entities.\n */\nfunction getEscaper(regex, map) {\n    return function escape(data) {\n        var match;\n        var lastIdx = 0;\n        var result = \"\";\n        while ((match = regex.exec(data))) {\n            if (lastIdx !== match.index) {\n                result += data.substring(lastIdx, match.index);\n            }\n            // We know that this character will be in the map.\n            result += map.get(match[0].charCodeAt(0));\n            // Every match will be of length 1\n            lastIdx = match.index + 1;\n        }\n        return result + data.substring(lastIdx);\n    };\n}\n/**\n * Encodes all characters not valid in XML documents using XML entities.\n *\n * Note that the output will be character-set dependent.\n *\n * @param data String to escape.\n */\nexports.escapeUTF8 = getEscaper(/[&<>'\"]/g, xmlCodeMap);\n/**\n * Encodes all characters that have to be escaped in HTML attributes,\n * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n *\n * @param data String to escape.\n */\nexports.escapeAttribute = getEscaper(/[\"&\\u00A0]/g, new Map([\n    [34, \"&quot;\"],\n    [38, \"&amp;\"],\n    [160, \"&nbsp;\"],\n]));\n/**\n * Encodes all characters that have to be escaped in HTML text,\n * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n *\n * @param data String to escape.\n */\nexports.escapeText = getEscaper(/[&<>\\u00A0]/g, new Map([\n    [38, \"&amp;\"],\n    [60, \"&lt;\"],\n    [62, \"&gt;\"],\n    [160, \"&nbsp;\"],\n]));\n//# sourceMappingURL=escape.js.map","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","export function assert(condition, msg) {\n    if (!condition) {\n        throw new Error(msg);\n    }\n}\n//# sourceMappingURL=types.js.map","export const INFINITY = 1e48;\nexport const MAX_INT = Math.pow(2, 32);\nexport const MAX_LONG = Math.pow(2, 64);\n//# sourceMappingURL=constants.js.map","export class TEvent {\n    constructor(name, source, payload) {\n        this.uuid = TEvent.counter++;\n        this._spawnedFrom = null;\n        this.sourceState = null;\n        this.cancelled = false;\n        this.timeStamp = -1;\n        this.children = [];\n        this.name = name;\n        this.source = source;\n        this.payload = payload;\n    }\n    get spawnedFrom() {\n        return this._spawnedFrom;\n    }\n    setSpawnedFrom(msg) {\n        this._spawnedFrom = msg;\n        if (msg == null)\n            this._rootEvent = this;\n        else\n            this._rootEvent = msg.rootEvent;\n    }\n    spawn(name, source, payload) {\n        const child = new TEvent(name, source, payload);\n        child.setSpawnedFrom(this);\n        this.children.push(child);\n        return child;\n    }\n    get rootEvent() {\n        return this._rootEvent;\n    }\n}\nTEvent.counter = 0;\nexport class State {\n    constructor() {\n        this.stateData = null;\n        this.id = State.counter++;\n    }\n    get name() {\n        return this.constructor.name;\n    }\n    enter(data) {\n        this.stateData = data;\n    }\n    handle(event) {\n    }\n}\nState.counter = 0;\nexport class EventEmitter {\n    constructor() {\n        this._eventHub = new EventHub();\n    }\n    get eventHub() {\n        return this._eventHub;\n    }\n    set eventHub(hub) {\n        const oldHub = this._eventHub;\n        this._eventHub = hub;\n        this.eventHubChanged(oldHub);\n    }\n    eventHubChanged(oldHub) {\n        console.log(\"WARNING - EventHub Change Listener not implemented: \", this.constructor.name);\n    }\n}\nexport class EventHub {\n    constructor() {\n        this._handlers = {};\n        this._events = [];\n        this._inBatchMode = false;\n    }\n    on(names, callback) {\n        return this._addHandler(names, this._handlers, callback);\n    }\n    removeOn(names, callback) {\n        return this._removeHandler(names, this._handlers, callback);\n    }\n    _ensurestrings(names) {\n        if (typeof names === \"string\") {\n            names = names.split(\",\");\n        }\n        return names.map(function (v) {\n            return v.trim();\n        });\n    }\n    _addHandler(names, handlerlist, handler) {\n        this._ensurestrings(names).forEach(function (name) {\n            handlerlist[name] = handlerlist[name] || [];\n            handlerlist[name].push(handler);\n        });\n        return this;\n    }\n    _removeHandler(names, handlerlist, handler) {\n        this._ensurestrings(names).forEach(function (name) {\n            const evHandlers = handlerlist[name] || [];\n            for (let i = 0; i < evHandlers.length; i++) {\n                if (evHandlers[i] == handler) {\n                    evHandlers.splice(i, 1);\n                    break;\n                }\n            }\n        });\n        return this;\n    }\n    emit(name, source, payload) {\n        const evt = new TEvent(name, source, payload);\n        if (this._inBatchMode) {\n            this._events.push(evt);\n            return true;\n        }\n        else {\n            return this.dispatchEvent(evt);\n        }\n    }\n    dispatchEvent(event) {\n        const evtCallbacks = this._handlers[event.name] || [];\n        for (const callback of evtCallbacks) {\n            callback(event);\n            if (event.cancelled)\n                return false;\n        }\n        return true;\n    }\n    startBatchMode() {\n        if (!this._inBatchMode) {\n            this._inBatchMode = true;\n        }\n        return this;\n    }\n    cancelBatch() {\n        this._inBatchMode = false;\n        this._events = [];\n    }\n    commitBatch() {\n        this._inBatchMode = false;\n        this.emit(EventHub.BATCH_EVENTS, this, this._events);\n        this._events = [];\n    }\n}\nEventHub.BATCH_EVENTS = \"BatchEvents\";\nexport class StateMachine {\n    constructor() {\n        this._states = {};\n        this._rootState = null;\n        this._currentState = null;\n        this._states = {};\n        this._rootState = null;\n        this._currentState = null;\n    }\n    set rootState(name) {\n        this._rootState = this.getState(name);\n        if (this._currentState == null) {\n            this._currentState = this._rootState;\n        }\n    }\n    enter(state, data = null) {\n        if (state == \"\") {\n            this._currentState = this._rootState;\n        }\n        else {\n            this._currentState = this.getState(state);\n        }\n        if (this._currentState != null) {\n            this._currentState.enter(data);\n        }\n    }\n    getState(name) {\n        if (!(name in this._states)) {\n            throw Error(\"State '\" + name + \"' not yet registered.\");\n        }\n        return this._states[name];\n    }\n    registerState(state, isRoot = false) {\n        const name = state.name;\n        if (name in this._states) {\n            throw Error(\"State '\" + name + \"' already registered.\");\n        }\n        this._states[name] = state;\n        if (isRoot || false) {\n            this.rootState = state.name;\n        }\n    }\n    handle(event) {\n        if (this._currentState == null)\n            return;\n        const nextState = this._currentState.handle(event);\n        if (nextState != null) {\n            if (nextState == \"\") {\n                if (this._rootState != null) {\n                    this.enter(this._rootState.name);\n                }\n                else {\n                    throw new Error(\"Root state has not been set\");\n                }\n            }\n            else {\n                this.enter(nextState);\n            }\n        }\n    }\n}\n//# sourceMappingURL=events.js.map","class MutableListNode {\n    constructor(value) {\n        this.value = value;\n        this.nextSibling = null;\n        this.prevSibling = null;\n    }\n}\nexport class ValueList {\n    constructor(...values) {\n        this._firstChild = null;\n        this._lastChild = null;\n        this._size = 0;\n        for (const v of values)\n            this.pushBack(v);\n    }\n    toJSON() {\n        return Array.from(this.values());\n    }\n    forEach(method) {\n        let tmp = this._firstChild;\n        let count = 0;\n        while (tmp != null) {\n            if (method(tmp) == false) {\n                break;\n            }\n            count++;\n            tmp = tmp.nextSibling;\n        }\n        return count;\n    }\n    equals(another, eqlFunc) {\n        if (this.size != another.size)\n            return false;\n        let tmp = this.first;\n        let tmp2 = another.first;\n        for (; tmp != null && tmp2 != null; tmp = tmp.nextSibling, tmp2 = tmp2.nextSibling) {\n            if (!eqlFunc(tmp, tmp2)) {\n                return false;\n            }\n        }\n        return tmp == null && tmp2 == null;\n    }\n    get isEmpty() {\n        return this._size == 0;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._firstChild;\n    }\n    get last() {\n        return this._lastChild;\n    }\n    *reversedValues() {\n        let tmp = this._lastChild;\n        while (tmp != null) {\n            yield tmp;\n            tmp = tmp.prevSibling;\n        }\n    }\n    *values() {\n        let tmp = this._firstChild;\n        while (tmp != null) {\n            yield tmp;\n            tmp = tmp.nextSibling;\n        }\n    }\n    add(child, before = null) {\n        if (child.nextSibling != null || child.prevSibling != null) {\n            throw new Error(\"New node already added to a list.  Remove it first\");\n        }\n        child.nextSibling = child.prevSibling = null;\n        this._size++;\n        if (this._firstChild == null || this._lastChild == null) {\n            this._firstChild = this._lastChild = child;\n        }\n        else if (before == null) {\n            child.prevSibling = this._lastChild;\n            child.nextSibling = null;\n            this._lastChild.nextSibling = child;\n            this._lastChild = child;\n        }\n        else if (before == this._firstChild) {\n            child.nextSibling = before;\n            child.prevSibling = null;\n            this._firstChild.prevSibling = child;\n            this._firstChild = child;\n        }\n        else {\n            const prev = before.prevSibling;\n            child.nextSibling = before;\n            before.prevSibling = child;\n            child.prevSibling = prev;\n            if (prev != null) {\n                prev.nextSibling = child;\n            }\n        }\n        return this;\n    }\n    pushFront(value) {\n        return this.add(value, this._firstChild);\n    }\n    pushBack(value) {\n        return this.add(value);\n    }\n    remove(child) {\n        const next = child.nextSibling;\n        const prev = child.prevSibling;\n        if (next == null) {\n            this._lastChild = prev;\n            if (prev == null)\n                this._firstChild = null;\n        }\n        else {\n            next.prevSibling = prev;\n        }\n        if (prev == null) {\n            this._firstChild = next;\n            if (next == null)\n                this._lastChild = null;\n        }\n        else {\n            prev.nextSibling = next;\n        }\n        this._size--;\n        child.prevSibling = child.nextSibling = null;\n        return this;\n    }\n    popBack() {\n        if (this._lastChild == null) {\n            throw new Error(\"No children\");\n        }\n        const out = this._lastChild;\n        this.remove(out);\n        return out;\n    }\n    popFront() {\n        if (this._firstChild == null) {\n            throw new Error(\"No children\");\n        }\n        const out = this._firstChild;\n        this.remove(out);\n        return out;\n    }\n}\nexport class List {\n    constructor(...values) {\n        this.container = new ValueList();\n        for (const v of values)\n            this.push(v);\n    }\n    toJSON() {\n        return Array.from(this.values());\n    }\n    forEach(method) {\n        return this.container.forEach((v) => method(v.value));\n    }\n    equals(another, eqlFunc) {\n        return this.container.equals(another.container, (a, b) => eqlFunc(a.value, b.value));\n    }\n    find(target) {\n        for (const v of this.container.values()) {\n            if (target == v.value) {\n                return v;\n            }\n        }\n        return null;\n    }\n    get isEmpty() {\n        return this.container.isEmpty;\n    }\n    get size() {\n        return this.container.size;\n    }\n    get first() {\n        return this.container.first;\n    }\n    get last() {\n        return this.container.last;\n    }\n    *reversedValues() {\n        for (const v of this.container.reversedValues())\n            yield v.value;\n    }\n    *values() {\n        for (const v of this.container.values())\n            yield v.value;\n    }\n    popBack() {\n        return this.container.popBack().value;\n    }\n    popFront() {\n        return this.container.popFront().value;\n    }\n    pushFront(value) {\n        return this.add(value, this.container.first);\n    }\n    push(value) {\n        return this.add(value);\n    }\n    add(child, before = null) {\n        this.container.add(new MutableListNode(child), before);\n        return this;\n    }\n}\n//# sourceMappingURL=list.js.map","export class Point {\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y;\n    }\n}\nexport class Size {\n    constructor(w = 0, h = 0) {\n        this.width = 0;\n        this.height = 0;\n        this.width = w;\n        this.height = h;\n    }\n}\nexport class Insets {\n    constructor(left = 0, top = 0, right = 0, bottom = 0) {\n        this.left = left;\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n    }\n}\nexport class Rect {\n    constructor(x = 0, y = 0, width = 0, height = 0) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    static from(box) {\n        return new Rect(box.x, box.y, box.width, box.height);\n    }\n    copy() {\n        return Rect.from(this);\n    }\n    union(another) {\n        if (another) {\n            const minX = Math.min(this.x, another.x);\n            const minY = Math.min(this.y, another.y);\n            const maxX = Math.max(this.x + this.width, another.x + another.width);\n            const maxY = Math.max(this.y + this.height, another.y + another.height);\n            this.x = minX;\n            this.y = minY;\n            this.width = maxX - minX;\n            this.height = maxY - minY;\n        }\n        return this;\n    }\n    unionAll(...boxes) {\n        for (const b of boxes)\n            this.union(b);\n        return this;\n    }\n}\n//# sourceMappingURL=geom.js.map","export class Browser {\n}\nBrowser.IS_EXPLORER = () => navigator && navigator.userAgent.indexOf(\"MSIE\") > -1;\nBrowser.IS_FIREFOX = () => navigator && navigator.userAgent.indexOf(\"Firefox\") > -1;\nBrowser.IS_OPERA = () => navigator && navigator.userAgent.toLowerCase().indexOf(\"op\") > -1;\nBrowser.UAHasChrome = () => navigator && navigator.userAgent.indexOf(\"Chrome\") > -1;\nBrowser.UAHasSafari = () => navigator && navigator.userAgent.indexOf(\"Safari\") > -1;\nBrowser.IS_SAFARI = () => navigator && Browser.UAHasSafari() && (!Browser.UAHasChrome() || !Browser.UAHasSafari());\nBrowser.IS_CHROME = () => navigator && Browser.UAHasChrome() && (!Browser.UAHasChrome() || !Browser.IS_OPERA());\n//# sourceMappingURL=browser.js.map","import * as Geom from \"./geom\";\nimport { Browser } from \"./browser\";\nconst fontMetrics = {};\nexport function svgBBox(element) {\n    var _a;\n    const bbox = Geom.Rect.from(element.getBBox());\n    if (Browser.IS_SAFARI()) {\n        const clientRect = element.getClientRects()[0];\n        if (clientRect) {\n            const parentClientRect = (_a = element.parentElement) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n            bbox.x = bbox.x + clientRect.x - ((parentClientRect === null || parentClientRect === void 0 ? void 0 : parentClientRect.x) || 0);\n            bbox.width = clientRect.width;\n            bbox.height = clientRect.height;\n        }\n    }\n    return bbox;\n}\nexport function getFontMetrics(fontFamily, fontSize) {\n    if (!(fontFamily in fontMetrics)) {\n        fontMetrics[fontFamily] = {};\n    }\n    const familyMetrics = fontMetrics[fontFamily];\n    if (!(fontSize in familyMetrics)) {\n        const a = $(\"<div style='position:absolute;top:0;left:0'>M</div>\");\n        a.css(\"font-family\", fontFamily);\n        a.css(\"font-size\", fontSize);\n        $($(document)[0].body).append(a);\n        familyMetrics[fontSize] = {\n            height: a[0].offsetHeight,\n            size: fontSize,\n        };\n        a.remove();\n    }\n    return familyMetrics[fontSize];\n}\nexport function forEachChild(elem, visitor) {\n    const children = elem.children;\n    const L = children.length;\n    for (let i = 0; i < L; i++) {\n        const child = children[i];\n        if (visitor(child, i) == false)\n            return false;\n    }\n}\nexport function forEachNode(elem, visitor) {\n    const children = elem.childNodes;\n    const L = children.length;\n    for (let i = 0; i < L; i++) {\n        const child = children[i];\n        if (visitor(child, i) == false)\n            return;\n    }\n}\nexport function forEachAttribute(elem, visitor) {\n    const nodeNameMap = elem.attributes;\n    for (let i = 0; i < nodeNameMap.length; i++) {\n        const attrib = nodeNameMap[i];\n        if (visitor(attrib.name, attrib.value) == false)\n            return;\n    }\n}\nexport function parseCSSStyles(value) {\n    const out = {};\n    if (value && value != null) {\n        const values = value.split(\";\");\n        values.forEach(function (elem) {\n            if (elem.trim().length > 0) {\n                const kvpair = elem.split(\":\");\n                if (kvpair.length >= 2) {\n                    const key = kvpair[0].trim();\n                    const value = kvpair[1].trim();\n                    if (key.length > 0) {\n                        out[key] = value;\n                    }\n                }\n            }\n        });\n    }\n    return out;\n}\nexport function getAttr(elem, attrib, ...validators) {\n    let value = elem.getAttribute(attrib);\n    for (let i = 0; i < validators.length; i++) {\n        value = validators[i](value);\n    }\n    return value;\n}\nexport function ensureAttr(elem, attrib) {\n    const value = elem.getAttribute(attrib) || null;\n    if (value == null) {\n        throw new Error(`Element MUST have Attribute: ${attrib}`);\n    }\n    return value;\n}\nexport function setAttr(elem, name, value) {\n    return elem.setAttribute(name, value);\n}\nexport function getAttrOrStyle(elem, attribName, cssStyles, styleName) {\n    return elem.getAttribute(attribName) || cssStyles[styleName];\n}\nexport function createSVGNode(nodename, config) {\n    config = config || {};\n    config.ns = \"http://www.w3.org/2000/svg\";\n    return createNode(nodename, config);\n}\nexport function createNode(nodename, config) {\n    let out;\n    config = config || {};\n    const ns = config.ns;\n    const doc = config.doc || document;\n    const attrs = config.attrs || {};\n    const text = config.text || \"\";\n    const parent = config.parent || null;\n    if (ns)\n        out = doc.createElementNS(ns, nodename);\n    else\n        out = doc.createElement(nodename);\n    if (parent != null) {\n        parent.appendChild(out);\n    }\n    for (const attr in attrs || {}) {\n        const value = attrs[attr];\n        out.setAttribute(attr, value);\n    }\n    if (text) {\n        out.textContent = text;\n    }\n    return out;\n}\nexport function removeNode(node) {\n    var _a;\n    (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(node);\n}\nexport function insertAfter(node, ...newNodes) {\n    const parentNode = node.parentNode;\n    if (parentNode == null)\n        return false;\n    const nextNode = node.nextSibling;\n    if (nextNode == null) {\n        for (let i = 0; i < newNodes.length; i++) {\n            parentNode.appendChild(newNodes[i]);\n        }\n    }\n    else {\n        for (let i = 0; i < newNodes.length; i++) {\n            parentNode.insertBefore(newNodes[i], nextNode);\n        }\n    }\n    return true;\n}\nexport function getCSS(elem, attr) {\n    return elem.style[attr];\n}\nexport function setCSS(elem, attr, value) {\n    elem.style[attr] = value;\n}\nexport function ensureElement(elemOrId, root = null) {\n    if (typeof elemOrId === \"string\") {\n        if (root == null)\n            root = document;\n        return root.querySelector(elemOrId);\n    }\n    else {\n        return elemOrId;\n    }\n}\n//# sourceMappingURL=dom.js.map","export function range(start, end = null, incr = 1) {\n    if (end == null) {\n        const absStart = Math.abs(start);\n        const arr = Array.from({ length: absStart });\n        if (start >= 0) {\n            return arr.map((x, i) => i);\n        }\n        else {\n            return arr.map((x, i) => i - (absStart - 1));\n        }\n    }\n    const out = [];\n    if (incr == null) {\n        incr = 1;\n    }\n    incr = Math.abs(incr);\n    if (start !== end) {\n        if (start < end) {\n            for (let i = start; i <= end; i += incr) {\n                out.push(i);\n            }\n        }\n        else {\n            for (let i = start; i >= end; i -= incr) {\n                out.push(i);\n            }\n        }\n    }\n    return out;\n}\nexport function gcdof(x, y) {\n    x = Math.abs(x);\n    y = Math.abs(y);\n    while (y > 0) {\n        const t = y;\n        y = x % y;\n        x = t;\n    }\n    return x;\n}\nexport class Fraction {\n    constructor(num = 0, den = 1, factorized = false) {\n        if (isNaN(num) || isNaN(den)) {\n            throw new Error(`Invalid numerator(${num}) or denminator(${den})`);\n        }\n        if (factorized) {\n            const gcd = gcdof(num, den);\n            num /= gcd;\n            den /= gcd;\n        }\n        this.num = num;\n        this.den = den;\n    }\n    static parse(val, factorized = false) {\n        const parts = val\n            .trim()\n            .split(\"/\")\n            .map((x) => x.trim());\n        let num = 1;\n        let den = 1;\n        if (parts.length == 1)\n            num = parseInt(parts[0]);\n        else if (parts.length != 2) {\n            throw new Error(\"Invalid fraction string: \" + val);\n        }\n        else {\n            if (parts[0].length > 0) {\n                num = parseInt(parts[0]);\n            }\n            if (parts[1].length > 0) {\n                den = parseInt(parts[1]);\n            }\n        }\n        if (isNaN(num) || isNaN(den)) {\n            throw new Error(\"Invalid fraction string: \" + val);\n        }\n        return new Fraction(num, den, factorized);\n    }\n    get isWhole() {\n        return this.num % this.den == 0;\n    }\n    get isZero() {\n        return this.num == 0;\n    }\n    get isInfinity() {\n        return this.den == 0;\n    }\n    get isOne() {\n        return this.num == this.den;\n    }\n    get ceil() {\n        if (this.num % this.den == 0) {\n            return this.num / this.den;\n        }\n        else {\n            return 1 + Math.floor(this.num / this.den);\n        }\n    }\n    get floor() {\n        if (this.num % this.den == 0) {\n            return this.num / this.den;\n        }\n        else {\n            return Math.floor(this.num / this.den);\n        }\n    }\n    plus(another, factorized = false) {\n        return new Fraction(this.num * another.den + this.den * another.num, this.den * another.den, factorized);\n    }\n    plusNum(another, factorized = false) {\n        return new Fraction(this.num + this.den * another, this.den, factorized);\n    }\n    minus(another, factorized = false) {\n        return new Fraction(this.num * another.den - this.den * another.num, this.den * another.den, factorized);\n    }\n    minusNum(another, factorized = false) {\n        return new Fraction(this.num - this.den * another, this.den, factorized);\n    }\n    times(another, factorized = false) {\n        return new Fraction(this.num * another.num, this.den * another.den, factorized);\n    }\n    timesNum(another, factorized = false) {\n        return new Fraction(this.num * another, this.den, factorized);\n    }\n    divby(another, factorized = false) {\n        return new Fraction(this.num * another.den, this.den * another.num, factorized);\n    }\n    divbyNum(another, factorized = false) {\n        return new Fraction(this.num, this.den * another, factorized);\n    }\n    numDivby(another, factorized = false) {\n        return new Fraction(this.den * another, this.num, factorized);\n    }\n    mod(another) {\n        const d = this.divby(another);\n        const floorOfD = Math.floor(d.num / d.den);\n        return this.minus(another.timesNum(floorOfD));\n    }\n    modNum(another) {\n        const d = this.divbyNum(another);\n        const floorOfD = Math.floor(d.num / d.den);\n        return this.minusNum(another * floorOfD);\n    }\n    get inverse() {\n        return new Fraction(this.den, this.num);\n    }\n    get factorized() {\n        const gcd = gcdof(this.num, this.den);\n        return new Fraction(this.num / gcd, this.den / gcd);\n    }\n    equals(another) {\n        return this.num * another.den == this.den * another.num;\n    }\n    equalsNum(another) {\n        return this.num == this.den * another;\n    }\n    cmp(another) {\n        return this.num * another.den - this.den * another.num;\n    }\n    cmpNum(another) {\n        return this.num - this.den * another;\n    }\n    isLT(another) {\n        return this.cmp(another) < 0;\n    }\n    isLTE(another) {\n        return this.cmp(another) <= 0;\n    }\n    isLTNum(another) {\n        return this.cmpNum(another) < 0;\n    }\n    isLTENum(another) {\n        return this.cmpNum(another) <= 0;\n    }\n    isGT(another) {\n        return this.cmp(another) > 0;\n    }\n    isGTE(another) {\n        return this.cmp(another) >= 0;\n    }\n    isGTNum(another) {\n        return this.cmpNum(another) > 0;\n    }\n    isGTENum(another) {\n        return this.cmpNum(another) >= 0;\n    }\n    toString() {\n        return this.num + \"/\" + this.den;\n    }\n    static max(f1, f2) {\n        return f1.cmp(f2) > 0 ? f1 : f2;\n    }\n    static min(f1, f2) {\n        return f1.cmp(f2) < 0 ? f1 : f2;\n    }\n}\nFraction.ZERO = new Fraction();\nFraction.ONE = new Fraction(1, 1);\nFraction.INFINITY = new Fraction(1, 0);\nexport const Frac = (a = 0, b = 1, factorized = false) => new Fraction(a, b, factorized);\n//# sourceMappingURL=numberutils.js.map","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","'use strict';\n\nvar uc_micro = require('uc.micro');\n\nfunction reFactory (opts) {\n  const re = {};\n  opts = opts || {};\n\n  re.src_Any = uc_micro.Any.source;\n  re.src_Cc = uc_micro.Cc.source;\n  re.src_Z = uc_micro.Z.source;\n  re.src_P = uc_micro.P.source;\n\n  // \\p{\\Z\\P\\Cc\\CF} (white spaces + control + format + punctuation)\n  re.src_ZPCc = [re.src_Z, re.src_P, re.src_Cc].join('|');\n\n  // \\p{\\Z\\Cc} (white spaces + control)\n  re.src_ZCc = [re.src_Z, re.src_Cc].join('|');\n\n  // Experimental. List of chars, completely prohibited in links\n  // because can separate it from other part of text\n  const text_separators = '[><\\uff5c]';\n\n  // All possible word characters (everything without punctuation, spaces & controls)\n  // Defined via punctuation & spaces to save space\n  // Should be something like \\p{\\L\\N\\S\\M} (\\w but without `_`)\n  re.src_pseudo_letter = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')';\n  // The same as abothe but without [0-9]\n  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';\n\n  re.src_ip4 =\n\n    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)';\n\n  // Prohibit any of \"@/[]()\" in user/pass to avoid wrong domain fetch.\n  re.src_auth = '(?:(?:(?!' + re.src_ZCc + '|[@/\\\\[\\\\]()]).)+@)?';\n\n  re.src_port =\n\n    '(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?';\n\n  re.src_host_terminator =\n\n    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')' +\n    '(?!' + (opts['---'] ? '-(?!--)|' : '-|') + '_|:\\\\d|\\\\.-|\\\\.(?!$|' + re.src_ZPCc + '))';\n\n  re.src_path =\n\n    '(?:' +\n      '[/?#]' +\n        '(?:' +\n          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\\\]{}.,\"\\'?!\\\\-;]).|' +\n          '\\\\[(?:(?!' + re.src_ZCc + '|\\\\]).)*\\\\]|' +\n          '\\\\((?:(?!' + re.src_ZCc + '|[)]).)*\\\\)|' +\n          '\\\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\\\}|' +\n          '\\\\\"(?:(?!' + re.src_ZCc + '|[\"]).)+\\\\\"|' +\n          \"\\\\'(?:(?!\" + re.src_ZCc + \"|[']).)+\\\\'|\" +\n\n          // allow `I'm_king` if no pair found\n          \"\\\\'(?=\" + re.src_pseudo_letter + '|[-])|' +\n\n          // google has many dots in \"google search\" links (#66, #81).\n          // github has ... in commit range links,\n          // Restrict to\n          // - english\n          // - percent-encoded\n          // - parts of file path\n          // - params separator\n          // until more examples found.\n          '\\\\.{2,}[a-zA-Z0-9%/&]|' +\n\n          '\\\\.(?!' + re.src_ZCc + '|[.]|$)|' +\n          (opts['---']\n            ? '\\\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate\n            : '\\\\-+|'\n          ) +\n          // allow `,,,` in paths\n          ',(?!' + re.src_ZCc + '|$)|' +\n\n          // allow `;` if not followed by space-like char\n          ';(?!' + re.src_ZCc + '|$)|' +\n\n          // allow `!!!` in paths, but not at the end\n          '\\\\!+(?!' + re.src_ZCc + '|[!]|$)|' +\n\n          '\\\\?(?!' + re.src_ZCc + '|[?]|$)' +\n        ')+' +\n      '|\\\\/' +\n    ')?';\n\n  // Allow anything in markdown spec, forbid quote (\") at the first position\n  // because emails enclosed in quotes are far more common\n  re.src_email_name =\n\n    '[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]*';\n\n  re.src_xn =\n\n    'xn--[a-z0-9\\\\-]{1,59}';\n\n  // More to read about domain names\n  // http://serverfault.com/questions/638260/\n\n  re.src_domain_root =\n\n    // Allow letters & digits (http://test1)\n    '(?:' +\n      re.src_xn +\n      '|' +\n      re.src_pseudo_letter + '{1,63}' +\n    ')';\n\n  re.src_domain =\n\n    '(?:' +\n      re.src_xn +\n      '|' +\n      '(?:' + re.src_pseudo_letter + ')' +\n      '|' +\n      '(?:' + re.src_pseudo_letter + '(?:-|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +\n    ')';\n\n  re.src_host =\n\n    '(?:' +\n    // Don't need IP check, because digits are already allowed in normal domain names\n    //   src_ip4 +\n    // '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)*' + re.src_domain/* _root */ + ')' +\n    ')';\n\n  re.tpl_host_fuzzy =\n\n    '(?:' +\n      re.src_ip4 +\n    '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))' +\n    ')';\n\n  re.tpl_host_no_ip_fuzzy =\n\n    '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))';\n\n  re.src_host_strict =\n\n    re.src_host + re.src_host_terminator;\n\n  re.tpl_host_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_host_terminator;\n\n  re.src_host_port_strict =\n\n    re.src_host + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_no_ip_fuzzy_strict =\n\n    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator;\n\n  //\n  // Main rules\n  //\n\n  // Rude test fuzzy links by host, for quick deny\n  re.tpl_host_fuzzy_test =\n\n    'localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))';\n\n  re.tpl_email_fuzzy =\n\n      '(^|' + text_separators + '|\"|\\\\(|' + re.src_ZCc + ')' +\n      '(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')';\n\n  re.tpl_link_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')';\n\n  re.tpl_link_no_ip_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')';\n\n  return re\n}\n\n//\n// Helpers\n//\n\n// Merge objects\n//\nfunction assign (obj /* from1, from2, from3, ... */) {\n  const sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj\n}\n\nfunction _class (obj) { return Object.prototype.toString.call(obj) }\nfunction isString (obj) { return _class(obj) === '[object String]' }\nfunction isObject (obj) { return _class(obj) === '[object Object]' }\nfunction isRegExp (obj) { return _class(obj) === '[object RegExp]' }\nfunction isFunction (obj) { return _class(obj) === '[object Function]' }\n\nfunction escapeRE (str) { return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&') }\n\n//\n\nconst defaultOptions = {\n  fuzzyLink: true,\n  fuzzyEmail: true,\n  fuzzyIP: false\n};\n\nfunction isOptionsObj (obj) {\n  return Object.keys(obj || {}).reduce(function (acc, k) {\n    /* eslint-disable-next-line no-prototype-builtins */\n    return acc || defaultOptions.hasOwnProperty(k)\n  }, false)\n}\n\nconst defaultSchemas = {\n  'http:': {\n    validate: function (text, pos, self) {\n      const tail = text.slice(pos);\n\n      if (!self.re.http) {\n        // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.http = new RegExp(\n          '^\\\\/\\\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'\n        );\n      }\n      if (self.re.http.test(tail)) {\n        return tail.match(self.re.http)[0].length\n      }\n      return 0\n    }\n  },\n  'https:': 'http:',\n  'ftp:': 'http:',\n  '//': {\n    validate: function (text, pos, self) {\n      const tail = text.slice(pos);\n\n      if (!self.re.no_http) {\n      // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.no_http = new RegExp(\n          '^' +\n          self.re.src_auth +\n          // Don't allow single-level domains, because of false positives like '//test'\n          // with code comments\n          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\\\.)+' + self.re.src_domain_root + ')' +\n          self.re.src_port +\n          self.re.src_host_terminator +\n          self.re.src_path,\n\n          'i'\n        );\n      }\n\n      if (self.re.no_http.test(tail)) {\n        // should not be `://` & `///`, that protects from errors in protocol name\n        if (pos >= 3 && text[pos - 3] === ':') { return 0 }\n        if (pos >= 3 && text[pos - 3] === '/') { return 0 }\n        return tail.match(self.re.no_http)[0].length\n      }\n      return 0\n    }\n  },\n  'mailto:': {\n    validate: function (text, pos, self) {\n      const tail = text.slice(pos);\n\n      if (!self.re.mailto) {\n        self.re.mailto = new RegExp(\n          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'\n        );\n      }\n      if (self.re.mailto.test(tail)) {\n        return tail.match(self.re.mailto)[0].length\n      }\n      return 0\n    }\n  }\n};\n\n// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)\n/* eslint-disable-next-line max-len */\nconst tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]';\n\n// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead\nconst tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|'.split('|');\n\nfunction resetScanCache (self) {\n  self.__index__ = -1;\n  self.__text_cache__ = '';\n}\n\nfunction createValidator (re) {\n  return function (text, pos) {\n    const tail = text.slice(pos);\n\n    if (re.test(tail)) {\n      return tail.match(re)[0].length\n    }\n    return 0\n  }\n}\n\nfunction createNormalizer () {\n  return function (match, self) {\n    self.normalize(match);\n  }\n}\n\n// Schemas compiler. Build regexps.\n//\nfunction compile (self) {\n  // Load & clone RE patterns.\n  const re = self.re = reFactory(self.__opts__);\n\n  // Define dynamic patterns\n  const tlds = self.__tlds__.slice();\n\n  self.onCompile();\n\n  if (!self.__tlds_replaced__) {\n    tlds.push(tlds_2ch_src_re);\n  }\n  tlds.push(re.src_xn);\n\n  re.src_tlds = tlds.join('|');\n\n  function untpl (tpl) { return tpl.replace('%TLDS%', re.src_tlds) }\n\n  re.email_fuzzy = RegExp(untpl(re.tpl_email_fuzzy), 'i');\n  re.link_fuzzy = RegExp(untpl(re.tpl_link_fuzzy), 'i');\n  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i');\n  re.host_fuzzy_test = RegExp(untpl(re.tpl_host_fuzzy_test), 'i');\n\n  //\n  // Compile each schema\n  //\n\n  const aliases = [];\n\n  self.__compiled__ = {}; // Reset compiled data\n\n  function schemaError (name, val) {\n    throw new Error('(LinkifyIt) Invalid schema \"' + name + '\": ' + val)\n  }\n\n  Object.keys(self.__schemas__).forEach(function (name) {\n    const val = self.__schemas__[name];\n\n    // skip disabled methods\n    if (val === null) { return }\n\n    const compiled = { validate: null, link: null };\n\n    self.__compiled__[name] = compiled;\n\n    if (isObject(val)) {\n      if (isRegExp(val.validate)) {\n        compiled.validate = createValidator(val.validate);\n      } else if (isFunction(val.validate)) {\n        compiled.validate = val.validate;\n      } else {\n        schemaError(name, val);\n      }\n\n      if (isFunction(val.normalize)) {\n        compiled.normalize = val.normalize;\n      } else if (!val.normalize) {\n        compiled.normalize = createNormalizer();\n      } else {\n        schemaError(name, val);\n      }\n\n      return\n    }\n\n    if (isString(val)) {\n      aliases.push(name);\n      return\n    }\n\n    schemaError(name, val);\n  });\n\n  //\n  // Compile postponed aliases\n  //\n\n  aliases.forEach(function (alias) {\n    if (!self.__compiled__[self.__schemas__[alias]]) {\n      // Silently fail on missed schemas to avoid errons on disable.\n      // schemaError(alias, self.__schemas__[alias]);\n      return\n    }\n\n    self.__compiled__[alias].validate =\n      self.__compiled__[self.__schemas__[alias]].validate;\n    self.__compiled__[alias].normalize =\n      self.__compiled__[self.__schemas__[alias]].normalize;\n  });\n\n  //\n  // Fake record for guessed links\n  //\n  self.__compiled__[''] = { validate: null, normalize: createNormalizer() };\n\n  //\n  // Build schema condition\n  //\n  const slist = Object.keys(self.__compiled__)\n    .filter(function (name) {\n      // Filter disabled & fake schemas\n      return name.length > 0 && self.__compiled__[name]\n    })\n    .map(escapeRE)\n    .join('|');\n  // (?!_) cause 1.5x slowdown\n  self.re.schema_test = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i');\n  self.re.schema_search = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig');\n  self.re.schema_at_start = RegExp('^' + self.re.schema_search.source, 'i');\n\n  self.re.pretest = RegExp(\n    '(' + self.re.schema_test.source + ')|(' + self.re.host_fuzzy_test.source + ')|@',\n    'i'\n  );\n\n  //\n  // Cleanup\n  //\n\n  resetScanCache(self);\n}\n\n/**\n * class Match\n *\n * Match result. Single element of array, returned by [[LinkifyIt#match]]\n **/\nfunction Match (self, shift) {\n  const start = self.__index__;\n  const end = self.__last_index__;\n  const text = self.__text_cache__.slice(start, end);\n\n  /**\n   * Match#schema -> String\n   *\n   * Prefix (protocol) for matched string.\n   **/\n  this.schema = self.__schema__.toLowerCase();\n  /**\n   * Match#index -> Number\n   *\n   * First position of matched string.\n   **/\n  this.index = start + shift;\n  /**\n   * Match#lastIndex -> Number\n   *\n   * Next position after matched string.\n   **/\n  this.lastIndex = end + shift;\n  /**\n   * Match#raw -> String\n   *\n   * Matched string.\n   **/\n  this.raw = text;\n  /**\n   * Match#text -> String\n   *\n   * Notmalized text of matched string.\n   **/\n  this.text = text;\n  /**\n   * Match#url -> String\n   *\n   * Normalized url of matched string.\n   **/\n  this.url = text;\n}\n\nfunction createMatch (self, shift) {\n  const match = new Match(self, shift);\n\n  self.__compiled__[match.schema].normalize(match, self);\n\n  return match\n}\n\n/**\n * class LinkifyIt\n **/\n\n/**\n * new LinkifyIt(schemas, options)\n * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Creates new linkifier instance with optional additional schemas.\n * Can be called without `new` keyword for convenience.\n *\n * By default understands:\n *\n * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links\n * - \"fuzzy\" links and emails (example.com, foo@bar.com).\n *\n * `schemas` is an object, where each key/value describes protocol/rule:\n *\n * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`\n *   for example). `linkify-it` makes shure that prefix is not preceeded with\n *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.\n * - __value__ - rule to check tail after link prefix\n *   - _String_ - just alias to existing rule\n *   - _Object_\n *     - _validate_ - validator function (should return matched length on success),\n *       or `RegExp`.\n *     - _normalize_ - optional function to normalize text & url of matched result\n *       (for example, for @twitter mentions).\n *\n * `options`:\n *\n * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.\n * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts\n *   like version numbers. Default `false`.\n * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.\n *\n **/\nfunction LinkifyIt (schemas, options) {\n  if (!(this instanceof LinkifyIt)) {\n    return new LinkifyIt(schemas, options)\n  }\n\n  if (!options) {\n    if (isOptionsObj(schemas)) {\n      options = schemas;\n      schemas = {};\n    }\n  }\n\n  this.__opts__ = assign({}, defaultOptions, options);\n\n  // Cache last tested result. Used to skip repeating steps on next `match` call.\n  this.__index__ = -1;\n  this.__last_index__ = -1; // Next scan position\n  this.__schema__ = '';\n  this.__text_cache__ = '';\n\n  this.__schemas__ = assign({}, defaultSchemas, schemas);\n  this.__compiled__ = {};\n\n  this.__tlds__ = tlds_default;\n  this.__tlds_replaced__ = false;\n\n  this.re = {};\n\n  compile(this);\n}\n\n/** chainable\n * LinkifyIt#add(schema, definition)\n * - schema (String): rule name (fixed pattern prefix)\n * - definition (String|RegExp|Object): schema definition\n *\n * Add new rule definition. See constructor description for details.\n **/\nLinkifyIt.prototype.add = function add (schema, definition) {\n  this.__schemas__[schema] = definition;\n  compile(this);\n  return this\n};\n\n/** chainable\n * LinkifyIt#set(options)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Set recognition options for links without schema.\n **/\nLinkifyIt.prototype.set = function set (options) {\n  this.__opts__ = assign(this.__opts__, options);\n  return this\n};\n\n/**\n * LinkifyIt#test(text) -> Boolean\n *\n * Searches linkifiable pattern and returns `true` on success or `false` on fail.\n **/\nLinkifyIt.prototype.test = function test (text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__ = -1;\n\n  if (!text.length) { return false }\n\n  let m, ml, me, len, shift, next, re, tld_pos, at_pos;\n\n  // try to scan for link with schema - that's the most simple rule\n  if (this.re.schema_test.test(text)) {\n    re = this.re.schema_search;\n    re.lastIndex = 0;\n    while ((m = re.exec(text)) !== null) {\n      len = this.testSchemaAt(text, m[2], re.lastIndex);\n      if (len) {\n        this.__schema__ = m[2];\n        this.__index__ = m.index + m[1].length;\n        this.__last_index__ = m.index + m[0].length + len;\n        break\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {\n    // guess schemaless links\n    tld_pos = text.search(this.re.host_fuzzy_test);\n    if (tld_pos >= 0) {\n      // if tld is located after found link - no need to check fuzzy pattern\n      if (this.__index__ < 0 || tld_pos < this.__index__) {\n        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {\n          shift = ml.index + ml[1].length;\n\n          if (this.__index__ < 0 || shift < this.__index__) {\n            this.__schema__ = '';\n            this.__index__ = shift;\n            this.__last_index__ = ml.index + ml[0].length;\n          }\n        }\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {\n    // guess schemaless emails\n    at_pos = text.indexOf('@');\n    if (at_pos >= 0) {\n      // We can't skip this check, because this cases are possible:\n      // 192.168.1.1@gmail.com, my.in@example.com\n      if ((me = text.match(this.re.email_fuzzy)) !== null) {\n        shift = me.index + me[1].length;\n        next = me.index + me[0].length;\n\n        if (this.__index__ < 0 || shift < this.__index__ ||\n            (shift === this.__index__ && next > this.__last_index__)) {\n          this.__schema__ = 'mailto:';\n          this.__index__ = shift;\n          this.__last_index__ = next;\n        }\n      }\n    }\n  }\n\n  return this.__index__ >= 0\n};\n\n/**\n * LinkifyIt#pretest(text) -> Boolean\n *\n * Very quick check, that can give false positives. Returns true if link MAY BE\n * can exists. Can be used for speed optimization, when you need to check that\n * link NOT exists.\n **/\nLinkifyIt.prototype.pretest = function pretest (text) {\n  return this.re.pretest.test(text)\n};\n\n/**\n * LinkifyIt#testSchemaAt(text, name, position) -> Number\n * - text (String): text to scan\n * - name (String): rule (schema) name\n * - position (Number): text offset to check from\n *\n * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly\n * at given position. Returns length of found pattern (0 on fail).\n **/\nLinkifyIt.prototype.testSchemaAt = function testSchemaAt (text, schema, pos) {\n  // If not supported schema check requested - terminate\n  if (!this.__compiled__[schema.toLowerCase()]) {\n    return 0\n  }\n  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this)\n};\n\n/**\n * LinkifyIt#match(text) -> Array|null\n *\n * Returns array of found link descriptions or `null` on fail. We strongly\n * recommend to use [[LinkifyIt#test]] first, for best speed.\n *\n * ##### Result match description\n *\n * - __schema__ - link schema, can be empty for fuzzy links, or `//` for\n *   protocol-neutral  links.\n * - __index__ - offset of matched text\n * - __lastIndex__ - index of next char after mathch end\n * - __raw__ - matched text\n * - __text__ - normalized text\n * - __url__ - link, generated from matched text\n **/\nLinkifyIt.prototype.match = function match (text) {\n  const result = [];\n  let shift = 0;\n\n  // Try to take previous element from cache, if .test() called before\n  if (this.__index__ >= 0 && this.__text_cache__ === text) {\n    result.push(createMatch(this, shift));\n    shift = this.__last_index__;\n  }\n\n  // Cut head if cache was used\n  let tail = shift ? text.slice(shift) : text;\n\n  // Scan string until end reached\n  while (this.test(tail)) {\n    result.push(createMatch(this, shift));\n\n    tail = tail.slice(this.__last_index__);\n    shift += this.__last_index__;\n  }\n\n  if (result.length) {\n    return result\n  }\n\n  return null\n};\n\n/**\n * LinkifyIt#matchAtStart(text) -> Match|null\n *\n * Returns fully-formed (not fuzzy) link if it starts at the beginning\n * of the string, and null otherwise.\n **/\nLinkifyIt.prototype.matchAtStart = function matchAtStart (text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__ = -1;\n\n  if (!text.length) return null\n\n  const m = this.re.schema_at_start.exec(text);\n  if (!m) return null\n\n  const len = this.testSchemaAt(text, m[2], m[0].length);\n  if (!len) return null\n\n  this.__schema__ = m[2];\n  this.__index__ = m.index + m[1].length;\n  this.__last_index__ = m.index + m[0].length + len;\n\n  return createMatch(this, 0)\n};\n\n/** chainable\n * LinkifyIt#tlds(list [, keepOld]) -> this\n * - list (Array): list of tlds\n * - keepOld (Boolean): merge with current list if `true` (`false` by default)\n *\n * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)\n * to avoid false positives. By default this algorythm used:\n *\n * - hostname with any 2-letter root zones are ok.\n * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\n *   are ok.\n * - encoded (`xn--...`) root zones are ok.\n *\n * If list is replaced, then exact match for 2-chars root zones will be checked.\n **/\nLinkifyIt.prototype.tlds = function tlds (list, keepOld) {\n  list = Array.isArray(list) ? list : [list];\n\n  if (!keepOld) {\n    this.__tlds__ = list.slice();\n    this.__tlds_replaced__ = true;\n    compile(this);\n    return this\n  }\n\n  this.__tlds__ = this.__tlds__.concat(list)\n    .sort()\n    .filter(function (el, idx, arr) {\n      return el !== arr[idx - 1]\n    })\n    .reverse();\n\n  compile(this);\n  return this\n};\n\n/**\n * LinkifyIt#normalize(match)\n *\n * Default normalizer (if schema does not define it's own).\n **/\nLinkifyIt.prototype.normalize = function normalize (match) {\n  // Do minimal possible changes by default. Need to collect feedback prior\n  // to move forward https://github.com/markdown-it/linkify-it/issues/1\n\n  if (!match.schema) { match.url = 'http://' + match.url; }\n\n  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {\n    match.url = 'mailto:' + match.url;\n  }\n};\n\n/**\n * LinkifyIt#onCompile()\n *\n * Override to modify basic RegExp-s.\n **/\nLinkifyIt.prototype.onCompile = function onCompile () {\n};\n\nmodule.exports = LinkifyIt;\n","'use strict';\n\n/* eslint-disable no-bitwise */\n\nconst decodeCache = {};\n\nfunction getDecodeCache (exclude) {\n  let cache = decodeCache[exclude];\n  if (cache) { return cache }\n\n  cache = decodeCache[exclude] = [];\n\n  for (let i = 0; i < 128; i++) {\n    const ch = String.fromCharCode(i);\n    cache.push(ch);\n  }\n\n  for (let i = 0; i < exclude.length; i++) {\n    const ch = exclude.charCodeAt(i);\n    cache[ch] = '%' + ('0' + ch.toString(16).toUpperCase()).slice(-2);\n  }\n\n  return cache\n}\n\n// Decode percent-encoded string.\n//\nfunction decode (string, exclude) {\n  if (typeof exclude !== 'string') {\n    exclude = decode.defaultChars;\n  }\n\n  const cache = getDecodeCache(exclude);\n\n  return string.replace(/(%[a-f0-9]{2})+/gi, function (seq) {\n    let result = '';\n\n    for (let i = 0, l = seq.length; i < l; i += 3) {\n      const b1 = parseInt(seq.slice(i + 1, i + 3), 16);\n\n      if (b1 < 0x80) {\n        result += cache[b1];\n        continue\n      }\n\n      if ((b1 & 0xE0) === 0xC0 && (i + 3 < l)) {\n        // 110xxxxx 10xxxxxx\n        const b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n\n        if ((b2 & 0xC0) === 0x80) {\n          const chr = ((b1 << 6) & 0x7C0) | (b2 & 0x3F);\n\n          if (chr < 0x80) {\n            result += '\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 3;\n          continue\n        }\n      }\n\n      if ((b1 & 0xF0) === 0xE0 && (i + 6 < l)) {\n        // 1110xxxx 10xxxxxx 10xxxxxx\n        const b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        const b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n          const chr = ((b1 << 12) & 0xF000) | ((b2 << 6) & 0xFC0) | (b3 & 0x3F);\n\n          if (chr < 0x800 || (chr >= 0xD800 && chr <= 0xDFFF)) {\n            result += '\\ufffd\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 6;\n          continue\n        }\n      }\n\n      if ((b1 & 0xF8) === 0xF0 && (i + 9 < l)) {\n        // 111110xx 10xxxxxx 10xxxxxx 10xxxxxx\n        const b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        const b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n        const b4 = parseInt(seq.slice(i + 10, i + 12), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80 && (b4 & 0xC0) === 0x80) {\n          let chr = ((b1 << 18) & 0x1C0000) | ((b2 << 12) & 0x3F000) | ((b3 << 6) & 0xFC0) | (b4 & 0x3F);\n\n          if (chr < 0x10000 || chr > 0x10FFFF) {\n            result += '\\ufffd\\ufffd\\ufffd\\ufffd';\n          } else {\n            chr -= 0x10000;\n            result += String.fromCharCode(0xD800 + (chr >> 10), 0xDC00 + (chr & 0x3FF));\n          }\n\n          i += 9;\n          continue\n        }\n      }\n\n      result += '\\ufffd';\n    }\n\n    return result\n  })\n}\n\ndecode.defaultChars = ';/?:@&=+$,#';\ndecode.componentChars = '';\n\nconst encodeCache = {};\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache (exclude) {\n  let cache = encodeCache[exclude];\n  if (cache) { return cache }\n\n  cache = encodeCache[exclude] = [];\n\n  for (let i = 0; i < 128; i++) {\n    const ch = String.fromCharCode(i);\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch);\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2));\n    }\n  }\n\n  for (let i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i];\n  }\n\n  return cache\n}\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode (string, exclude, keepEscaped) {\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped = exclude;\n    exclude = encode.defaultChars;\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true;\n  }\n\n  const cache = getEncodeCache(exclude);\n  let result = '';\n\n  for (let i = 0, l = string.length; i < l; i++) {\n    const code = string.charCodeAt(i);\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3);\n        i += 2;\n        continue\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code];\n      continue\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        const nextCode = string.charCodeAt(i + 1);\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1]);\n          i++;\n          continue\n        }\n      }\n      result += '%EF%BF%BD';\n      continue\n    }\n\n    result += encodeURIComponent(string[i]);\n  }\n\n  return result\n}\n\nencode.defaultChars = \";/?:@&=+$,-_.!~*'()#\";\nencode.componentChars = \"-_.!~*'()\";\n\nfunction format (url) {\n  let result = '';\n\n  result += url.protocol || '';\n  result += url.slashes ? '//' : '';\n  result += url.auth ? url.auth + '@' : '';\n\n  if (url.hostname && url.hostname.indexOf(':') !== -1) {\n    // ipv6 address\n    result += '[' + url.hostname + ']';\n  } else {\n    result += url.hostname || '';\n  }\n\n  result += url.port ? ':' + url.port : '';\n  result += url.pathname || '';\n  result += url.search || '';\n  result += url.hash || '';\n\n  return result\n}\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n//\n// Changes from joyent/node:\n//\n// 1. No leading slash in paths,\n//    e.g. in `url.parse('http://foo?bar')` pathname is ``, not `/`\n//\n// 2. Backslashes are not replaced with slashes,\n//    so `http:\\\\example.org\\` is treated like a relative path\n//\n// 3. Trailing colon is treated like a part of the path,\n//    i.e. in `http://example.org:foo` pathname is `:foo`\n//\n// 4. Nothing is URL-encoded in the resulting object,\n//    (in joyent/node some chars in auth and paths are encoded)\n//\n// 5. `url.parse()` does not have `parseQueryString` argument\n//\n// 6. Removed extraneous result properties: `host`, `path`, `query`, etc.,\n//    which can be constructed using other parts of the url.\n//\n\nfunction Url () {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.pathname = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nconst protocolPattern = /^([a-z0-9.+-]+:)/i;\nconst portPattern = /:[0-9]*$/;\n\n// Special case for a simple path URL\n/* eslint-disable-next-line no-useless-escape */\nconst simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/;\n\n// RFC 2396: characters reserved for delimiting URLs.\n// We actually just auto-escape these.\nconst delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'];\n\n// RFC 2396: characters not allowed for various reasons.\nconst unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims);\n\n// Allowed by RFCs, but cause of XSS attacks.  Always escape these.\nconst autoEscape = ['\\''].concat(unwise);\n// Characters that are never ever allowed in a hostname.\n// Note that any invalid chars are also handled, but these\n// are the ones that are *expected* to be seen, so we fast-path\n// them.\nconst nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape);\nconst hostEndingChars = ['/', '?', '#'];\nconst hostnameMaxLen = 255;\nconst hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/;\nconst hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/;\n// protocols that can allow \"unsafe\" and \"unwise\" chars.\n// protocols that never have a hostname.\nconst hostlessProtocol = {\n  javascript: true,\n  'javascript:': true\n};\n// protocols that always contain a // bit.\nconst slashedProtocol = {\n  http: true,\n  https: true,\n  ftp: true,\n  gopher: true,\n  file: true,\n  'http:': true,\n  'https:': true,\n  'ftp:': true,\n  'gopher:': true,\n  'file:': true\n};\n\nfunction urlParse (url, slashesDenoteHost) {\n  if (url && url instanceof Url) return url\n\n  const u = new Url();\n  u.parse(url, slashesDenoteHost);\n  return u\n}\n\nUrl.prototype.parse = function (url, slashesDenoteHost) {\n  let lowerProto, hec, slashes;\n  let rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    const simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n      }\n      return this\n    }\n  }\n\n  let proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    lowerProto = proto.toLowerCase();\n    this.protocol = proto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  /* eslint-disable-next-line no-useless-escape */\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    let hostEnd = -1;\n    for (let i = 0; i < hostEndingChars.length; i++) {\n      hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    let auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = auth;\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (let i = 0; i < nonHostChars.length; i++) {\n      hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) {\n      hostEnd = rest.length;\n    }\n\n    if (rest[hostEnd - 1] === ':') { hostEnd--; }\n    const host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost(host);\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    const ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      const hostparts = this.hostname.split(/\\./);\n      for (let i = 0, l = hostparts.length; i < l; i++) {\n        const part = hostparts[i];\n        if (!part) { continue }\n        if (!part.match(hostnamePartPattern)) {\n          let newpart = '';\n          for (let j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            const validParts = hostparts.slice(0, i);\n            const notHost = hostparts.slice(i + 1);\n            const bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    }\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n    }\n  }\n\n  // chop off from the tail first.\n  const hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  const qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    rest = rest.slice(0, qm);\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '';\n  }\n\n  return this\n};\n\nUrl.prototype.parseHost = function (host) {\n  let port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nexports.decode = decode;\nexports.encode = encode;\nexports.format = format;\nexports.parse = urlParse;\n"],"names":["maxInt","base","regexPunycode","regexNonASCII","regexSeparators","errors","floor","Math","stringFromCharCode","String","fromCharCode","error","type","RangeError","mapDomain","domain","callback","parts","split","result","length","encoded","array","map","replace","join","ucs2decode","string","output","counter","value","charCodeAt","extra","push","ucs2encode","codePoints","fromCodePoint","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","baseMinusTMin","decode","input","inputLength","i","n","bias","basic","lastIndexOf","j","index","oldi","w","t","baseMinusT","out","splice","encode","currentValue","basicLength","handledCPCount","m","handledCPCountPlusOne","q","qMinusT","toUnicode","test","slice","toLowerCase","toASCII","Object","defineProperty","exports","Uint16Array","c","restoreDiff","arr","Map","v","o","decodeXMLStrict","decodeHTML5Strict","decodeHTML4Strict","decodeHTML5","decodeHTML4","decodeHTMLAttribute","decodeHTMLStrict","decodeHTML","decodeXML","DecodingMode","EntityDecoder","encodeHTML5","encodeHTML4","encodeNonAsciiHTML","encodeHTML","escapeText","escapeAttribute","escapeUTF8","escape","encodeXML","decodeStrict","EncodingMode","EntityLevel","decode_js_1","encode_js_1","escape_js_1","data","options","XML","level","HTML","mode","undefined","_a","opts","Strict","UTF8","Attribute","Text","ASCII","escape_js_2","enumerable","get","encode_js_2","decode_js_2","memo","module","insert","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","css","styleElement","styleSheet","cssText","firstChild","removeChild","createTextNode","ALIAS","Symbol","for","DOC","MAP","PAIR","SCALAR","SEQ","NODE_TYPE","isAlias","node","isDocument","isMap","isPair","isScalar","isSeq","isCollection","isNode","hasAnchor","anchor","BREAK","SKIP","REMOVE","visit","visitor","visitor_","initVisitor","visit_","contents","freeze","key","path","ctrl","callVisitor","replaceNode","concat","items","ci","ck","cv","async","visitAsync","visitAsync_","Collection","Node","Value","assign","Alias","Scalar","Seq","Pair","parent","pt","escapeChars","escapeTagName","tn","ch","Directives","constructor","yaml","tags","this","docStart","docEnd","defaultYaml","defaultTags","clone","copy","atDocument","res","version","atNextDocument","explicit","add","line","onError","trim","name","shift","handle","prefix","tagName","source","verbatim","suffix","match","decodeURIComponent","tagString","tag","entries","startsWith","substring","toString","doc","lines","tagEntries","tagNames","_key","keys","some","anchorIsValid","sa","JSON","stringify","anchorNames","root","anchors","Set","findNewAnchor","exclude","has","applyReviver","reviver","obj","val","Array","isArray","len","v0","v1","from","delete","set","call","toJS","arg","ctx","toJSON","aliasCount","count","onCreate","keep","Number","NodeBase","create","getPrototypeOf","getOwnPropertyDescriptors","range","mapAsMap","maxAliasCount","onAnchor","TypeError","mapKeyWarned","values","super","resolve","nodes","found","aliasResolveCache","_arg","msg","ReferenceError","getAliasCount","_onComment","_onChompKeep","src","verifyAliasOrder","implicitKey","item","kc","vc","max","isScalarValue","createNode","schema","Boolean","BigInt","valueOf","aliasDuplicateObjects","onTagObj","sourceObjects","ref","tagObj","filter","find","format","identify","findTagObject","iterator","nodeClass","default","collectionFromPath","isInteger","a","keepUndefined","BLOCK_FOLDED","BLOCK_LITERAL","PLAIN","QUOTE_DOUBLE","QUOTE_SINGLE","isEmptyPath","next","done","configurable","writable","it","addIn","rest","deleteIn","getIn","keepScalar","hasAllNullValues","allowScalar","every","commentBefore","comment","hasIn","setIn","stringifyComment","str","indentComment","indent","lineComment","endsWith","includes","FOLD_FLOW","FOLD_BLOCK","FOLD_QUOTED","foldFlowLines","text","indentAtStart","lineWidth","minContentWidth","onFold","onOverflow","endStep","folds","escapedFolds","prev","end","overflow","escStart","escEnd","consumeMoreIndentedLines","fold","start","getFoldOptions","isBlock","containsDocumentMarker","doubleQuotedString","json","doubleQuotedAsJSON","minMultiLineLength","doubleQuotedMinMultiLineLength","code","substr","singleQuotedString","singleQuote","quotedString","qs","hasDouble","hasSingle","blockEndNewlines","RegExp","blockString","onComment","onChompKeep","blockQuote","commentString","forceBlockIndent","literal","indentLength","limit","strLen","lineLengthOverLimit","chomp","endStart","endNlPos","indexOf","startEnd","startWithSpace","startNlPos","header","foldedValue","literalFallback","foldOptions","body","stringifyString","inFlow","ss","_stringify","_type","actualString","indentStep","compat","plainString","defaultKeyType","defaultStringType","createStringifyContext","opt","directives","falseStr","flowCollectionPadding","indentSeq","nullStr","simpleKeys","trueStr","toStringOptions","collectionStyle","repeat","resolvedAliases","testMatch","getTagObject","props","stringifyProps","warn","logLevel","warning","console","MERGE_KEY","merge","description","addToJSMap","addMergeToJSMap","mergeValue","srcMap","prototype","hasOwnProperty","addPairToJSMap","isMergeKey","jsKey","stringKey","strCtx","inStringifyKey","strKey","jsonStr","stringifyKey","jsValue","createPair","_","allNullValues","keyComment","explicitKey","vsb","vcb","valueComment","keyCommentDone","chompKeep","spaceBefore","flow","valueCommentDone","valueStr","ws","vs0","nl0","hasNewline","hasPropsLine","sp0","stringifyPair","stringifyCollection","collection","stringifyFlowCollection","stringifyBlockCollection","blockItemPrefix","flowChars","itemIndent","itemCtx","addCommentBefore","ik","fcPadding","reqNewline","linesAtValue","iv","reduce","sum","ic","trimStart","findPair","YAMLMap","replacer","sortMapEntries","sort","pair","overwrite","_pair","sortEntries","findIndex","Type","YAMLSeq","idx","asItemIndex","seq","nullTag","boolTag","stringifyNumber","minFractionDigits","num","isFinite","isNaN","is","d","floatNaN","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY","floatExp","parseFloat","toExponential","dot","intIdentify","intResolve","offset","radix","intAsBigInt","parseInt","intStringify","intOct","_onError","intHex","stringifyJSON","binary","Uint8Array","atob","buffer","buf","btoa","s","ceil","resolvePairs","cn","createPairs","iterable","pairs","YAMLOMap","bind","omap","seenKeys","boolStringify","trueTag","falseTag","f","sign","intBin","YAMLSet","keepPair","parseSexagesimal","asBigInt","p","stringifySexagesimal","_60","unshift","padStart","intTime","floatTime","timestamp","Date","year","month","day","hour","minute","second","millisec","date","UTC","tz","abs","toISOString","schemas","tagsByName","bool","float","int","null","coreKnownTags","getTags","customTags","schemaName","addMergeTag","schemaTags","sortMapEntriesByKey","b","Schema","resolveKnownTags","toStringDefaults","knownTags","Document","warnings","_replacer","keepSourceTokens","prettyErrors","strict","stringKeys","uniqueKeys","_directives","setSchema","assertCollection","createAlias","keyToStr","asStr","anchorPrefix","setAnchors","aliasObjects","prevAnchors","createNodeAnchors","sv","jsonArg","hasDirectives","dir","cs","contentComment","dc","stringifyDocument","YAMLError","pos","message","YAMLParseError","YAMLWarning","prettifyError","lc","linePos","col","lineStr","lineStarts","min","pointer","resolveProps","tokens","indicator","parentIndent","startOnNewline","atNewline","hasSpace","commentSep","reqSpace","tab","newlineAfterProp","comma","token","cb","last","containsNewline","st","sep","flowIndentCheck","fc","mapIncludes","search","isEqual","startColMsg","resolveEnd","blockMsg","resolveCollection","CN","coll","composeNode","composeEmptyNode","bm","atRoot","commentEnd","collItem","keyProps","atKey","keyStart","keyNode","valueProps","valueNode","srcToken","resolveBlockMap","bs","resolveBlockSeq","fcName","prevItemComment","loop","endRange","expectedEnd","ce","ee","cePos","toUpperCase","resolveFlowCollection","Coll","resolveBlockScalar","scalar","ts","parseBlockScalarHeader","first","splitLines","chompStart","content","trimIndent","contentStart","prevMoreIndented","crlf","resolveFlowScalar","rel","badChar","foldLines","plainValue","singleQuotedValue","foldNewline","cc","escapeCodes","x","u","U","parseCharCode","raw","wsStart","doubleQuotedValue","valueEnd","re","exec","lastIndex","r","N","L","P","composeScalar","tagToken","matchWithTest","kt","findScalarTagByName","findScalarTagByTest","emptyScalarPosition","before","isSrcToken","alias","composeAlias","nl","lastProp","expType","composeCollection","getErrorPos","parsePrelude","prelude","atComment","afterEmptyLine","Composer","atDirectives","decorate","afterDoc","apply","streamInfo","compose","forceDoc","endOffset","contentEnd","composeDoc","resolveAsScalar","createScalarToken","context","he","addEndtoBlockProps","setScalarValue","afterKey","setBlockScalarValue","setFlowScalarValue","oa","tok","cst","stringifyToken","stringifyItem","_visit","field","itemAtPath","parentCollection","BOM","DOCUMENT","FLOW_END","prettyToken","tokenType","isEmpty","hexDigits","tagChars","flowIndicatorChars","invalidAnchorChars","isNotAnchorChar","Lexer","atEnd","blockScalarIndent","blockScalarKeep","flowKey","flowLevel","indentNext","indentValue","lineEndPos","lex","incomplete","hasChars","parseNext","atLineEnd","charAt","continueScalar","dt","getLine","setNext","state","peek","parseStream","parseLineStart","parseBlockStart","parseDocument","parseFlowCollection","parseQuotedScalar","parseBlockScalar","parsePlainScalar","pushCount","dirEnd","pushSpaces","pushNewline","sp","ch0","ch1","pushIndicators","pushUntil","quote","qb","pushToIndex","lastChar","allowEmpty","pushTag","allowTabs","LineCounter","addNewLine","low","high","mid","includesToken","list","findNonEmptyIndex","isFlowToken","getPrevProps","getFirstKeyStartProps","fixFlowSeqItems","Parser","onNewLine","atNewLine","atScalar","onKeyLine","stack","lexer","parse","lexeme","step","pop","sourceToken","top","stream","blockScalar","blockMap","blockSequence","flowCollection","documentEnd","lineEnd","bv","startBlockValue","atIndentedComment","atMapIndent","atNextItem","fs","flowScalar","parseOptions","lineCounter","parseAllDocuments","parser","composer","docs","forEach","empty","_doc","_reviver","round","nonce","setAttribute","__createBinding","k2","desc","getOwnPropertyDescriptor","__esModule","__setModuleDefault","__importStar","mod","__importDefault","determineBranch","BinTrieFlags","replaceCodePoint","decodeCodePoint","xmlDecodeTree","htmlDecodeTree","decode_data_html_js_1","decode_data_xml_js_1","decode_codepoint_js_1","CharCodes","EntityDecoderState","decode_codepoint_js_2","isNumber","ZERO","NINE","isHexadecimalCharacter","UPPER_A","UPPER_F","LOWER_A","LOWER_F","isEntityInAttributeInvalidEnd","EQUALS","UPPER_Z","LOWER_Z","isAsciiAlphaNumeric","decodeTree","emitCodePoint","EntityStart","consumed","treeIndex","excess","decodeMode","startEntity","write","NUM","NumericStart","stateNumericStart","NamedEntity","stateNamedEntity","NumericDecimal","stateNumericDecimal","NumericHex","stateNumericHex","LOWER_X","addToNumericResult","digitCount","pow","startIdx","char","emitNumericEntity","lastCp","expectedLength","absenceOfDigitsInNumericCharacterReference","SEMI","missingSemicolonAfterCharacterReference","validateNumericCharacterReference","current","valueLength","VALUE_LENGTH","emitNotTerminatedNamedEntity","emitNamedEntityData","getDecoder","ret","decoder","nodeIdx","branchCount","BRANCH_LENGTH","jumpOffset","JUMP_TABLE","lo","hi","midVal","htmlDecoder","xmlDecoder","Legacy","cssMapping","base64","unescape","encodeURIComponent","sourceMapping","mdurl","ucmicro","entities","LinkifyIt","punycode","_interopNamespaceDefault","mdurl__namespace","ucmicro__namespace","isString","_class","_hasOwnProperty","arguments","arrayReplaceAt","newElements","isValidEntityCode","surrogate1","surrogate2","UNESCAPE_MD_RE","UNESCAPE_ALL_RE","DIGITAL_ENTITY_TEST_RE","unescapeAll","escaped","entity","decoded","replaceEntityPattern","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","escapeHtml","REGEXP_ESCAPE_RE","isSpace","isWhiteSpace","isPunctChar","S","isMdAsciiPunct","normalizeReference","lib","utils","__proto__","escapeRE","object","unescapeMd","helpers","parseLinkDestination","ok","parseLinkLabel","disableNested","marker","prevPos","posMax","oldPos","md","inline","skipToken","labelEnd","parseLinkTitle","prev_state","can_continue","default_rules","Renderer","rules","Ruler","__rules__","__cache__","Token","nesting","attrs","children","markup","info","meta","block","hidden","StateCore","env","inlineMode","code_inline","slf","renderAttrs","code_block","fence","highlighted","langName","langAttrs","highlight","attrIndex","tmpAttrs","langPrefix","tmpToken","image","renderInlineAsText","renderToken","hardbreak","xhtmlOut","softbreak","breaks","html_block","html_inline","l","needLf","nextToken","renderInline","render","__find__","__compile__","self","chains","rule","enabled","alt","altName","chain","fn","at","beforeName","ruleName","after","afterName","enable","ignoreInvalid","enableOnly","disable","getRules","chainName","attrPush","attrData","attrSet","attrGet","attrJoin","NEWLINES_RE","NULL_RE","isLinkOpen$1","isLinkClose$1","RARE_RE","SCOPED_ABBR_TEST_RE","SCOPED_ABBR_RE","SCOPED_ABBR","tm","replaceFn","replace_scoped","inlineTokens","inside_autolink","replace_rare","QUOTE_TEST_RE","QUOTE_RE","replaceAt","process_inlines","thisLevel","OUTER","canOpen","canClose","isSingle","nextChar","isLastPunctChar","isNextPunctChar","isLastWhiteSpace","isNextWhiteSpace","single","openQuote","closeQuote","quotes","_rules$2","blockTokens","linkify","pretest","htmlLinkLevel","currentToken","links","lastPos","ln","url","fullUrl","normalizeLink","validateLink","urlText","normalizeLinkText","token_o","token_t","token_c","blkIdx","typographer","curr","Core","ruler","StateBlock","bMarks","eMarks","tShift","sCount","bsCount","blkIndent","lineMax","tight","ddIndent","listIndent","parentType","indent_found","escapedSplit","isEscaped","skipBulletListMarker","startLine","skipOrderedListMarker","process","State","skipEmptyLines","skipSpaces","skipSpacesBack","skipChars","skipCharsBack","getLines","begin","keepLastLF","queue","lineIndent","lineStart","open_tag","close_tag","HTML_TAG_RE","HTML_OPEN_CLOSE_TAG_RE","HTML_SEQUENCES","_rules$1","endLine","silent","nextLine","firstCh","secondCh","lineText","columns","aligns","columnCount","oldParentType","terminatorRules","tableLines","token_ho","token_il","tbodyLines","autocompletedCells","terminate","token_tdo","mem","params","haveEndMarker","oldLineMax","oldBMarks","oldBSCount","oldSCount","oldTShift","lastLineEmpty","isOutdented","spaceAfterMarker","adjustTab","initial","oldIndent","tokenize","cnt","isOrdered","markerValue","posAfterMarker","isTerminatingParagraph","markerCharCode","listTokIdx","listLines","prevEmptyEnd","indentAfterMarker","itemLines","oldTight","oldListIndent","markTightParagraphs","_endLine","getNextLine","isContinuation","lineContent","destRes","href","destEndPos","destEndLineNo","title","titleRes","label","references","html","tmp","token_i","ParserBlock","StateInline","outTokens","tokens_meta","pending","pendingLevel","cache","delimiters","_prev_delimiters","backticks","backticksScanned","linkLevel","isTerminatorChar","maxNesting","hasEmptyLines","prevLine","pushPending","token_meta","scanDelims","canSplitWord","left_flanking","right_flanking","can_open","can_close","SCHEME_RE","ESCAPED","postProcess$1","loneMarkers","startDelim","endDelim","r_strikethrough","scanned","open","close","postProcess","isStrong","r_emphasis","EMAIL_RE","AUTOLINK_RE","DIGITAL_RE","NAMED_RE","processDelimiters","openersBottom","headerIdx","lastTokenIdx","jumps","closerIdx","closer","minOpenerIdx","openerIdx","newMinOpenerIdx","opener","isOddMatch","lastJump","_rules","proto","link","matchAtStart","pmax","escapedStr","ch2","origStr","openerLength","matchStart","matchEnd","closerLength","parseReference","labelStart","isLetter","isLinkClose","_rules2","ParserInline","ruler2","config","components","core","zero","rules2","commonmark","BAD_PROTO_RE","GOOD_DATA_RE","RECODE_HOSTNAME_FOR","parsed","hostname","protocol","er","defaultChars","MarkdownIt","presetName","renderer","configure","presets","missed","use","plugin","args","parseInline","allMinimalCycles","idFunc","edges","cycles","inACycle","startNode","visited","newQueue","cycle","nextNode","edgeData","defaultKeyFunc","IDSet","keyFunc","_entries","_entriesByKey","clear","remove","predicate","e2","modified","id","getByKey","ensure","entry","throwIfExists","size","SymbolSet","grammar","enforceSymbolType","hasNull","debugString","labels","skipAux","exp","getSymById","isAuxiliary","addFrom","another","includeNull","addTo","termid","term","isTerminal","NullableSet","refresh","nonterms","beforeCount","allNonTerminals","nt","rulesForNT","isStrNullable","rhs","isNullable","fromIndex","toIndex","syms","SymSymbolSets","_count","forEachTerm","entriesFor","debugValue","sym","addNull","srcEntries","destEntries","FirstSets","nullables","forEachTermIn","allNullable","symj","forEachRule","processRule","FollowSets","firstSets","g","startSymbol","Eof","Sym","auxType","precedence","assocLeft","creationId","idCounter","compareTo","localeCompare","equals","append","lits","extend","strs","lit","startIndex","endIndex","numToDelete","itemsToAdd","diff","containsAt","RuleAction","isFunction","isChildPosition","Rule","action","Grammar","make","symbolSet","allRules","_rulesForNT","_followSets","_hasNull","auxNTCount","auxNTPrefix","Null","newTerm","followSets","augStartRule","_AugStartRule","augmentStartSymbol","augSym","newNT","addRule","addTerminals","terminals","nonTerminals","auxNonTerminals","allSymbols","forEachNT","getRule","getSym","findRule","production","nonterm","ensureSym","removeRules","pred","removeSymbols","newRules","newRhs","sym2","T","NT","isNT","isAuxNT","exps","normalizeRule","anyof","ensureAuxNT","atleast0","leftRec","auxNT","findAuxNT","which","newAuxNT","atleast1","newAuxNTName","findAuxNTByRules","ntRules","print","ruleSep","includeSemiColon","lambdaSymbol","terminalDerivingSymbols","nadded","allDerive","reachableSymbols","fromSymbol","reachable","ruleIndex","leftRecursion","str2regex","TokenType","NodeType","LRActionType","Loader","leftRecursive","generatedTokenizer","regexSyntax","symbolsByLabel","newSymbolCallback","tokenHandlers","symbolForLabel","registerSymbol","ensureSymbol","assumedTerminal","currSym","et","ARROW","OPEN_SQ","CLOSE_SQ","OPEN_PAREN","CLOSE_PAREN","OPEN_BRACE","CLOSE_BRACE","STAR","PLUS","QMARK","SEMI_COLON","COLON","PIPE","SPACES","COMMENT","STRING","tape","REGEX","pattern","positions","flags","NUMBER","PCT_IDENT","DOLLAR_NUM","DOLLAR_IDENT","IDENT","Tokenizer","tokenizer","owner","parseGrammar","parseRegex","priority","syntax","tokPattern","expectToken","patternStr","hasMore","currCh","advance","peeked","parseDecl","SyntaxError","parseDirective","directive","tokenHandler","parseTokenHandler","isDef","tokName","addVar","expr","consumeIf","funcName","handler","ident","parseProductions","parseProd","nextMatches","PFNode","childCount","childAt","reprString","PTNode","ParserBase","setTokenizer","tokenbuffer","SimpleParser","delegate","parseInput","ParseError","setPrototypeOf","LRAction","gotoState","ACCEPT","SHIFT","REDUCE","Shift","goto","Reduce","Goto","GOTO","Accept","conflictActions","actions","hasConflicts","getActions","stateId","l1","addAction","ac","fromId","symId","stateStack","nodeStack","nth","popN","parseTable","tokenizerContext","buildParseTree","copySingleChild","resolveActions","actionResolver","err","onTokenError","onNextToken","nextSym","nextValue","topState","topNode","newNode","ruleLen","childNode","beforeAddingChildNode","handlerName","ruleHandlers","onReduction","newAction","LRItem","position","pre","post","LRItemSet","ig","_lookaheads","_hasLookAheads","itemGraph","addLookAhead","s1","s2","clearLookAheads","getLookAheads","revalKey","hasLookAheads","itemId","i1","i2","las","LRItemGraph","gotoSets","itemSets","startItem","reset","startSet","evalGotoSets","currSet","gotoSet","setGoto","itemSet","newItemSet","advanceItemAndAdd","closure","itemToAdvance","fromItemSet","toItemSet","newItem","laSym","ensureGotoSet","fromSet","toSet","getGoto","forEachGoto","symid","gotoSetFor","iset","LR0ItemGraph","newset","LR1ItemGraph","B","lookahead","bRules","br","makeSLRParseTable","evalLASetsForSLRItem","makeSLRAutomaton","makeParseTableFromLA","nextSet","lookaheads","lr1Item","evalLASetsForLALRItem","augGrammar","prevSets","findP","currState","states","transitions","prevStates","nextState","pSet","pALabel","pA","newLRParser","ptable","tokenFunc","eparser","debug","log","vm","prog","load","makeLRParseTable","g2","ensureG2Sym","pi","newSymLabel","newSym","startState","buildRuleFrom","A","newSyms","xi","startSym","p1","newA","newRHS","newRule","grammarFromLR0ItemGraph","makeLALRParseTable","makeParseTable","newParseTable","merged","ptabDV","igDV","mergedDebugValue","logParserDebug","stylesInDOM","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","indexByIdentifier","media","sourceMap","supports","layer","updater","addElementStyle","byIndex","api","domAPI","update","newObj","lastIdentifiers","newList","newLastIdentifiers","_i","_index","encode_html_js_1","htmlReplacer","encodeHTMLTrieRe","regExp","lastIdx","cp","getCodePoint","xmlReplacer","Any","Cc","Cf","Z","decodeMap","CharClassType","lA","lZ","uA","uZ","USCORE","CharClassHelper","matches","charCode","neg","CharClassHelpers","reString","spaceChars","PropertyName","PropertyValue","RegexType","CharType","OpCode","Regex","groupIndex","groupName","groupIsSilent","ignoreCase","dotAll","multiline","setOptions","isVariable","evalREString","modifiers","StartOfInput","START_OF_INPUT","reverse","EndOfInput","END_OF_INPUT","Assertion","cond","negate","LookAhead","LOOK_AHEAD","LookBack","LOOK_BACK","Quant","minCount","maxCount","greedy","QUANT","isUnlimited","quant","Cat","CAT","child","Union","UNION","option","Char","op","CHAR","matchChar","LeafChar","AnyChar","Class","charClass","CharClass","Single","SingleChar","PropertyEscape","propNameOrId","propValueOrId","CharGroup","chars","CharRange","Intersection","Range","Var","reversed","VAR","BackNamedRef","BACK_NAMED_REF","BackRef","BackNumRef","BACK_NUM_REF","skip","matchIndex","activeStates","stateCanActivate","needsSpecificStates","isNewLineChar","Match","groups","Prog","startCondition","scIsInclusive","instrs","stateMapping","registerState","opcode","Instr","initializer","instrDebugValue","InstrDebugValue","instr","Thread","gen","parentId","registers","regIncr","regId","regAcquire","regRelease","regValue","VM","getState","setState","forward","configs","threadCounter","currThreads","nextThreads","startPos","genForOffset","savePosition","thread","tapeIndex","jumpBy","jumpTo","newOffset","forkTo","startGroup","newThread","endGroup","addThread","nextCh","lastCh","Jump","Split","newOff","Save","tracer","threadQueued","GroupStart","GroupEnd","StartingChar","MLStartingChar","prevCh","EndingChar","MLEndingChar","StartOfWord","EndOfWord","RBegin","groupStart","matchSuccess","recurseMatch","Begin","consume","EnsureState","matchCurrPos","currChCodeLower","currChCodeUpper","currChCode","startMatching","bestMatch","stepChar","startOffset","savedPos","canAdvance","newPos","currMatch","nextMatch","stepThread","threadStepped","advanceTape","End","currPriority","CIChar","AnyNonNL","Compiler","regexResolver","listener","emitGroups","emitPosition","compile","ensureInstr","ind","compileExpr","currOffset","compileChar","ml","START_OF_WORD","END_OF_WORD","compileCat","compileUnion","compileQuant","compileVar","compileBackNamedRef","compileBackNumRef","compileLookAhead","compileLookBack","cat","ne","union","jmp","compileAtleast0","compileAtleast1","compileOptional","l3","l2","la","lb","UnexpectedTokenError","foundToken","expectedTokens","TapeInterface","hasIndex","charCodeAtLower","charCodeAtUpper","_rawInput","advanceAfter","ensureNoPrefixSlash","advanceTo","currStart","numSlashes","success","lookback","isOneOf","expected","TokenBuffer","matchFunc","nextAction","ensureToken","GroupCounter","RegexParser","unicode","reduceLeft","throwError","refNum","gtPos","clPos","parseCharGroup","parseGroup","parseQuant","nchars","parseChar","depth","subExpr","currch","endch","parseEscapeChar","parseSingleChar","parsePropertyEscape","clEnd","eqPos","propStr","propName","propValue","WORD_CHAR","DIGITS","hexSeq","hexVal","ucodeSeq","ucodeVal","sub","advanceIf","ignoreSpaces","obCount","ignoreSpaces2","foundComma","p2","part1","part2","foundEq","build","exprFromJSRE","flatten","exprFromFlexRE","isRegExp","jsRE","strings","flexRE","BaseTokenizer","_prog","_vm","onMatchHandlers","matchHandlersByValue","variables","compiler","findRuleByValue","getVar","regex","currValue","onMatch","on","sortedRules","sortRules","r1","r2","startChar","gi","toToken","SINGLE_QUOTE_STRING","DOUBLE_QUOTE_STRING","JS_REGEX","xmlCodeMap","getEscaper","codePointAt","element","createElement","setAttributes","attributes","insertStyleElement","needLayer","styleTagTransform","parentNode","removeStyleElement","assert","condition","MAX_INT","TEvent","payload","uuid","_spawnedFrom","sourceState","cancelled","timeStamp","spawnedFrom","setSpawnedFrom","_rootEvent","rootEvent","spawn","stateData","enter","event","EventEmitter","_eventHub","EventHub","eventHub","hub","oldHub","eventHubChanged","_handlers","_events","_inBatchMode","names","_addHandler","removeOn","_removeHandler","_ensurestrings","handlerlist","evHandlers","emit","evt","dispatchEvent","evtCallbacks","startBatchMode","cancelBatch","commitBatch","BATCH_EVENTS","MutableListNode","nextSibling","prevSibling","ValueList","_firstChild","_lastChild","_size","pushBack","method","eqlFunc","tmp2","reversedValues","pushFront","popBack","popFront","List","container","Size","h","width","height","Rect","y","box","minX","minY","maxX","maxY","unionAll","boxes","Browser","IS_EXPLORER","navigator","userAgent","IS_FIREFOX","IS_OPERA","UAHasChrome","UAHasSafari","IS_SAFARI","IS_CHROME","fontMetrics","svgBBox","bbox","getBBox","clientRect","getClientRects","parentClientRect","parentElement","getBoundingClientRect","getFontMetrics","fontFamily","fontSize","familyMetrics","$","offsetHeight","forEachChild","elem","forEachNode","childNodes","forEachAttribute","nodeNameMap","attrib","parseCSSStyles","kvpair","getAttr","validators","getAttribute","ensureAttr","setAttr","getAttrOrStyle","attribName","cssStyles","styleName","createSVGNode","nodename","ns","createElementNS","attr","textContent","removeNode","insertAfter","newNodes","insertBefore","getCSS","setCSS","ensureElement","elemOrId","incr","absStart","gcdof","Fraction","den","factorized","gcd","isWhole","isZero","isInfinity","isOne","plus","plusNum","minus","minusNum","times","timesNum","divby","divbyNum","numDivby","floorOfD","modNum","inverse","equalsNum","cmp","cmpNum","isLT","isLTE","isLTNum","isLTENum","isGT","isGTE","isGTNum","isGTENum","f1","f2","ONE","INFINITY","Frac","cssWithMappingToString","modules","dedupe","alreadyImportedModules","_k","uc_micro","defaultOptions","fuzzyLink","fuzzyEmail","fuzzyIP","defaultSchemas","validate","tail","http","src_auth","src_host_port_strict","src_path","no_http","src_domain","src_domain_root","src_port","src_host_terminator","mailto","src_email_name","src_host_strict","tlds_default","src_Any","src_Cc","src_Z","src_P","src_ZPCc","src_ZCc","src_pseudo_letter","src_ip4","src_xn","src_host","tpl_host_fuzzy","tpl_host_no_ip_fuzzy","tpl_host_fuzzy_strict","tpl_host_port_fuzzy_strict","tpl_host_port_no_ip_fuzzy_strict","tpl_host_fuzzy_test","tpl_email_fuzzy","tpl_link_fuzzy","tpl_link_no_ip_fuzzy","reFactory","__opts__","tlds","__tlds__","untpl","tpl","src_tlds","onCompile","__tlds_replaced__","email_fuzzy","link_fuzzy","link_no_ip_fuzzy","host_fuzzy_test","aliases","schemaError","__compiled__","__schemas__","compiled","createValidator","normalize","slist","schema_test","schema_search","schema_at_start","__index__","__text_cache__","resetScanCache","__last_index__","__schema__","createMatch","acc","definition","me","tld_pos","at_pos","testSchemaAt","keepOld","el","decodeCache","getDecodeCache","b1","b2","chr","b3","b4","componentChars","encodeCache","keepEscaped","getEncodeCache","nextCode","Url","slashes","auth","port","hash","pathname","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","hostlessProtocol","javascript","slashedProtocol","https","ftp","gopher","file","slashesDenoteHost","lowerProto","hec","simplePath","atSign","hostEnd","host","parseHost","ipv6Hostname","hostparts","part","newpart","validParts","notHost","bit","qm"],"ignoreList":[],"sourceRoot":""}